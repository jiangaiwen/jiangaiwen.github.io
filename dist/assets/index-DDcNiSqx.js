
    /**
     * 由 Fantastic-admin 提供技术支持
     * Powered by Fantastic-admin
     * Gitee  https://fantastic-admin.gitee.io
     * Github https://fantastic-admin.github.io
     */
    
import{_ as w,n as I,c as q,H as D,d as N,r as T,M as A,k as c,B as k,g as u,e as d,f as n,i,q as r,S as $,p as B,l as U}from"./index-C-3tFKuV.js";let g=0;const y="webkit moz ms o".split(" ");let p,m;const R=typeof window>"u";if(R)p=function(){},m=function(){};else{p=window.requestAnimationFrame,m=window.cancelAnimationFrame;let l;for(let s=0;s<y.length&&!(p&&m);s++)l=y[s],p=p||window[l+"RequestAnimationFrame"],m=m||window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"];(!p||!m)&&(p=function(s){const t=new Date().getTime(),o=Math.max(0,16-(t-g)),f=window.setTimeout(()=>{s(t+o)},o);return g=t+o,f},m=function(s){window.clearTimeout(s)})}const M={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2024},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator(l){return l>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default(l,s,t,o){return t*(-Math.pow(2,-10*l/o)+1)*1024/1023+s}}},data(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown(){return this.startVal>this.endVal}},watch:{startVal(){this.autoplay&&this.start()},endVal(){this.autoplay&&this.start()}},mounted(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=p(this.count)},pauseResume(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause(){m(this.rAF)},resume(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,p(this.count)},reset(){this.startTime=null,m(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count(l){this.startTime||(this.startTime=l),this.timestamp=l;const s=l-this.startTime;this.remaining=this.localDuration-s,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(s,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(s,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(s/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(s/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),s<this.localDuration?this.rAF=p(this.count):this.$emit("callback")},isNumber(l){return!isNaN(parseFloat(l))},formatNumber(l){l=l.toFixed(this.decimals),l+="";const s=l.split(".");let t=s[0];const o=s.length>1?this.decimal+s[1]:"",f=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;f.test(t);)t=t.replace(f,"$1"+this.separator+"$2");return this.prefix+t+o+this.suffix}},destroyed(){m(this.rAF)}};function E(l,s,t,o,f,b){return I(),q("span",null,D(f.displayValue),1)}const z=w(M,[["render",E]]),H=l=>(B("data-v-a94deb19"),l=l(),U(),l),P={class:"app-container"},j={class:"app-container-inner"},G={style:{"margin-top":"40px","margin-bottom":"30px"}},J={class:"label"},K={class:"label"},L={class:"label"},O=H(()=>d("br",null,null,-1)),Q={class:"label"},W={class:"label"},X={class:"label"},Y={class:"label"},Z=N({__name:"index",setup(l){const s=T();let t=A({startValInput:0,endValInput:8888,durationInput:2e3,decimals:1,prefix:"价钱：",suffix:"元",separator:","});const o=(S,e)=>{},f=()=>{s.value.start()},b=()=>{s.value.pauseResume()};return(S,e)=>{const F=z,V=c("el-input-number"),_=c("el-input"),x=c("el-button"),h=c("el-descriptions-item"),C=c("el-descriptions"),v=$;return I(),k(v,null,{default:u(()=>[d("div",P,[d("div",j,[n(F,{ref_key:"example",ref:s,class:"count-to","start-val":i(t).startValInput,"end-val":i(t).endValInput,duration:i(t).durationInput,decimals:i(t).decimals,prefix:i(t).prefix,suffix:i(t).suffix,autoplay:!0,separator:i(t).separator},null,8,["start-val","end-val","duration","decimals","prefix","suffix","separator"]),d("div",G,[d("label",J,[r("起始值: "),n(V,{modelValue:i(t).startValInput,"onUpdate:modelValue":e[0]||(e[0]=a=>i(t).startValInput=a),onChange:e[1]||(e[1]=a=>o(a,"startValInput")),min:0,label:"描述文字"},null,8,["modelValue"])]),d("label",K,[r("最终值: "),n(V,{modelValue:i(t).endValInput,"onUpdate:modelValue":e[2]||(e[2]=a=>i(t).endValInput=a),onChange:e[3]||(e[3]=a=>o(a,"endValInput")),min:1,label:"描述文字"},null,8,["modelValue"])]),d("label",L,[r("持续时间: "),n(V,{modelValue:i(t).durationInput,"onUpdate:modelValue":e[4]||(e[4]=a=>i(t).durationInput=a),onChange:e[5]||(e[5]=a=>o(a,"durationInput")),min:1,label:"描述文字"},null,8,["modelValue"])]),O,d("label",Q,[r("小数位数: "),n(V,{modelValue:i(t).decimals,"onUpdate:modelValue":e[6]||(e[6]=a=>i(t).decimals=a),onChange:e[7]||(e[7]=a=>o(a,"decimals")),min:0,label:"描述文字"},null,8,["modelValue"])]),d("label",W,[r(" 分隔符:"),n(_,{modelValue:i(t).separator,"onUpdate:modelValue":e[8]||(e[8]=a=>i(t).separator=a),onChange:e[9]||(e[9]=a=>o(a,"prefix")),style:{width:"100px","margin-left":"10px"}},null,8,["modelValue"])]),d("label",X,[r(" 前缀:"),n(_,{modelValue:i(t).prefix,"onUpdate:modelValue":e[10]||(e[10]=a=>i(t).prefix=a),onChange:e[11]||(e[11]=a=>o(a,"prefix")),style:{width:"100px","margin-left":"10px"}},null,8,["modelValue"])]),d("label",Y,[r("后缀: "),n(_,{modelValue:i(t).suffix,"onUpdate:modelValue":e[12]||(e[12]=a=>i(t).suffix=a),onChange:e[13]||(e[13]=a=>o(a,"suffix")),style:{width:"100px","margin-left":"10px"}},null,8,["modelValue"])]),n(x,{type:"primary",onClick:f},{default:u(()=>[r("开始")]),_:1}),n(x,{type:"danger",onClick:b},{default:u(()=>[r("暂停/恢复")]),_:1})]),n(C,{title:"配置项 ",column:1,border:"",class:"descriptions"},{default:u(()=>[n(h,{label:"startValInput"},{default:u(()=>[r(" 起始值，默认为0 ")]),_:1}),n(h,{label:"endValInput"},{default:u(()=>[r(" 最终值，默认为2024 ")]),_:1}),n(h,{label:"durationInput"},{default:u(()=>[r(" 持续时间，默认为3000 ")]),_:1}),n(h,{label:"decimals"},{default:u(()=>[r(" 小数位数 ")]),_:1}),n(h,{label:"separator"},{default:u(()=>[r(" 分隔符，默认为 ',' ")]),_:1}),n(h,{label:"prefix"},{default:u(()=>[r(" 前缀 ")]),_:1}),n(h,{label:"suffix"},{default:u(()=>[r(" 后缀 ")]),_:1})]),_:1})])])]),_:1})}}}),et=w(Z,[["__scopeId","data-v-a94deb19"]]);export{et as default};
