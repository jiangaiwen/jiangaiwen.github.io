
    /**
     * 由 Fantastic-admin 提供技术支持
     * Powered by Fantastic-admin
     * Gitee  https://fantastic-admin.gitee.io
     * Github https://fantastic-admin.github.io
     */
    
import{J as ax,d as ug,r as Ya,n as wr,c as Qu,a3 as T0,a8 as D0,e as xs,F as Kv,A as ux,H as cx,i as Ro,_ as cg,o as N0,k as ua,w as Zm,f as Ga,g as ca,a9 as sx,B as Ri,S as lx,p as fx,l as px}from"./index-C-3tFKuV.js";import{l as C0}from"./lodash.default-CrZrZLP4.js";import{BpmnNode as dx}from"./index-D9iRyWmq.js";var qv={exports:{}};(function(b,y){(function(s,p){b.exports=p()})(window,function(){return function(s){var p={};function o(f){if(p[f])return p[f].exports;var d=p[f]={i:f,l:!1,exports:{}};return s[f].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=s,o.c=p,o.d=function(f,d,O){o.o(f,d)||Object.defineProperty(f,d,{enumerable:!0,get:O})},o.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},o.t=function(f,d){if(1&d&&(f=o(f)),8&d||4&d&&typeof f=="object"&&f&&f.__esModule)return f;var O=Object.create(null);if(o.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:f}),2&d&&typeof f!="string")for(var v in f)o.d(O,v,(function(E){return f[E]}).bind(null,v));return O},o.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return o.d(d,"a",d),d},o.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},o.p="",o(o.s=222)}([function(s,p,o){o.d(p,"a",function(){return ee}),o.d(p,"b",function(){return ue}),o.d(p,"c",function(){return Ze}),o.d(p,"d",function(){return gt}),o.d(p,"e",function(){return H}),o.d(p,"f",function(){return te}),o.d(p,"g",function(){return H}),o.d(p,"h",function(){return We}),o.d(p,"i",function(){return d}),o.d(p,"j",function(){return Ot}),o.d(p,"k",function(){return K});var f,d,O,v,E,M,A,D={},k=[],I=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(ce,ae){for(var he in ae)ce[he]=ae[he];return ce}function L(ce){var ae=ce.parentNode;ae&&ae.removeChild(ce)}function H(ce,ae,he){var Te,Ue,ze,wt={};for(ze in ae)ze=="key"?Te=ae[ze]:ze=="ref"?Ue=ae[ze]:wt[ze]=ae[ze];if(arguments.length>2&&(wt.children=arguments.length>3?f.call(arguments,2):he),typeof ce=="function"&&ce.defaultProps!=null)for(ze in ce.defaultProps)wt[ze]===void 0&&(wt[ze]=ce.defaultProps[ze]);return V(ce,wt,Te,Ue,null)}function V(ce,ae,he,Te,Ue){var ze={type:ce,props:ae,key:he,ref:Te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ue??++O};return Ue==null&&d.vnode!=null&&d.vnode(ze),ze}function te(){return{current:null}}function ue(ce){return ce.children}function ee(ce,ae){this.props=ce,this.context=ae}function J(ce,ae){if(ae==null)return ce.__?J(ce.__,ce.__.__k.indexOf(ce)+1):null;for(var he;ae<ce.__k.length;ae++)if((he=ce.__k[ae])!=null&&he.__e!=null)return he.__e;return typeof ce.type=="function"?J(ce):null}function Q(ce){var ae,he;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,ae=0;ae<ce.__k.length;ae++)if((he=ce.__k[ae])!=null&&he.__e!=null){ce.__e=ce.__c.base=he.__e;break}return Q(ce)}}function W(ce){(!ce.__d&&(ce.__d=!0)&&v.push(ce)&&!B.__r++||M!==d.debounceRendering)&&((M=d.debounceRendering)||E)(B)}function B(){for(var ce;B.__r=v.length;)ce=v.sort(function(ae,he){return ae.__v.__b-he.__v.__b}),v=[],ce.some(function(ae){var he,Te,Ue,ze,wt,Tt;ae.__d&&(wt=(ze=(he=ae).__v).__e,(Tt=he.__P)&&(Te=[],(Ue=C({},ze)).__v=ze.__v+1,je(Tt,ze,Ue,he.__n,Tt.ownerSVGElement!==void 0,ze.__h!=null?[wt]:null,Te,wt??J(ze),ze.__h),ve(Te,ze),ze.__e!=wt&&Q(ze)))})}function U(ce,ae,he,Te,Ue,ze,wt,Tt,St,yt){var Me,st,le,it,Lt,on,zt,Zt=Te&&Te.__k||k,fn=Zt.length;for(he.__k=[],Me=0;Me<ae.length;Me++)if((it=he.__k[Me]=(it=ae[Me])==null||typeof it=="boolean"?null:typeof it=="string"||typeof it=="number"||typeof it=="bigint"?V(null,it,null,null,it):Array.isArray(it)?V(ue,{children:it},null,null,null):it.__b>0?V(it.type,it.props,it.key,null,it.__v):it)!=null){if(it.__=he,it.__b=he.__b+1,(le=Zt[Me])===null||le&&it.key==le.key&&it.type===le.type)Zt[Me]=void 0;else for(st=0;st<fn;st++){if((le=Zt[st])&&it.key==le.key&&it.type===le.type){Zt[st]=void 0;break}le=null}je(ce,it,le=le||D,Ue,ze,wt,Tt,St,yt),Lt=it.__e,(st=it.ref)&&le.ref!=st&&(zt||(zt=[]),le.ref&&zt.push(le.ref,null,it),zt.push(st,it.__c||Lt,it)),Lt!=null?(on==null&&(on=Lt),typeof it.type=="function"&&it.__k===le.__k?it.__d=St=Y(it,St,ce):St=ie(ce,it,le,Zt,Lt,St),typeof he.type=="function"&&(he.__d=St)):St&&le.__e==St&&St.parentNode!=ce&&(St=J(le))}for(he.__e=on,Me=fn;Me--;)Zt[Me]!=null&&(typeof he.type=="function"&&Zt[Me].__e!=null&&Zt[Me].__e==he.__d&&(he.__d=J(Te,Me+1)),Xe(Zt[Me],Zt[Me]));if(zt)for(Me=0;Me<zt.length;Me++)Ae(zt[Me],zt[++Me],zt[++Me])}function Y(ce,ae,he){for(var Te,Ue=ce.__k,ze=0;Ue&&ze<Ue.length;ze++)(Te=Ue[ze])&&(Te.__=ce,ae=typeof Te.type=="function"?Y(Te,ae,he):ie(he,Te,Te,Ue,Te.__e,ae));return ae}function K(ce,ae){return ae=ae||[],ce==null||typeof ce=="boolean"||(Array.isArray(ce)?ce.some(function(he){K(he,ae)}):ae.push(ce)),ae}function ie(ce,ae,he,Te,Ue,ze){var wt,Tt,St;if(ae.__d!==void 0)wt=ae.__d,ae.__d=void 0;else if(he==null||Ue!=ze||Ue.parentNode==null)e:if(ze==null||ze.parentNode!==ce)ce.appendChild(Ue),wt=null;else{for(Tt=ze,St=0;(Tt=Tt.nextSibling)&&St<Te.length;St+=2)if(Tt==Ue)break e;ce.insertBefore(Ue,ze),wt=ze}return wt!==void 0?wt:Ue.nextSibling}function xe(ce,ae,he){ae[0]==="-"?ce.setProperty(ae,he):ce[ae]=he==null?"":typeof he!="number"||I.test(ae)?he:he+"px"}function ge(ce,ae,he,Te,Ue){var ze;e:if(ae==="style")if(typeof he=="string")ce.style.cssText=he;else{if(typeof Te=="string"&&(ce.style.cssText=Te=""),Te)for(ae in Te)he&&ae in he||xe(ce.style,ae,"");if(he)for(ae in he)Te&&he[ae]===Te[ae]||xe(ce.style,ae,he[ae])}else if(ae[0]==="o"&&ae[1]==="n")ze=ae!==(ae=ae.replace(/Capture$/,"")),ae=ae.toLowerCase()in ce?ae.toLowerCase().slice(2):ae.slice(2),ce.l||(ce.l={}),ce.l[ae+ze]=he,he?Te||ce.addEventListener(ae,ze?Be:Pe,ze):ce.removeEventListener(ae,ze?Be:Pe,ze);else if(ae!=="dangerouslySetInnerHTML"){if(Ue)ae=ae.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ae!=="href"&&ae!=="list"&&ae!=="form"&&ae!=="tabIndex"&&ae!=="download"&&ae in ce)try{ce[ae]=he??"";break e}catch{}typeof he=="function"||(he!=null&&(he!==!1||ae[0]==="a"&&ae[1]==="r")?ce.setAttribute(ae,he):ce.removeAttribute(ae))}}function Pe(ce){this.l[ce.type+!1](d.event?d.event(ce):ce)}function Be(ce){this.l[ce.type+!0](d.event?d.event(ce):ce)}function je(ce,ae,he,Te,Ue,ze,wt,Tt,St){var yt,Me,st,le,it,Lt,on,zt,Zt,fn,_n,Ct=ae.type;if(ae.constructor!==void 0)return null;he.__h!=null&&(St=he.__h,Tt=ae.__e=he.__e,ae.__h=null,ze=[Tt]),(yt=d.__b)&&yt(ae);try{e:if(typeof Ct=="function"){if(zt=ae.props,Zt=(yt=Ct.contextType)&&Te[yt.__c],fn=yt?Zt?Zt.props.value:yt.__:Te,he.__c?on=(Me=ae.__c=he.__c).__=Me.__E:("prototype"in Ct&&Ct.prototype.render?ae.__c=Me=new Ct(zt,fn):(ae.__c=Me=new ee(zt,fn),Me.constructor=Ct,Me.render=rt),Zt&&Zt.sub(Me),Me.props=zt,Me.state||(Me.state={}),Me.context=fn,Me.__n=Te,st=Me.__d=!0,Me.__h=[]),Me.__s==null&&(Me.__s=Me.state),Ct.getDerivedStateFromProps!=null&&(Me.__s==Me.state&&(Me.__s=C({},Me.__s)),C(Me.__s,Ct.getDerivedStateFromProps(zt,Me.__s))),le=Me.props,it=Me.state,st)Ct.getDerivedStateFromProps==null&&Me.componentWillMount!=null&&Me.componentWillMount(),Me.componentDidMount!=null&&Me.__h.push(Me.componentDidMount);else{if(Ct.getDerivedStateFromProps==null&&zt!==le&&Me.componentWillReceiveProps!=null&&Me.componentWillReceiveProps(zt,fn),!Me.__e&&Me.shouldComponentUpdate!=null&&Me.shouldComponentUpdate(zt,Me.__s,fn)===!1||ae.__v===he.__v){Me.props=zt,Me.state=Me.__s,ae.__v!==he.__v&&(Me.__d=!1),Me.__v=ae,ae.__e=he.__e,ae.__k=he.__k,ae.__k.forEach(function(Dn){Dn&&(Dn.__=ae)}),Me.__h.length&&wt.push(Me);break e}Me.componentWillUpdate!=null&&Me.componentWillUpdate(zt,Me.__s,fn),Me.componentDidUpdate!=null&&Me.__h.push(function(){Me.componentDidUpdate(le,it,Lt)})}Me.context=fn,Me.props=zt,Me.state=Me.__s,(yt=d.__r)&&yt(ae),Me.__d=!1,Me.__v=ae,Me.__P=ce,yt=Me.render(Me.props,Me.state,Me.context),Me.state=Me.__s,Me.getChildContext!=null&&(Te=C(C({},Te),Me.getChildContext())),st||Me.getSnapshotBeforeUpdate==null||(Lt=Me.getSnapshotBeforeUpdate(le,it)),_n=yt!=null&&yt.type===ue&&yt.key==null?yt.props.children:yt,U(ce,Array.isArray(_n)?_n:[_n],ae,he,Te,Ue,ze,wt,Tt,St),Me.base=ae.__e,ae.__h=null,Me.__h.length&&wt.push(Me),on&&(Me.__E=Me.__=null),Me.__e=!1}else ze==null&&ae.__v===he.__v?(ae.__k=he.__k,ae.__e=he.__e):ae.__e=Se(he.__e,ae,he,Te,Ue,ze,wt,St);(yt=d.diffed)&&yt(ae)}catch(Dn){ae.__v=null,(St||ze!=null)&&(ae.__e=Tt,ae.__h=!!St,ze[ze.indexOf(Tt)]=null),d.__e(Dn,ae,he)}}function ve(ce,ae){d.__c&&d.__c(ae,ce),ce.some(function(he){try{ce=he.__h,he.__h=[],ce.some(function(Te){Te.call(he)})}catch(Te){d.__e(Te,he.__v)}})}function Se(ce,ae,he,Te,Ue,ze,wt,Tt){var St,yt,Me,st=he.props,le=ae.props,it=ae.type,Lt=0;if(it==="svg"&&(Ue=!0),ze!=null){for(;Lt<ze.length;Lt++)if((St=ze[Lt])&&"setAttribute"in St==!!it&&(it?St.localName===it:St.nodeType===3)){ce=St,ze[Lt]=null;break}}if(ce==null){if(it===null)return document.createTextNode(le);ce=Ue?document.createElementNS("http://www.w3.org/2000/svg",it):document.createElement(it,le.is&&le),ze=null,Tt=!1}if(it===null)st===le||Tt&&ce.data===le||(ce.data=le);else{if(ze=ze&&f.call(ce.childNodes),yt=(st=he.props||D).dangerouslySetInnerHTML,Me=le.dangerouslySetInnerHTML,!Tt){if(ze!=null)for(st={},Lt=0;Lt<ce.attributes.length;Lt++)st[ce.attributes[Lt].name]=ce.attributes[Lt].value;(Me||yt)&&(Me&&(yt&&Me.__html==yt.__html||Me.__html===ce.innerHTML)||(ce.innerHTML=Me&&Me.__html||""))}if(function(on,zt,Zt,fn,_n){var Ct;for(Ct in Zt)Ct==="children"||Ct==="key"||Ct in zt||ge(on,Ct,null,Zt[Ct],fn);for(Ct in zt)_n&&typeof zt[Ct]!="function"||Ct==="children"||Ct==="key"||Ct==="value"||Ct==="checked"||Zt[Ct]===zt[Ct]||ge(on,Ct,zt[Ct],Zt[Ct],fn)}(ce,le,st,Ue,Tt),Me)ae.__k=[];else if(Lt=ae.props.children,U(ce,Array.isArray(Lt)?Lt:[Lt],ae,he,Te,Ue&&it!=="foreignObject",ze,wt,ze?ze[0]:he.__k&&J(he,0),Tt),ze!=null)for(Lt=ze.length;Lt--;)ze[Lt]!=null&&L(ze[Lt]);Tt||("value"in le&&(Lt=le.value)!==void 0&&(Lt!==st.value||Lt!==ce.value||it==="progress"&&!Lt)&&ge(ce,"value",Lt,st.value,!1),"checked"in le&&(Lt=le.checked)!==void 0&&Lt!==ce.checked&&ge(ce,"checked",Lt,st.checked,!1))}return ce}function Ae(ce,ae,he){try{typeof ce=="function"?ce(ae):ce.current=ae}catch(Te){d.__e(Te,he)}}function Xe(ce,ae,he){var Te,Ue;if(d.unmount&&d.unmount(ce),(Te=ce.ref)&&(Te.current&&Te.current!==ce.__e||Ae(Te,null,ae)),(Te=ce.__c)!=null){if(Te.componentWillUnmount)try{Te.componentWillUnmount()}catch(ze){d.__e(ze,ae)}Te.base=Te.__P=null}if(Te=ce.__k)for(Ue=0;Ue<Te.length;Ue++)Te[Ue]&&Xe(Te[Ue],ae,typeof ce.type!="function");he||ce.__e==null||L(ce.__e),ce.__e=ce.__d=void 0}function rt(ce,ae,he){return this.constructor(ce,he)}function Ot(ce,ae,he){var Te,Ue,ze;d.__&&d.__(ce,ae),Ue=(Te=typeof he=="function")?null:he&&he.__k||ae.__k,ze=[],je(ae,ce=(!Te&&he||ae).__k=H(ue,null,[ce]),Ue||D,D,ae.ownerSVGElement!==void 0,!Te&&he?[he]:Ue?null:ae.firstChild?f.call(ae.childNodes):null,ze,!Te&&he?he:Ue?Ue.__e:ae.firstChild,Te),ve(ze,ce)}function We(ce,ae){Ot(ce,ae,We)}function Ze(ce,ae,he){var Te,Ue,ze,wt=C({},ce.props);for(ze in ae)ze=="key"?Te=ae[ze]:ze=="ref"?Ue=ae[ze]:wt[ze]=ae[ze];return arguments.length>2&&(wt.children=arguments.length>3?f.call(arguments,2):he),V(ce.type,wt,Te||ce.key,Ue||ce.ref,null)}function gt(ce,ae){var he={__c:ae="__cC"+A++,__:ce,Consumer:function(Te,Ue){return Te.children(Ue)},Provider:function(Te){var Ue,ze;return this.getChildContext||(Ue=[],(ze={})[ae]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(wt){this.props.value!==wt.value&&Ue.some(W)},this.sub=function(wt){Ue.push(wt);var Tt=wt.componentWillUnmount;wt.componentWillUnmount=function(){Ue.splice(Ue.indexOf(wt),1),Tt&&Tt.call(wt)}}),Te.children}};return he.Provider.__=he.Consumer.contextType=he}f=k.slice,d={__e:function(ce,ae){for(var he,Te,Ue;ae=ae.__;)if((he=ae.__c)&&!he.__)try{if((Te=he.constructor)&&Te.getDerivedStateFromError!=null&&(he.setState(Te.getDerivedStateFromError(ce)),Ue=he.__d),he.componentDidCatch!=null&&(he.componentDidCatch(ce),Ue=he.__d),Ue)return he.__E=he}catch(ze){ce=ze}throw ce}},O=0,ee.prototype.setState=function(ce,ae){var he;he=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof ce=="function"&&(ce=ce(C({},he),this.props)),ce&&C(he,ce),ce!=null&&this.__v&&(ae&&this.__h.push(ae),W(this))},ee.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),W(this))},ee.prototype.render=ue,v=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,A=0},function(s,p,o){(function(f,d){o.d(p,"a",function(){return W}),o.d(p,"b",function(){return pu}),o.d(p,"c",function(){return Vr}),o.d(p,"d",function(){return xt}),o.d(p,"e",function(){return $e}),o.d(p,"f",function(){return Ve}),o.d(p,"g",function(){return mt}),o.d(p,"h",function(){return co}),o.d(p,"i",function(){return _n}),o.d(p,"j",function(){return at}),o.d(p,"k",function(){return mo}),o.d(p,"l",function(){return nu}),o.d(p,"m",function(){return on}),o.d(p,"n",function(){return ui}),o.d(p,"o",function(){return Y}),o.d(p,"p",function(){return cc}),o.d(p,"q",function(){return _o}),o.d(p,"r",function(){return fa}),o.d(p,"s",function(){return Ir}),o.d(p,"t",function(){return kn}),o.d(p,"u",function(){return la}),o.d(p,"v",function(){return uc}),o.d(p,"w",function(){return uu}),o.d(p,"x",function(){return ci}),o.d(p,"y",function(){return Rr}),o.d(p,"z",function(){return Cn}),o.d(p,"A",function(){return mr}),o.d(p,"B",function(){return ro}),o.d(p,"C",function(){return yt}),o.d(p,"D",function(){return sc}),o.d(p,"E",function(){return an}),o.d(p,"F",function(){return un}),o.d(p,"G",function(){return eu}),o.d(p,"H",function(){return Qa}),o.d(p,"I",function(){return cu}),o.d(p,"J",function(){return Yn}),o.d(p,"K",function(){return pe}),o.d(p,"L",function(){return vn}),o.d(p,"M",function(){return da});var O=[];Object.freeze(O);var v={};function E(){return++lt.mobxGuid}function M(_){throw A(!1,_),"X"}function A(_,w){if(!_)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function D(_){var w=!1;return function(){if(!w)return w=!0,_.apply(this,arguments)}}var k=function(){};function I(_){return _!==null&&typeof _=="object"}function C(_){if(_===null||typeof _!="object")return!1;var w=Object.getPrototypeOf(_);return w===Object.prototype||w===null}function L(_,w,P){Object.defineProperty(_,w,{enumerable:!1,writable:!0,configurable:!0,value:P})}function H(_,w){var P="isMobX"+_;return w.prototype[P]=!0,function(z){return I(z)&&z[P]===!0}}function V(_){return _ instanceof Map}function te(_){return _ instanceof Set}function ue(_){var w=new Set;for(var P in _)w.add(P);return Object.getOwnPropertySymbols(_).forEach(function(z){Object.getOwnPropertyDescriptor(_,z).enumerable&&w.add(z)}),Array.from(w)}function ee(_){return _&&_.toString?_.toString():new String(_).toString()}function J(_){return _===null?null:typeof _=="object"?""+_:_}var Q=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:Object.getOwnPropertyNames,W=Symbol("mobx administration"),B=function(){function _(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=st.NOT_TRACKING}return _.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.reportObserved=function(){return sa(this)},_.prototype.reportChanged=function(){hr(),function(w){w.lowestObserverState!==st.STALE&&(w.lowestObserverState=st.STALE,w.observers.forEach(function(P){P.dependenciesState===st.UP_TO_DATE&&(P.isTracing!==le.NONE&&Wr(P,w),P.onBecomeStale()),P.dependenciesState=st.STALE}))}(this),xr()},_.prototype.toString=function(){return this.name},_}(),U=H("Atom",B);function Y(_,w,P){w===void 0&&(w=k),P===void 0&&(P=k);var z,$=new B(_);return w!==k&&ic("onBecomeObserved",$,w,z),P!==k&&an($,P),$}var K={identity:function(_,w){return _===w},structural:function(_,w){return De(_,w)},default:function(_,w){return Object.is(_,w)},shallow:function(_,w){return De(_,w,1)}},ie=function(_,w){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,z){P.__proto__=z}||function(P,z){for(var $ in z)z.hasOwnProperty($)&&(P[$]=z[$])},ie(_,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var xe=function(){return xe=Object.assign||function(_){for(var w,P=1,z=arguments.length;P<z;P++)for(var $ in w=arguments[P])Object.prototype.hasOwnProperty.call(w,$)&&(_[$]=w[$]);return _},xe.apply(this,arguments)};function ge(_){var w=typeof Symbol=="function"&&_[Symbol.iterator],P=0;return w?w.call(_):{next:function(){return _&&P>=_.length&&(_=void 0),{value:_&&_[P++],done:!_}}}}function Pe(_,w){var P=typeof Symbol=="function"&&_[Symbol.iterator];if(!P)return _;var z,$,fe=P.call(_),Ee=[];try{for(;(w===void 0||w-- >0)&&!(z=fe.next()).done;)Ee.push(z.value)}catch(Fe){$={error:Fe}}finally{try{z&&!z.done&&(P=fe.return)&&P.call(fe)}finally{if($)throw $.error}}return Ee}function Be(){for(var _=[],w=0;w<arguments.length;w++)_=_.concat(Pe(arguments[w]));return _}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Se={},Ae={};function Xe(_,w){var P=w?Se:Ae;return P[_]||(P[_]={configurable:!0,enumerable:w,get:function(){return rt(this),this[_]},set:function(z){rt(this),this[_]=z}})}function rt(_){var w,P;if(_[je]!==!0){var z=_[ve];if(z){L(_,je,!0);var $=Be(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var fe=ge($),Ee=fe.next();!Ee.done;Ee=fe.next()){var Fe=z[Ee.value];Fe.propertyCreator(_,Fe.prop,Fe.descriptor,Fe.decoratorTarget,Fe.decoratorArguments)}}catch(ut){w={error:ut}}finally{try{Ee&&!Ee.done&&(P=fe.return)&&P.call(fe)}finally{if(w)throw w.error}}}}}function Ot(_,w){return function(){var P,z=function($,fe,Ee,Fe){if(Fe===!0)return w($,fe,Ee,$,P),null;if(!Object.prototype.hasOwnProperty.call($,ve)){var ut=$[ve];L($,ve,xe({},ut))}return $[ve][fe]={prop:fe,propertyCreator:w,descriptor:Ee,decoratorTarget:$,decoratorArguments:P},Xe(fe,_)};return We(arguments)?(P=O,z.apply(null,arguments)):(P=Array.prototype.slice.call(arguments),z)}}function We(_){return(_.length===2||_.length===3)&&(typeof _[1]=="string"||typeof _[1]=="symbol")||_.length===4&&_[3]===!0}function Ze(_,w,P){return ci(_)?_:Array.isArray(_)?yt.array(_,{name:P}):C(_)?yt.object(_,void 0,{name:P}):V(_)?yt.map(_,{name:P}):te(_)?yt.set(_,{name:P}):_}function gt(_){return _}function ce(_){A(_);var w=Ot(!0,function(z,$,fe,Ee,Fe){var ut=fe?fe.initializer?fe.initializer.call(z):fe.value:void 0;Er(z).addObservableProp($,ut,_)}),P=(f!==void 0&&f.env,w);return P.enhancer=_,P}var ae={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function he(_){return _==null?ae:typeof _=="string"?{name:_,deep:!0,proxy:!0}:_}Object.freeze(ae);var Te=ce(Ze),Ue=ce(function(_,w,P){return _==null||mr(_)||Rr(_)||Cn(_)||sr(_)?_:Array.isArray(_)?yt.array(_,{name:P,deep:!1}):C(_)?yt.object(_,void 0,{name:P,deep:!1}):V(_)?yt.map(_,{name:P,deep:!1}):te(_)?yt.set(_,{name:P,deep:!1}):M(!1)}),ze=ce(gt),wt=ce(function(_,w,P){return De(_,w)?w:_});function Tt(_){return _.defaultDecorator?_.defaultDecorator.enhancer:_.deep===!1?gt:Ze}var St={box:function(_,w){arguments.length>2&&Me("box");var P=he(w);return new jn(_,Tt(P),P.name,!0,P.equals)},array:function(_,w){arguments.length>2&&Me("array");var P=he(w);return Fi(_,Tt(P),P.name)},map:function(_,w){arguments.length>2&&Me("map");var P=he(w);return new pu(_,Tt(P),P.name)},set:function(_,w){arguments.length>2&&Me("set");var P=he(w);return new ao(_,Tt(P),P.name)},object:function(_,w,P){typeof arguments[1]=="string"&&Me("object");var z=he(P);if(z.proxy===!1)return _o({},_,w,z);var $=ru(z),fe=_o({},void 0,void 0,z),Ee=si(fe);return ac(Ee,_,w,$),Ee},ref:ze,shallow:Ue,deep:Te,struct:wt},yt=function(_,w,P){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Te.apply(null,arguments);if(ci(_))return _;var z=C(_)?yt.object(_,w,P):Array.isArray(_)?yt.array(_,w):V(_)?yt.map(_,w):te(_)?yt.set(_,w):_;if(z!==_)return z;M(!1)};function Me(_){M("Expected one or two arguments to observable."+_+". Did you accidentally try to use observable."+_+" as decorator?")}Object.keys(St).forEach(function(_){return yt[_]=St[_]});var st,le,it=Ot(!1,function(_,w,P,z,$){var fe=P.get,Ee=P.set,Fe=$[0]||{};Er(_).addComputedProp(_,w,xe({get:fe,set:Ee,context:_},Fe))}),Lt=it({equals:K.structural}),on=function(_,w,P){if(typeof w=="string"||_!==null&&typeof _=="object"&&arguments.length===1)return it.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=_,z.set=typeof w=="function"?w:z.set,z.name=z.name||_.name||"",new no(z)};on.struct=Lt,function(_){_[_.NOT_TRACKING=-1]="NOT_TRACKING",_[_.UP_TO_DATE=0]="UP_TO_DATE",_[_.POSSIBLY_STALE=1]="POSSIBLY_STALE",_[_.STALE=2]="STALE"}(st||(st={})),function(_){_[_.NONE=0]="NONE",_[_.LOG=1]="LOG",_[_.BREAK=2]="BREAK"}(le||(le={}));var zt=function(_){this.cause=_};function Zt(_){return _ instanceof zt}function fn(_){switch(_.dependenciesState){case st.UP_TO_DATE:return!1;case st.NOT_TRACKING:case st.STALE:return!0;case st.POSSIBLY_STALE:for(var w=Ve(!0),P=oe(),z=_.observing,$=z.length,fe=0;fe<$;fe++){var Ee=z[fe];if(bo(Ee)){if(lt.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch{return me(P),$e(w),!0}if(_.dependenciesState===st.STALE)return me(P),$e(w),!0}}return ft(_),me(P),$e(w),!1}}function _n(){return lt.trackingDerivation!==null}function Ct(_){var w=_.observers.size>0;lt.computationDepth>0&&w&&M(!1),lt.allowStateChanges||!w&&lt.enforceActions!=="strict"||M(!1)}function Dn(_,w,P){var z=Ve(!0);ft(_),_.newObserving=new Array(_.observing.length+100),_.unboundDepsCount=0,_.runId=++lt.runId;var $,fe=lt.trackingDerivation;if(lt.trackingDerivation=_,lt.disableErrorBoundaries===!0)$=w.call(P);else try{$=w.call(P)}catch(Ee){$=new zt(Ee)}return lt.trackingDerivation=fe,function(Ee){for(var Fe=Ee.observing,ut=Ee.observing=Ee.newObserving,Yt=st.UP_TO_DATE,et=0,pn=Ee.unboundDepsCount,Ft=0;Ft<pn;Ft++)(nn=ut[Ft]).diffValue===0&&(nn.diffValue=1,et!==Ft&&(ut[et]=nn),et++),nn.dependenciesState>Yt&&(Yt=nn.dependenciesState);for(ut.length=et,Ee.newObserving=null,pn=Fe.length;pn--;)(nn=Fe[pn]).diffValue===0&&Ka(nn,Ee),nn.diffValue=0;for(;et--;){var nn;(nn=ut[et]).diffValue===1&&(nn.diffValue=0,Ps(nn,Ee))}Yt!==st.UP_TO_DATE&&(Ee.dependenciesState=Yt,Ee.onBecomeStale())}(_),$e(z),$}function q(_){var w=_.observing;_.observing=[];for(var P=w.length;P--;)Ka(w[P],_);_.dependenciesState=st.NOT_TRACKING}function pe(_){var w=oe();try{return _()}finally{me(w)}}function oe(){var _=lt.trackingDerivation;return lt.trackingDerivation=null,_}function me(_){lt.trackingDerivation=_}function Ve(_){var w=lt.allowStateReads;return lt.allowStateReads=_,w}function $e(_){lt.allowStateReads=_}function ft(_){if(_.dependenciesState!==st.UP_TO_DATE){_.dependenciesState=st.UP_TO_DATE;for(var w=_.observing,P=w.length;P--;)w[P].lowestObserverState=st.UP_TO_DATE}}var Ut=0,Gn=1,Jn=Object.getOwnPropertyDescriptor(function(){},"name");Jn&&Jn.configurable;function Nn(_,w,P){var z=function(){return Ln(_,w,P||this,arguments)};return z.isMobxAction=!0,z}function Ln(_,w,P,z){var $=at();try{return w.apply(P,z)}catch(fe){throw $.error=fe,fe}finally{mt($)}}function at(_,w,P){var z=0,$=oe();hr();var fe={prevDerivation:$,prevAllowStateChanges:Rt(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:z,actionId:Gn++,parentActionId:Ut};return Ut=fe.actionId,fe}function mt(_){Ut!==_.actionId&&M("invalid action stack. did you forget to finish an action?"),Ut=_.parentActionId,_.error!==void 0&&(lt.suppressReactionErrors=!0),sn(_.prevAllowStateChanges),$e(_.prevAllowStateReads),xr(),me(_.prevDerivation),_.notifySpy,lt.suppressReactionErrors=!1}function xt(_,w){var P,z=Rt(_);try{P=w()}finally{sn(z)}return P}function Rt(_){var w=lt.allowStateChanges;return lt.allowStateChanges=_,w}function sn(_){lt.allowStateChanges=_}var jn=function(_){function w(P,z,$,fe,Ee){$===void 0&&($="ObservableValue@"+E()),Ee===void 0&&(Ee=K.default);var Fe=_.call(this,$)||this;return Fe.enhancer=z,Fe.name=$,Fe.equals=Ee,Fe.hasUnreportedChange=!1,Fe.value=z(P,void 0,$),Fe}return function(P,z){function $(){this.constructor=P}ie(P,z),P.prototype=z===null?Object.create(z):($.prototype=z.prototype,new $)}(w,_),w.prototype.dehanceValue=function(P){return this.dehancer!==void 0?this.dehancer(P):P},w.prototype.set=function(P){this.value,(P=this.prepareNewValue(P))!==lt.UNCHANGED&&this.setNewValue(P)},w.prototype.prepareNewValue=function(P){if(Ct(this),gr(this)){var z=Jt(this,{object:this,type:"update",newValue:P});if(!z)return lt.UNCHANGED;P=z.newValue}return P=this.enhancer(P,this.value,this.name),this.equals(this.value,P)?lt.UNCHANGED:P},w.prototype.setNewValue=function(P){var z=this.value;this.value=P,this.reportChanged(),br(this)&&$n(this,{type:"update",object:this,newValue:P,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(P){return wo(this,P)},w.prototype.observe=function(P,z){return z&&P({object:this,type:"update",newValue:this.value,oldValue:void 0}),io(this,P)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return J(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(B),go=H("ObservableValue",jn),no=function(){function _(w){this.dependenciesState=st.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=st.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new zt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=le.NONE,A(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Nn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?K.structural:K.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return _.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===st.UP_TO_DATE&&(w.lowestObserverState=st.POSSIBLY_STALE,w.observers.forEach(function(P){P.dependenciesState===st.UP_TO_DATE&&(P.dependenciesState=st.POSSIBLY_STALE,P.isTracing!==le.NONE&&Wr(P,w),P.onBecomeStale())}))})(this)},_.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},_.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},_.prototype.get=function(){this.isComputing&&M("Cycle detected in computation "+this.name+": "+this.derivation),lt.inBatch!==0||this.observers.size!==0||this.keepAlive?(sa(this),fn(this)&&this.trackAndCompute()&&function(P){P.lowestObserverState!==st.STALE&&(P.lowestObserverState=st.STALE,P.observers.forEach(function(z){z.dependenciesState===st.POSSIBLY_STALE?z.dependenciesState=st.STALE:z.dependenciesState===st.UP_TO_DATE&&(P.lowestObserverState=st.UP_TO_DATE)}))}(this)):fn(this)&&(this.warnAboutUntrackedRead(),hr(),this.value=this.computeValue(!1),xr());var w=this.value;if(Zt(w))throw w.cause;return w},_.prototype.peek=function(){var w=this.computeValue(!1);if(Zt(w))throw w.cause;return w},_.prototype.set=function(w){if(this.setter){A(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else A(!1,!1)},_.prototype.trackAndCompute=function(){var w=this.value,P=this.dependenciesState===st.NOT_TRACKING,z=this.computeValue(!0),$=P||Zt(w)||Zt(z)||!this.equals(w,z);return $&&(this.value=z),$},_.prototype.computeValue=function(w){var P;if(this.isComputing=!0,lt.computationDepth++,w)P=Dn(this,this.derivation,this.scope);else if(lt.disableErrorBoundaries===!0)P=this.derivation.call(this.scope);else try{P=this.derivation.call(this.scope)}catch(z){P=new zt(z)}return lt.computationDepth--,this.isComputing=!1,P},_.prototype.suspend=function(){this.keepAlive||(q(this),this.value=void 0)},_.prototype.observe=function(w,P){var z=this,$=!0,fe=void 0;return nu(function(){var Ee=z.get();if(!$||P){var Fe=oe();w({type:"update",object:z,newValue:Ee,oldValue:fe}),me(Fe)}$=!1,fe=Ee})},_.prototype.warnAboutUntrackedRead=function(){},_.prototype.toJSON=function(){return this.get()},_.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},_.prototype.valueOf=function(){return J(this.get())},_.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},_}(),bo=H("ComputedValue",no),ai=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ss={};function $a(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:Ss}var Nr=!0,Li=!1,lt=function(){var _=$a();return _.__mobxInstanceCount>0&&!_.__mobxGlobals&&(Nr=!1),_.__mobxGlobals&&_.__mobxGlobals.version!==new ai().version&&(Nr=!1),Nr?_.__mobxGlobals?(_.__mobxInstanceCount+=1,_.__mobxGlobals.UNCHANGED||(_.__mobxGlobals.UNCHANGED={}),_.__mobxGlobals):(_.__mobxInstanceCount=1,_.__mobxGlobals=new ai):(setTimeout(function(){Li||M("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ai)}();function Ps(_,w){_.observers.add(w),_.lowestObserverState>w.dependenciesState&&(_.lowestObserverState=w.dependenciesState)}function Ka(_,w){_.observers.delete(w),_.observers.size===0&&qa(_)}function qa(_){_.isPendingUnobservation===!1&&(_.isPendingUnobservation=!0,lt.pendingUnobservations.push(_))}function hr(){lt.inBatch++}function xr(){if(--lt.inBatch==0){Ja();for(var _=lt.pendingUnobservations,w=0;w<_.length;w++){var P=_[w];P.isPendingUnobservation=!1,P.observers.size===0&&(P.isBeingObserved&&(P.isBeingObserved=!1,P.onBecomeUnobserved()),P instanceof no&&P.suspend())}lt.pendingUnobservations=[]}}function sa(_){var w=lt.trackingDerivation;return w!==null?(w.runId!==_.lastAccessedBy&&(_.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=_,_.isBeingObserved||(_.isBeingObserved=!0,_.onBecomeObserved())),!0):(_.observers.size===0&&lt.inBatch>0&&qa(_),!1)}function Wr(_,w){if(_.isTracing===le.BREAK){var P=[];Cr(kn(_),P,1),new Function(`debugger;
/*
Tracing '`+_.name+`'

You are entering this break point because derivation '`+_.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(_ instanceof no?_.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+P.join(`
`)+`
*/
    `)()}}function Cr(_,w,P){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(P).join("	")+_.name),_.dependencies&&_.dependencies.forEach(function(z){return Cr(z,w,P+1)}))}var Vr=function(){function _(w,P,z,$){w===void 0&&(w="Reaction@"+E()),$===void 0&&($=!1),this.name=w,this.onInvalidate=P,this.errorHandler=z,this.requiresObservable=$,this.observing=[],this.newObserving=[],this.dependenciesState=st.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=le.NONE}return _.prototype.onBecomeStale=function(){this.schedule()},_.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,lt.pendingReactions.push(this),Ja())},_.prototype.isScheduled=function(){return this._isScheduled},_.prototype.runReaction=function(){if(!this.isDisposed){if(hr(),this._isScheduled=!1,fn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}xr()}},_.prototype.track=function(w){if(!this.isDisposed){hr(),this._isRunning=!0;var P=Dn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&q(this),Zt(P)&&this.reportExceptionInDerivation(P.cause),xr()}},_.prototype.reportExceptionInDerivation=function(w){var P=this;if(this.errorHandler)this.errorHandler(w,this);else{if(lt.disableErrorBoundaries)throw w;lt.suppressReactionErrors,lt.globalReactionErrorHandlers.forEach(function(z){return z(w,P)})}},_.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(hr(),q(this),xr()))},_.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[W]=this,w},_.prototype.toString=function(){return"Reaction["+this.name+"]"},_.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var P=[],z=0;z<arguments.length;z++)P[z]=arguments[z];var $=!1;typeof P[P.length-1]=="boolean"&&($=P.pop());var fe=tn(P);if(!fe)return M(!1);fe.isTracing,le.NONE,fe.isTracing=$?le.BREAK:le.LOG}(this,w)},_}(),Za=function(_){return _()};function Ja(){lt.inBatch>0||lt.isRunningReactions||Za(tc)}function tc(){lt.isRunningReactions=!0;for(var _=lt.pendingReactions,w=0;_.length>0;){++w==100&&_.splice(0);for(var P=_.splice(0),z=0,$=P.length;z<$;z++)P[z].runReaction()}lt.isRunningReactions=!1}var zi=H("Reaction",Vr);function nc(_){var w=Za;Za=function(P){return _(function(){return w(P)})}}function Qa(_){return function(){}}function As(){M(!1)}function Lo(_){return function(w,P,z){if(z){if(z.value)return{value:Nn(_,z.value),enumerable:!1,configurable:!0,writable:!0};var $=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Nn(_,$.call(this))}}}return rc(_).apply(this,arguments)}}function rc(_){return function(w,P,z){Object.defineProperty(w,P,{configurable:!0,enumerable:!1,get:function(){},set:function($){L(this,P,mo(_,$))}})}}var mo=function(_,w,P,z){return arguments.length===1&&typeof _=="function"?Nn(_.name||"<unnamed action>",_):arguments.length===2&&typeof w=="function"?Nn(_,w):arguments.length===1&&typeof _=="string"?Lo(_):z!==!0?Lo(w).apply(null,arguments):void L(_,w,Nn(_.name||w,P.value,this))};function eu(_,w){return Ln(typeof _=="string"?_:_.name||"<unnamed action>",typeof _=="function"?_:w,this,void 0)}function la(_){return typeof _=="function"&&_.isMobxAction===!0}function tu(_,w,P){L(_,w,Nn(w,P.bind(_)))}function nu(_,w){w===void 0&&(w=v);var P,z=w&&w.name||_.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)P=new Vr(z,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var $=oc(w),fe=!1;P=new Vr(z,function(){fe||(fe=!0,$(function(){fe=!1,P.isDisposed||P.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){_(P)}return P.schedule(),P.getDisposer()}mo.bound=function(_,w,P,z){return z===!0?(tu(_,w,P.value),null):P?{configurable:!0,enumerable:!1,get:function(){return tu(this,w,P.value||P.initializer.call(this)),this[w]},set:As}:{enumerable:!1,configurable:!0,set:function($){tu(this,w,$)},get:function(){}}};var Ms=function(_){return _()};function oc(_){return _.scheduler?_.scheduler:_.delay?function(w){return setTimeout(w,_.delay)}:Ms}function un(_,w,P){P===void 0&&(P=v);var z,$,fe,Ee=P.name||"Reaction@"+E(),Fe=mo(Ee,P.onError?(z=P.onError,$=w,function(){try{return $.apply(this,arguments)}catch(On){z.call(this,On)}}):w),ut=!P.scheduler&&!P.delay,Yt=oc(P),et=!0,pn=!1,Ft=P.compareStructural?K.structural:P.equals||K.default,nn=new Vr(Ee,function(){et||ut?Lr():pn||(pn=!0,Yt(Lr))},P.onError,P.requiresObservable);function Lr(){if(pn=!1,!nn.isDisposed){var On=!1;nn.track(function(){var _r=_(nn);On=et||!Ft(fe,_r),fe=_r}),et&&P.fireImmediately&&Fe(fe,nn),et||On!==!0||Fe(fe,nn),et&&(et=!1)}}return nn.schedule(),nn.getDisposer()}function an(_,w,P){return ic("onBecomeUnobserved",_,w,P)}function ic(_,w,P,z){var $=typeof z=="function"?Ir(w,P):Ir(w),fe=typeof z=="function"?z:P,Ee=_+"Listeners";return $[Ee]?$[Ee].add(fe):$[Ee]=new Set([fe]),typeof $[_]!="function"?M(!1):function(){var Fe=$[Ee];Fe&&(Fe.delete(fe),Fe.size===0&&delete $[Ee])}}function ui(_){var w=_.enforceActions,P=_.computedRequiresReaction,z=_.computedConfigurable,$=_.disableErrorBoundaries,fe=_.reactionScheduler,Ee=_.reactionRequiresObservable,Fe=_.observableRequiresReaction;if(_.isolateGlobalState===!0&&((lt.pendingReactions.length||lt.inBatch||lt.isRunningReactions)&&M("isolateGlobalState should be called before MobX is running any reactions"),Li=!0,Nr&&(--$a().__mobxInstanceCount==0&&($a().__mobxGlobals=void 0),lt=new ai)),w!==void 0){var ut=void 0;switch(w){case!0:case"observed":ut=!0;break;case!1:case"never":ut=!1;break;case"strict":case"always":ut="strict";break;default:M("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}lt.enforceActions=ut,lt.allowStateChanges=ut!==!0&&ut!=="strict"}P!==void 0&&(lt.computedRequiresReaction=!!P),Ee!==void 0&&(lt.reactionRequiresObservable=!!Ee),Fe!==void 0&&(lt.observableRequiresReaction=!!Fe,lt.allowStateReads=!lt.observableRequiresReaction),z!==void 0&&(lt.computedConfigurable=!!z),$!==void 0&&(lt.disableErrorBoundaries=!!$),fe&&nc(fe)}function _o(_,w,P,z){var $=ru(z=he(z));return rt(_),Er(_,z.name,$.enhancer),w&&ac(_,w,P,$),_}function ru(_){return _.defaultDecorator||(_.deep===!1?ze:Te)}function ac(_,w,P,z){var $,fe;hr();try{var Ee=Q(w);try{for(var Fe=ge(Ee),ut=Fe.next();!ut.done;ut=Fe.next()){var Yt=ut.value,et=Object.getOwnPropertyDescriptor(w,Yt),pn=(P&&Yt in P?P[Yt]:et.get?it:z)(_,Yt,et,!0);pn&&Object.defineProperty(_,Yt,pn)}}catch(Ft){$={error:Ft}}finally{try{ut&&!ut.done&&(fe=Fe.return)&&fe.call(Fe)}finally{if($)throw $.error}}}finally{xr()}}function kn(_,w){return ou(Ir(_,w))}function ou(_){var w,P,z={name:_.name};return _.observing&&_.observing.length>0&&(z.dependencies=(w=_.observing,P=[],w.forEach(function($){P.indexOf($)===-1&&P.push($)}),P).map(ou)),z}var Bi=0;function iu(){this.message="FLOW_CANCELLED"}function fa(_){arguments.length!==1&&M("Flow expects 1 argument and cannot be used as decorator");var w=_.name||"<unnamed flow>";return function(){var P,z=this,$=arguments,fe=++Bi,Ee=mo(w+" - runid: "+fe+" - init",_).apply(z,$),Fe=void 0,ut=new Promise(function(Yt,et){var pn=0;function Ft(On){var _r;Fe=void 0;try{_r=mo(w+" - runid: "+fe+" - yield "+pn++,Ee.next).call(Ee,On)}catch(Eo){return et(Eo)}Lr(_r)}function nn(On){var _r;Fe=void 0;try{_r=mo(w+" - runid: "+fe+" - yield "+pn++,Ee.throw).call(Ee,On)}catch(Eo){return et(Eo)}Lr(_r)}function Lr(On){if(!On||typeof On.then!="function")return On.done?Yt(On.value):(Fe=Promise.resolve(On.value)).then(Ft,nn);On.then(Lr,et)}P=et,Ft(void 0)});return ut.cancel=mo(w+" - runid: "+fe+" - cancel",function(){try{Fe&&Qn(Fe);var Yt=Ee.return(void 0),et=Promise.resolve(Yt.value);et.then(k,k),Qn(et),P(new iu)}catch(pn){P(pn)}}),ut}}function Qn(_){typeof _.cancel=="function"&&_.cancel()}function au(_,w){if(_==null)return!1;if(w!==void 0){if(mr(_)===!1||!_[W].values.has(w))return!1;var P=Ir(_,w);return bo(P)}return bo(_)}function uc(_){return arguments.length>1?M(!1):au(_)}function uu(_,w){return typeof w!="string"?M(!1):au(_,w)}function pa(_,w){return _!=null&&(w!==void 0?!!mr(_)&&_[W].values.has(w):mr(_)||!!_[W]||U(_)||zi(_)||bo(_))}function ci(_){return arguments.length!==1&&M(!1),pa(_)}function ro(_){return mr(_)?_[W].getKeys():Cn(_)||sr(_)?Array.from(_.keys()):Rr(_)?_.map(function(w,P){return P}):M(!1)}function vn(_){return mr(_)?ro(_).map(function(w){return _[w]}):Cn(_)?ro(_).map(function(w){return _.get(w)}):sr(_)?Array.from(_.values()):Rr(_)?_.slice():M(!1)}function cc(_){return mr(_)?ro(_).map(function(w){return[w,_[w]]}):Cn(_)?ro(_).map(function(w){return[w,_.get(w)]}):sr(_)?Array.from(_.entries()):Rr(_)?_.map(function(w,P){return[P,w]}):M(!1)}function yr(_,w,P){if(arguments.length!==2||sr(_))if(mr(_)){var z=_[W],$=z.values.get(w);$?z.write(w,P):z.addObservableProp(w,P,z.defaultEnhancer)}else if(Cn(_))_.set(w,P);else if(sr(_))_.add(w);else{if(!Rr(_))return M(!1);typeof w!="number"&&(w=parseInt(w,10)),A(w>=0,"Not a valid index: '"+w+"'"),hr(),w>=_.length&&(_.length=w+1),_[w]=P,xr()}else{hr();var fe=w;try{for(var Ee in fe)yr(_,Ee,fe[Ee])}finally{xr()}}}function sc(_,w,P,z){return typeof P=="function"?function($,fe,Ee,Fe){return co($,fe).observe(Ee,Fe)}(_,w,P,z):function($,fe,Ee){return co($).observe(fe,Ee)}(_,w,P)}iu.prototype=Object.create(Error.prototype);var lc={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cr(_,w,P,z){return z.detectCycles&&_.set(w,P),P}function vr(_,w,P){if(!w.recurseEverything&&!ci(_)||typeof _!="object")return _;if(_===null)return null;if(_ instanceof Date)return _;if(go(_))return vr(_.get(),w,P);if(ci(_)&&ro(_),w.detectCycles===!0&&_!==null&&P.has(_))return P.get(_);if(Rr(_)||Array.isArray(_)){var z=cr(P,_,[],w),$=_.map(function(Ft){return vr(Ft,w,P)});z.length=$.length;for(var fe=0,Ee=$.length;fe<Ee;fe++)z[fe]=$[fe];return z}if(sr(_)||Object.getPrototypeOf(_)===Set.prototype){if(w.exportMapsAsObjects===!1){var Fe=cr(P,_,new Set,w);return _.forEach(function(Ft){Fe.add(vr(Ft,w,P))}),Fe}var ut=cr(P,_,[],w);return _.forEach(function(Ft){ut.push(vr(Ft,w,P))}),ut}if(Cn(_)||Object.getPrototypeOf(_)===Map.prototype){if(w.exportMapsAsObjects===!1){var Yt=cr(P,_,new Map,w);return _.forEach(function(Ft,nn){Yt.set(nn,vr(Ft,w,P))}),Yt}var et=cr(P,_,{},w);return _.forEach(function(Ft,nn){et[nn]=vr(Ft,w,P)}),et}var pn=cr(P,_,{},w);return ue(_).forEach(function(Ft){pn[Ft]=vr(_[Ft],w,P)}),pn}function cu(_,w){var P;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=lc),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(P=new Map),vr(_,w,P)}function tn(_){switch(_.length){case 0:return lt.trackingDerivation;case 1:return Ir(_[0]);case 2:return Ir(_[0],_[1])}}function Yn(_,w){w===void 0&&(w=void 0),hr();try{return _.apply(w)}finally{xr()}}function da(_,w,P){return arguments.length===1||w&&typeof w=="object"?su(_,w):fc(_,w,P||{})}function fc(_,w,P){var z;typeof P.timeout=="number"&&(z=setTimeout(function(){if(!fe[W].isDisposed){fe();var Ee=new Error("WHEN_TIMEOUT");if(!P.onError)throw Ee;P.onError(Ee)}},P.timeout)),P.name=P.name||"When@"+E();var $=Nn(P.name+"-effect",w),fe=nu(function(Ee){_()&&(Ee.dispose(),z&&clearTimeout(z),$())},P);return fe}function su(_,w){var P,z=new Promise(function($,fe){var Ee=fc(_,$,xe(xe({},w),{onError:fe}));P=function(){Ee(),fe("WHEN_CANCELLED")}});return z.cancel=P,z}function ha(_){return _[W]}function oo(_){return typeof _=="string"||typeof _=="number"||typeof _=="symbol"}var Oo={has:function(_,w){if(w===W||w==="constructor"||w===je)return!0;var P=ha(_);return oo(w)?P.has(w):w in _},get:function(_,w){if(w===W||w==="constructor"||w===je)return _[w];var P=ha(_),z=P.values.get(w);if(z instanceof B){var $=z.get();return $===void 0&&P.has(w),$}return oo(w)&&P.has(w),_[w]},set:function(_,w,P){return!!oo(w)&&(yr(_,w,P),!0)},deleteProperty:function(_,w){return!!oo(w)&&(ha(_).remove(w),!0)},ownKeys:function(_){return ha(_).keysAtom.reportObserved(),Reflect.ownKeys(_)},preventExtensions:function(_){return M("Dynamic observable objects cannot be frozen"),!1}};function si(_){var w=new Proxy(_,Oo);return _[W].proxy=w,w}function gr(_){return _.interceptors!==void 0&&_.interceptors.length>0}function wo(_,w){var P=_.interceptors||(_.interceptors=[]);return P.push(w),D(function(){var z=P.indexOf(w);z!==-1&&P.splice(z,1)})}function Jt(_,w){var P=oe();try{for(var z=Be(_.interceptors||[]),$=0,fe=z.length;$<fe&&(A(!(w=z[$](w))||w.type,"Intercept handlers should return nothing or a change object"),w);$++);return w}finally{me(P)}}function br(_){return _.changeListeners!==void 0&&_.changeListeners.length>0}function io(_,w){var P=_.changeListeners||(_.changeListeners=[]);return P.push(w),D(function(){var z=P.indexOf(w);z!==-1&&P.splice(z,1)})}function $n(_,w){var P=oe(),z=_.changeListeners;if(z){for(var $=0,fe=(z=z.slice()).length;$<fe;$++)z[$](w);me(P)}}var ya={get:function(_,w){return w===W?_[W]:w==="length"?_[W].getArrayLength():typeof w=="number"?Sn.get.call(_,w):typeof w!="string"||isNaN(w)?Sn.hasOwnProperty(w)?Sn[w]:_[w]:Sn.get.call(_,parseInt(w))},set:function(_,w,P){return w==="length"&&_[W].setArrayLength(P),typeof w=="number"&&Sn.set.call(_,w,P),typeof w=="symbol"||isNaN(w)?_[w]=P:Sn.set.call(_,parseInt(w),P),!0},preventExtensions:function(_){return M("Observable arrays cannot be frozen"),!1}};function Fi(_,w,P,z){P===void 0&&(P="ObservableArray@"+E()),z===void 0&&(z=!1);var $,fe,Ee,Fe=new lu(P,w,z);$=Fe.values,fe=W,Ee=Fe,Object.defineProperty($,fe,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var ut=new Proxy(Fe.values,ya);if(Fe.proxy=ut,_&&_.length){var Yt=Rt(!0);Fe.spliceWithArray(0,0,_),sn(Yt)}return ut}var lu=function(){function _(w,P,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+E()),this.enhancer=function($,fe){return P($,fe,w+"[..]")}}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},_.prototype.intercept=function(w){return wo(this,w)},_.prototype.observe=function(w,P){return P===void 0&&(P=!1),P&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),io(this,w)},_.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},_.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var P=this.values.length;if(w!==P)if(w>P){for(var z=new Array(w-P),$=0;$<w-P;$++)z[$]=void 0;this.spliceWithArray(P,0,z)}else this.spliceWithArray(w,P-w)},_.prototype.updateArrayLength=function(w,P){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=P},_.prototype.spliceWithArray=function(w,P,z){var $=this;Ct(this.atom);var fe=this.values.length;if(w===void 0?w=0:w>fe?w=fe:w<0&&(w=Math.max(0,fe+w)),P=arguments.length===1?fe-w:P==null?0:Math.max(0,Math.min(P,fe-w)),z===void 0&&(z=O),gr(this)){var Ee=Jt(this,{object:this.proxy,type:"splice",index:w,removedCount:P,added:z});if(!Ee)return O;P=Ee.removedCount,z=Ee.added}z=z.length===0?z:z.map(function(ut){return $.enhancer(ut,void 0)});var Fe=this.spliceItemsIntoValues(w,P,z);return P===0&&z.length===0||this.notifyArraySplice(w,z,Fe),this.dehanceValues(Fe)},_.prototype.spliceItemsIntoValues=function(w,P,z){var $;if(z.length<1e4)return($=this.values).splice.apply($,Be([w,P],z));var fe=this.values.slice(w,w+P);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+P)),fe},_.prototype.notifyArrayChildUpdate=function(w,P,z){var $=!this.owned&&!1,fe=br(this),Ee=fe||$?{object:this.proxy,type:"update",index:w,newValue:P,oldValue:z}:null;this.atom.reportChanged(),fe&&$n(this,Ee)},_.prototype.notifyArraySplice=function(w,P,z){var $=!this.owned&&!1,fe=br(this),Ee=fe||$?{object:this.proxy,type:"splice",index:w,removed:z,added:P,removedCount:z.length,addedCount:P.length}:null;this.atom.reportChanged(),fe&&$n(this,Ee)},_}(),Sn={intercept:function(_){return this[W].intercept(_)},observe:function(_,w){return w===void 0&&(w=!1),this[W].observe(_,w)},clear:function(){return this.splice(0)},replace:function(_){var w=this[W];return w.spliceWithArray(0,w.values.length,_)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(_,w){for(var P=[],z=2;z<arguments.length;z++)P[z-2]=arguments[z];var $=this[W];switch(arguments.length){case 0:return[];case 1:return $.spliceWithArray(_);case 2:return $.spliceWithArray(_,w)}return $.spliceWithArray(_,w,P)},spliceWithArray:function(_,w,P){return this[W].spliceWithArray(_,w,P)},push:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var P=this[W];return P.spliceWithArray(P.values.length,0,_),P.values.length},pop:function(){return this.splice(Math.max(this[W].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var P=this[W];return P.spliceWithArray(0,0,_),P.values.length},reverse:function(){var _=this.slice();return _.reverse.apply(_,arguments)},sort:function(_){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(_){var w=this[W],P=w.dehanceValues(w.values).indexOf(_);return P>-1&&(this.splice(P,1),!0)},get:function(_){var w=this[W];if(w&&_<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[_])},set:function(_,w){var P=this[W],z=P.values;if(_<z.length){Ct(P.atom);var $=z[_];if(gr(P)){var fe=Jt(P,{type:"update",object:P.proxy,index:_,newValue:w});if(!fe)return;w=fe.newValue}(w=P.enhancer(w,$))!==$&&(z[_]=w,P.notifyArrayChildUpdate(_,w,$))}else{if(_!==z.length)throw new Error("[mobx.array] Index out of bounds, "+_+" is larger than "+z.length);P.spliceWithArray(_,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(_){typeof Array.prototype[_]=="function"&&(Sn[_]=function(){var w=this[W];w.atom.reportObserved();var P=w.dehanceValues(w.values);return P[_].apply(P,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(_){typeof Array.prototype[_]=="function"&&(Sn[_]=function(w,P){var z=this,$=this[W];return $.atom.reportObserved(),$.dehanceValues($.values)[_](function(fe,Ee){return w.call(P,fe,Ee,z)},P)})}),["reduce","reduceRight"].forEach(function(_){Sn[_]=function(){var w=this,P=this[W];P.atom.reportObserved();var z=arguments[0];return arguments[0]=function($,fe,Ee){return fe=P.dehanceValue(fe),z($,fe,Ee,w)},P.values[_].apply(P.values,arguments)}});var va,xo=H("ObservableArrayAdministration",lu);function Rr(_){return I(_)&&xo(_[W])}var fu,ks={},pu=function(){function _(w,P,z){if(P===void 0&&(P=Ze),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=P,this.name=z,this[va]=ks,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return _.prototype._has=function(w){return this._data.has(w)},_.prototype.has=function(w){var P=this;if(!lt.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var $=z=new jn(this._has(w),gt,this.name+"."+ee(w)+"?",!1);this._hasMap.set(w,$),an($,function(){return P._hasMap.delete(w)})}return z.get()},_.prototype.set=function(w,P){var z=this._has(w);if(gr(this)){var $=Jt(this,{type:z?"update":"add",object:this,newValue:P,name:w});if(!$)return this;P=$.newValue}return z?this._updateValue(w,P):this._addValue(w,P),this},_.prototype.delete=function(w){var P=this;if(Ct(this._keysAtom),gr(this)&&!($=Jt(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=br(this),$=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return Yn(function(){P._keysAtom.reportChanged(),P._updateHasMapEntry(w,!1),P._data.get(w).setNewValue(void 0),P._data.delete(w)}),z&&$n(this,$),!0}return!1},_.prototype._updateHasMapEntry=function(w,P){var z=this._hasMap.get(w);z&&z.setNewValue(P)},_.prototype._updateValue=function(w,P){var z=this._data.get(w);if((P=z.prepareNewValue(P))!==lt.UNCHANGED){var $=br(this),fe=$?{type:"update",object:this,oldValue:z.value,name:w,newValue:P}:null;z.setNewValue(P),$&&$n(this,fe)}},_.prototype._addValue=function(w,P){var z=this;Ct(this._keysAtom),Yn(function(){var Ee=new jn(P,z.enhancer,z.name+"."+ee(w),!1);z._data.set(w,Ee),P=Ee.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var $=br(this),fe=$?{type:"add",object:this,name:w,newValue:P}:null;$&&$n(this,fe)},_.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},_.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},_.prototype.values=function(){var w=this,P=this.keys();return $t({next:function(){var z=P.next(),$=z.done,fe=z.value;return{done:$,value:$?void 0:w.get(fe)}}})},_.prototype.entries=function(){var w=this,P=this.keys();return $t({next:function(){var z=P.next(),$=z.done,fe=z.value;return{done:$,value:$?void 0:[fe,w.get(fe)]}}})},_.prototype[va=W,Symbol.iterator]=function(){return this.entries()},_.prototype.forEach=function(w,P){var z,$;try{for(var fe=ge(this),Ee=fe.next();!Ee.done;Ee=fe.next()){var Fe=Pe(Ee.value,2),ut=Fe[0],Yt=Fe[1];w.call(P,Yt,ut,this)}}catch(et){z={error:et}}finally{try{Ee&&!Ee.done&&($=fe.return)&&$.call(fe)}finally{if(z)throw z.error}}},_.prototype.merge=function(w){var P=this;return Cn(w)&&(w=w.toJS()),Yn(function(){var z=Rt(!0);try{C(w)?ue(w).forEach(function($){return P.set($,w[$])}):Array.isArray(w)?w.forEach(function($){var fe=Pe($,2),Ee=fe[0],Fe=fe[1];return P.set(Ee,Fe)}):V(w)?(w.constructor!==Map&&M("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function($,fe){return P.set(fe,$)})):w!=null&&M("Cannot initialize map from "+w)}finally{sn(z)}}),this},_.prototype.clear=function(){var w=this;Yn(function(){pe(function(){var P,z;try{for(var $=ge(w.keys()),fe=$.next();!fe.done;fe=$.next()){var Ee=fe.value;w.delete(Ee)}}catch(Fe){P={error:Fe}}finally{try{fe&&!fe.done&&(z=$.return)&&z.call($)}finally{if(P)throw P.error}}})})},_.prototype.replace=function(w){var P=this;return Yn(function(){var z,$,fe,Ee,Fe=function(lr){if(V(lr)||Cn(lr))return lr;if(Array.isArray(lr))return new Map(lr);if(C(lr)){var Hi=new Map;for(var li in lr)Hi.set(li,lr[li]);return Hi}return M("Cannot convert to map from '"+lr+"'")}(w),ut=new Map,Yt=!1;try{for(var et=ge(P._data.keys()),pn=et.next();!pn.done;pn=et.next()){var Ft=pn.value;if(!Fe.has(Ft))if(P.delete(Ft))Yt=!0;else{var nn=P._data.get(Ft);ut.set(Ft,nn)}}}catch(lr){z={error:lr}}finally{try{pn&&!pn.done&&($=et.return)&&$.call(et)}finally{if(z)throw z.error}}try{for(var Lr=ge(Fe.entries()),On=Lr.next();!On.done;On=Lr.next()){var _r=Pe(On.value,2),Eo=(Ft=_r[0],nn=_r[1],P._data.has(Ft));if(P.set(Ft,nn),P._data.has(Ft)){var jo=P._data.get(Ft);ut.set(Ft,jo),Eo||(Yt=!0)}}}catch(lr){fe={error:lr}}finally{try{On&&!On.done&&(Ee=Lr.return)&&Ee.call(Lr)}finally{if(fe)throw fe.error}}if(!Yt)if(P._data.size!==ut.size)P._keysAtom.reportChanged();else for(var Xi=P._data.keys(),hu=ut.keys(),Fo=Xi.next(),ba=hu.next();!Fo.done;){if(Fo.value!==ba.value){P._keysAtom.reportChanged();break}Fo=Xi.next(),ba=hu.next()}P._data=ut}),this},Object.defineProperty(_.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.toPOJO=function(){var w,P,z={};try{for(var $=ge(this),fe=$.next();!fe.done;fe=$.next()){var Ee=Pe(fe.value,2),Fe=Ee[0],ut=Ee[1];z[typeof Fe=="symbol"?Fe:ee(Fe)]=ut}}catch(Yt){w={error:Yt}}finally{try{fe&&!fe.done&&(P=$.return)&&P.call($)}finally{if(w)throw w.error}}return z},_.prototype.toJS=function(){return new Map(this)},_.prototype.toJSON=function(){return this.toPOJO()},_.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(P){return ee(P)+": "+w.get(P)}).join(", ")+" }]"},_.prototype.observe=function(w,P){return io(this,w)},_.prototype.intercept=function(w){return wo(this,w)},_}(),Cn=H("ObservableMap",pu),zo={},ao=function(){function _(w,P,z){if(P===void 0&&(P=Ze),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[fu]=zo,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function($,fe){return P($,fe,z)},w&&this.replace(w)}return _.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},_.prototype.clear=function(){var w=this;Yn(function(){pe(function(){var P,z;try{for(var $=ge(w._data.values()),fe=$.next();!fe.done;fe=$.next()){var Ee=fe.value;w.delete(Ee)}}catch(Fe){P={error:Fe}}finally{try{fe&&!fe.done&&(z=$.return)&&z.call($)}finally{if(P)throw P.error}}})})},_.prototype.forEach=function(w,P){var z,$;try{for(var fe=ge(this),Ee=fe.next();!Ee.done;Ee=fe.next()){var Fe=Ee.value;w.call(P,Fe,Fe,this)}}catch(ut){z={error:ut}}finally{try{Ee&&!Ee.done&&($=fe.return)&&$.call(fe)}finally{if(z)throw z.error}}},Object.defineProperty(_.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),_.prototype.add=function(w){var P=this;if(Ct(this._atom),gr(this)&&!($=Jt(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){Yn(function(){P._data.add(P.enhancer(w,void 0)),P._atom.reportChanged()});var z=br(this),$=z?{type:"add",object:this,newValue:w}:null;z&&$n(this,$)}return this},_.prototype.delete=function(w){var P=this;if(gr(this)&&!($=Jt(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=br(this),$=z?{type:"delete",object:this,oldValue:w}:null;return Yn(function(){P._atom.reportChanged(),P._data.delete(w)}),z&&$n(this,$),!0}return!1},_.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},_.prototype.entries=function(){var w=0,P=Array.from(this.keys()),z=Array.from(this.values());return $t({next:function(){var $=w;return w+=1,$<z.length?{value:[P[$],z[$]],done:!1}:{done:!0}}})},_.prototype.keys=function(){return this.values()},_.prototype.values=function(){this._atom.reportObserved();var w=this,P=0,z=Array.from(this._data.values());return $t({next:function(){return P<z.length?{value:w.dehanceValue(z[P++]),done:!1}:{done:!0}}})},_.prototype.replace=function(w){var P=this;return sr(w)&&(w=w.toJS()),Yn(function(){var z=Rt(!0);try{Array.isArray(w)||te(w)?(P.clear(),w.forEach(function($){return P.add($)})):w!=null&&M("Cannot initialize set from "+w)}finally{sn(z)}}),this},_.prototype.observe=function(w,P){return io(this,w)},_.prototype.intercept=function(w){return wo(this,w)},_.prototype.toJS=function(){return new Set(this)},_.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},_.prototype[fu=W,Symbol.iterator]=function(){return this.values()},_}(),sr=H("ObservableSet",ao),du=function(){function _(w,P,z,$){P===void 0&&(P=new Map),this.target=w,this.values=P,this.name=z,this.defaultEnhancer=$,this.keysAtom=new B(z+".keys")}return _.prototype.read=function(w){return this.values.get(w).get()},_.prototype.write=function(w,P){var z=this.target,$=this.values.get(w);if($ instanceof no)$.set(P);else{if(gr(this)){if(!(Ee=Jt(this,{type:"update",object:this.proxy||z,name:w,newValue:P})))return;P=Ee.newValue}if((P=$.prepareNewValue(P))!==lt.UNCHANGED){var fe=br(this),Ee=fe?{type:"update",object:this.proxy||z,oldValue:$.value,name:w,newValue:P}:null;$.setNewValue(P),fe&&$n(this,Ee)}}},_.prototype.has=function(w){var P=this.pendingKeys||(this.pendingKeys=new Map),z=P.get(w);if(z)return z.get();var $=!!this.values.get(w);return z=new jn($,gt,this.name+"."+ee(w)+"?",!1),P.set(w,z),z.get()},_.prototype.addObservableProp=function(w,P,z){z===void 0&&(z=this.defaultEnhancer);var $=this.target;if(gr(this)){var fe=Jt(this,{object:this.proxy||$,name:w,type:"add",newValue:P});if(!fe)return;P=fe.newValue}var Ee=new jn(P,z,this.name+"."+ee(w),!1);this.values.set(w,Ee),P=Ee.value,Object.defineProperty($,w,function(Fe){return Bo[Fe]||(Bo[Fe]={configurable:!0,enumerable:!0,get:function(){return this[W].read(Fe)},set:function(ut){this[W].write(Fe,ut)}})}(w)),this.notifyPropertyAddition(w,P)},_.prototype.addComputedProp=function(w,P,z){var $,fe,Ee,Fe=this.target;z.name=z.name||this.name+"."+ee(P),this.values.set(P,new no(z)),(w===Fe||($=w,fe=P,!(Ee=Object.getOwnPropertyDescriptor($,fe))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,P,function(ut){return ga[ut]||(ga[ut]={configurable:lt.computedConfigurable,enumerable:!1,get:function(){return uo(this).read(ut)},set:function(Yt){uo(this).write(ut,Yt)}})}(P))},_.prototype.remove=function(w){if(this.values.has(w)){var P=this.target;if(gr(this)&&!(ut=Jt(this,{object:this.proxy||P,name:w,type:"remove"})))return;try{hr();var z=br(this),$=!1,fe=this.values.get(w),Ee=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Fe=this.pendingKeys.get(w);Fe&&Fe.set(!1)}delete this.target[w];var ut=z?{type:"remove",object:this.proxy||P,oldValue:Ee,name:w}:null;z&&$n(this,ut)}finally{xr()}}},_.prototype.illegalAccess=function(w,P){},_.prototype.observe=function(w,P){return io(this,w)},_.prototype.intercept=function(w){return wo(this,w)},_.prototype.notifyPropertyAddition=function(w,P){var z=br(this),$=z?{type:"add",object:this.proxy||this.target,name:w,newValue:P}:null;if(z&&$n(this,$),this.pendingKeys){var fe=this.pendingKeys.get(w);fe&&fe.set(!0)}this.keysAtom.reportChanged()},_.prototype.getKeys=function(){var w,P;this.keysAtom.reportObserved();var z=[];try{for(var $=ge(this.values),fe=$.next();!fe.done;fe=$.next()){var Ee=Pe(fe.value,2),Fe=Ee[0];Ee[1]instanceof jn&&z.push(Fe)}}catch(ut){w={error:ut}}finally{try{fe&&!fe.done&&(P=$.return)&&P.call($)}finally{if(w)throw w.error}}return z},_}();function Er(_,w,P){if(w===void 0&&(w=""),P===void 0&&(P=Ze),Object.prototype.hasOwnProperty.call(_,W))return _[W];C(_)||(w=(_.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new du(_,new Map,ee(w),P);return L(_,W,z),z}var Bo=Object.create(null),ga=Object.create(null);function uo(_){var w=_[W];return w||(rt(_),_[W])}var jr=H("ObservableObjectAdministration",du);function mr(_){return!!I(_)&&(rt(_),jr(_[W]))}function Ir(_,w){if(typeof _=="object"&&_!==null){if(Rr(_))return w!==void 0&&M(!1),_[W].atom;if(sr(_))return _[W];if(Cn(_)){var P=_;return w===void 0?P._keysAtom:((z=P._data.get(w)||P._hasMap.get(w))||M(!1),z)}var z;if(rt(_),w&&!_[W]&&_[w],mr(_))return w?((z=_[W].values.get(w))||M(!1),z):M(!1);if(U(_)||bo(_)||zi(_))return _}else if(typeof _=="function"&&zi(_[W]))return _[W];return M(!1)}function co(_,w){return _||M("Expecting some object"),w!==void 0?co(Ir(_,w)):U(_)||bo(_)||zi(_)||Cn(_)||sr(_)?_:(rt(_),_[W]?_[W]:void M(!1))}var Oe=Object.prototype.toString;function De(_,w,P){return P===void 0&&(P=-1),Re(_,w,P)}function Re(_,w,P,z,$){if(_===w)return _!==0||1/_==1/w;if(_==null||w==null)return!1;if(_!=_)return w!=w;var fe=typeof _;if(fe!=="function"&&fe!=="object"&&typeof w!="object")return!1;var Ee=Oe.call(_);if(Ee!==Oe.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+_==""+w;case"[object Number]":return+_!=+_?+w!=+w:+_==0?1/+_==1/w:+_==+w;case"[object Date]":case"[object Boolean]":return+_==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(_)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":P>=0&&P++}_=Qe(_),w=Qe(w);var Fe=Ee==="[object Array]";if(!Fe){if(typeof _!="object"||typeof w!="object")return!1;var ut=_.constructor,Yt=w.constructor;if(ut!==Yt&&!(typeof ut=="function"&&ut instanceof ut&&typeof Yt=="function"&&Yt instanceof Yt)&&"constructor"in _&&"constructor"in w)return!1}if(P===0)return!1;P<0&&(P=-1),$=$||[];for(var et=(z=z||[]).length;et--;)if(z[et]===_)return $[et]===w;if(z.push(_),$.push(w),Fe){if((et=_.length)!==w.length)return!1;for(;et--;)if(!Re(_[et],w[et],P-1,z,$))return!1}else{var pn=Object.keys(_),Ft=void 0;if(et=pn.length,Object.keys(w).length!==et)return!1;for(;et--;)if(!Bt(w,Ft=pn[et])||!Re(_[Ft],w[Ft],P-1,z,$))return!1}return z.pop(),$.pop(),!0}function Qe(_){return Rr(_)?_.slice():V(_)||Cn(_)||te(_)||sr(_)?Array.from(_.entries()):_}function Bt(_,w){return Object.prototype.hasOwnProperty.call(_,w)}function $t(_){return _[Symbol.iterator]=gn,_}function gn(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Qa,extras:{getDebugName:function(_,w){return(w!==void 0?Ir(_,w):mr(_)||Cn(_)||sr(_)?co(_):Ir(_)).name}},$mobx:W})}).call(this,o(163),o(68))},function(s,p,o){var f=o(113),d=o(42),O=o(179);f||d(Object.prototype,"toString",O,{unsafe:!0})},function(s,p,o){var f=o(41),d=o(100),O=o(80),v=o(58),E=o(116),M="Array Iterator",A=v.set,D=v.getterFor(M);s.exports=E(Array,"Array",function(k,I){A(this,{type:M,target:f(k),index:0,kind:I})},function(){var k=D(this),I=k.target,C=k.kind,L=k.index++;return!I||L>=I.length?(k.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:L,done:!1}:C=="values"?{value:I[L],done:!1}:{value:[L,I[L]],done:!1}},"values"),O.Arguments=O.Array,d("keys"),d("values"),d("entries")},function(s,p,o){var f=o(16),d=o(7),O=o(46),v=o(76),E=o(34),M=o(15),A=o(71),D=o(36),k=o(108),I=o(18),C=o(35),L=o(96),H=o(30),V=o(33),te=o(54),ue=o(87),ee=o(32),J=o(40),Q=o(41),W=o(86),B=o(39),U=o(69),Y=o(60),K=o(77),ie=o(74),xe=o(139),ge=o(112),Pe=o(50),Be=o(38),je=o(84),ve=o(98),Se=o(42),Ae=o(89),Xe=o(93),rt=o(72),Ot=o(90),We=o(28),Ze=o(140),gt=o(141),ce=o(78),ae=o(58),he=o(79).forEach,Te=Xe("hidden"),Ue="Symbol",ze=We("toPrimitive"),wt=ae.set,Tt=ae.getterFor(Ue),St=Object.prototype,yt=d.Symbol,Me=yt&&yt.prototype,st=d.TypeError,le=d.QObject,it=O("JSON","stringify"),Lt=Pe.f,on=Be.f,zt=xe.f,Zt=je.f,fn=M([].push),_n=Ae("symbols"),Ct=Ae("op-symbols"),Dn=Ae("string-to-symbol-registry"),q=Ae("symbol-to-string-registry"),pe=Ae("wks"),oe=!le||!le.prototype||!le.prototype.findChild,me=D&&I(function(){return Y(on({},"a",{get:function(){return on(this,"a",{value:7}).a}})).a!=7})?function(at,mt,xt){var Rt=Lt(St,mt);Rt&&delete St[mt],on(at,mt,xt),Rt&&at!==St&&on(St,mt,Rt)}:on,Ve=function(at,mt){var xt=_n[at]=Y(Me);return wt(xt,{type:Ue,tag:at,description:mt}),D||(xt.description=mt),xt},$e=function(at,mt,xt){at===St&&$e(Ct,mt,xt),ee(at);var Rt=W(mt);return ee(xt),C(_n,Rt)?(xt.enumerable?(C(at,Te)&&at[Te][Rt]&&(at[Te][Rt]=!1),xt=Y(xt,{enumerable:U(0,!1)})):(C(at,Te)||on(at,Te,U(1,{})),at[Te][Rt]=!0),me(at,Rt,xt)):on(at,Rt,xt)},ft=function(at,mt){ee(at);var xt=Q(mt),Rt=K(xt).concat(Nn(xt));return he(Rt,function(sn){D&&!E(Ut,xt,sn)||$e(at,sn,xt[sn])}),at},Ut=function(at){var mt=W(at),xt=E(Zt,this,mt);return!(this===St&&C(_n,mt)&&!C(Ct,mt))&&(!(xt||!C(this,mt)||!C(_n,mt)||C(this,Te)&&this[Te][mt])||xt)},Gn=function(at,mt){var xt=Q(at),Rt=W(mt);if(xt!==St||!C(_n,Rt)||C(Ct,Rt)){var sn=Lt(xt,Rt);return!sn||!C(_n,Rt)||C(xt,Te)&&xt[Te][Rt]||(sn.enumerable=!0),sn}},Jn=function(at){var mt=zt(Q(at)),xt=[];return he(mt,function(Rt){C(_n,Rt)||C(rt,Rt)||fn(xt,Rt)}),xt},Nn=function(at){var mt=at===St,xt=zt(mt?Ct:Q(at)),Rt=[];return he(xt,function(sn){!C(_n,sn)||mt&&!C(St,sn)||fn(Rt,_n[sn])}),Rt};if(k||(yt=function(){if(te(Me,this))throw st("Symbol is not a constructor");var at=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,mt=Ot(at),xt=function(Rt){this===St&&E(xt,Ct,Rt),C(this,Te)&&C(this[Te],mt)&&(this[Te][mt]=!1),me(this,mt,U(1,Rt))};return D&&oe&&me(St,mt,{configurable:!0,set:xt}),Ve(mt,at)},Se(Me=yt.prototype,"toString",function(){return Tt(this).tag}),Se(yt,"withoutSetter",function(at){return Ve(Ot(at),at)}),je.f=Ut,Be.f=$e,Pe.f=Gn,ie.f=xe.f=Jn,ge.f=Nn,Ze.f=function(at){return Ve(We(at),at)},D&&(on(Me,"description",{configurable:!0,get:function(){return Tt(this).description}}),A||Se(St,"propertyIsEnumerable",Ut,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:yt}),he(K(pe),function(at){gt(at)}),f({target:Ue,stat:!0,forced:!k},{for:function(at){var mt=B(at);if(C(Dn,mt))return Dn[mt];var xt=yt(mt);return Dn[mt]=xt,q[xt]=mt,xt},keyFor:function(at){if(!ue(at))throw st(at+" is not a symbol");if(C(q,at))return q[at]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),f({target:"Object",stat:!0,forced:!k,sham:!D},{create:function(at,mt){return mt===void 0?Y(at):ft(Y(at),mt)},defineProperty:$e,defineProperties:ft,getOwnPropertyDescriptor:Gn}),f({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:Jn,getOwnPropertySymbols:Nn}),f({target:"Object",stat:!0,forced:I(function(){ge.f(1)})},{getOwnPropertySymbols:function(at){return ge.f(J(at))}}),it&&f({target:"JSON",stat:!0,forced:!k||I(function(){var at=yt();return it([at])!="[null]"||it({a:at})!="{}"||it(Object(at))!="{}"})},{stringify:function(at,mt,xt){var Rt=ve(arguments),sn=mt;if((V(mt)||at!==void 0)&&!ue(at))return L(mt)||(mt=function(jn,go){if(H(sn)&&(go=E(sn,this,jn,go)),!ue(go))return go}),Rt[1]=mt,v(it,null,Rt)}}),!Me[ze]){var Ln=Me.valueOf;Se(Me,ze,function(at){return E(Ln,this)})}ce(yt,Ue),rt[Te]=!0},function(s,p,o){var f=o(7),d=o(152),O=o(153),v=o(3),E=o(57),M=o(28),A=M("iterator"),D=M("toStringTag"),k=v.values,I=function(L,H){if(L){if(L[A]!==k)try{E(L,A,k)}catch{L[A]=k}if(L[D]||E(L,D,H),d[H]){for(var V in v)if(L[V]!==v[V])try{E(L,V,v[V])}catch{L[V]=v[V]}}}};for(var C in d)I(f[C]&&f[C].prototype,C);I(O,"DOMTokenList")},function(s,p,o){var f=o(151).charAt,d=o(39),O=o(58),v=o(116),E="String Iterator",M=O.set,A=O.getterFor(E);v(String,"String",function(D){M(this,{type:E,string:d(D),index:0})},function(){var D,k=A(this),I=k.string,C=k.index;return C>=I.length?{value:void 0,done:!0}:(D=f(I,C),k.index+=D.length,{value:D,done:!1})})},function(s,p,o){(function(f){var d=function(O){return O&&O.Math==Math&&O};s.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(s,p,o){var f=o(16),d=o(36),O=o(7),v=o(15),E=o(35),M=o(30),A=o(54),D=o(39),k=o(38).f,I=o(134),C=O.Symbol,L=C&&C.prototype;if(d&&M(C)&&(!("description"in L)||C().description!==void 0)){var H={},V=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:D(arguments[0]),U=A(L,this)?new C(B):B===void 0?C():C(B);return B===""&&(H[U]=!0),U};I(V,C),V.prototype=L,L.constructor=V;var te=String(C("test"))=="Symbol(test)",ue=v(L.toString),ee=v(L.valueOf),J=/^Symbol\((.*)\)[^)]+$/,Q=v("".replace),W=v("".slice);k(L,"description",{configurable:!0,get:function(){var B=ee(this),U=ue(B);if(E(H,B))return"";var Y=te?W(U,7,-1):Q(U,J,"$1");return Y===""?void 0:Y}}),f({global:!0,forced:!0},{Symbol:V})}},function(s,p,o){o(141)("iterator")},function(s,p,o){o.d(p,"a",function(){return v.a}),o.d(p,"c",function(){return v.e}),o.d(p,"h",function(){return J}),o.d(p,"i",function(){return te}),o.d(p,"j",function(){return H}),o.d(p,"b",function(){return Pe}),o.d(p,"e",function(){return Se}),o.d(p,"f",function(){return Be}),o.d(p,"g",function(){return _n});var f,d,O,v=o(0),E=0,M=[],A=v.i.__b,D=v.i.__r,k=v.i.diffed,I=v.i.__c,C=v.i.unmount;function L(q,pe){v.i.__h&&v.i.__h(d,q,E||pe),E=0;var oe=d.__H||(d.__H={__:[],__h:[]});return q>=oe.__.length&&oe.__.push({}),oe.__[q]}function H(q){return E=1,V(ie,q)}function V(q,pe,oe){var me=L(f++,2);return me.t=q,me.__c||(me.__=[oe?oe(pe):ie(void 0,pe),function(Ve){var $e=me.t(me.__[0],Ve);me.__[0]!==$e&&(me.__=[$e,me.__[1]],me.__c.setState({}))}],me.__c=d),me.__}function te(q,pe){var oe=L(f++,3);!v.i.__s&&K(oe.__H,pe)&&(oe.__=q,oe.__H=pe,d.__H.__h.push(oe))}function ue(q,pe){var oe=L(f++,4);!v.i.__s&&K(oe.__H,pe)&&(oe.__=q,oe.__H=pe,d.__h.push(oe))}function ee(q,pe){var oe=L(f++,7);return K(oe.__H,pe)&&(oe.__=q(),oe.__H=pe,oe.__h=q),oe.__}function J(q,pe){return E=8,ee(function(){return q},pe)}function Q(){var q;for(M.sort(function(pe,oe){return pe.__v.__b-oe.__v.__b});q=M.pop();)if(q.__P)try{q.__H.__h.forEach(U),q.__H.__h.forEach(Y),q.__H.__h=[]}catch(pe){q.__H.__h=[],v.i.__e(pe,q.__v)}}v.i.__b=function(q){d=null,A&&A(q)},v.i.__r=function(q){D&&D(q),f=0;var pe=(d=q.__c).__H;pe&&(pe.__h.forEach(U),pe.__h.forEach(Y),pe.__h=[])},v.i.diffed=function(q){k&&k(q);var pe=q.__c;pe&&pe.__H&&pe.__H.__h.length&&(M.push(pe)!==1&&O===v.i.requestAnimationFrame||((O=v.i.requestAnimationFrame)||B)(Q)),d=null},v.i.__c=function(q,pe){pe.some(function(oe){try{oe.__h.forEach(U),oe.__h=oe.__h.filter(function(me){return!me.__||Y(me)})}catch(me){pe.some(function(Ve){Ve.__h&&(Ve.__h=[])}),pe=[],v.i.__e(me,oe.__v)}}),I&&I(q,pe)},v.i.unmount=function(q){C&&C(q);var pe,oe=q.__c;oe&&oe.__H&&(oe.__H.__.forEach(function(me){try{U(me)}catch(Ve){pe=Ve}}),pe&&v.i.__e(pe,oe.__v))};var W=typeof requestAnimationFrame=="function";function B(q){var pe,oe=function(){clearTimeout(me),W&&cancelAnimationFrame(pe),setTimeout(q)},me=setTimeout(oe,100);W&&(pe=requestAnimationFrame(oe))}function U(q){var pe=d,oe=q.__c;typeof oe=="function"&&(q.__c=void 0,oe()),d=pe}function Y(q){var pe=d;q.__c=q.__(),d=pe}function K(q,pe){return!q||q.length!==pe.length||pe.some(function(oe,me){return oe!==q[me]})}function ie(q,pe){return typeof pe=="function"?pe(q):pe}function xe(q,pe){for(var oe in pe)q[oe]=pe[oe];return q}function ge(q,pe){for(var oe in q)if(oe!=="__source"&&!(oe in pe))return!0;for(var me in pe)if(me!=="__source"&&q[me]!==pe[me])return!0;return!1}function Pe(q){this.props=q}function Be(q,pe){function oe(Ve){var $e=this.props.ref,ft=$e==Ve.ref;return!ft&&$e&&($e.call?$e(null):$e.current=null),pe?!pe(this.props,Ve)||!ft:ge(this.props,Ve)}function me(Ve){return this.shouldComponentUpdate=oe,Object(v.e)(q,Ve)}return me.displayName="Memo("+(q.displayName||q.name)+")",me.prototype.isReactComponent=!0,me.__f=!0,me}(Pe.prototype=new v.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(q,pe){return ge(this.props,q)||ge(this.state,pe)};var je=v.i.__b;v.i.__b=function(q){q.type&&q.type.__f&&q.ref&&(q.props.ref=q.ref,q.ref=null),je&&je(q)};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Se(q){function pe(oe,me){var Ve=xe({},oe);return delete Ve.ref,q(Ve,!(me=oe.ref||me)||typeof me=="object"&&!("current"in me)?null:me)}return pe.$$typeof=ve,pe.render=pe,pe.prototype.isReactComponent=pe.__f=!0,pe.displayName="ForwardRef("+(q.displayName||q.name)+")",pe}var Ae=function(q,pe){return q==null?null:Object(v.k)(Object(v.k)(q).map(pe))},Xe={map:Ae,forEach:Ae,count:function(q){return q?Object(v.k)(q).length:0},only:function(q){var pe=Object(v.k)(q);if(pe.length!==1)throw"Children.only";return pe[0]},toArray:v.k},rt=v.i.__e;v.i.__e=function(q,pe,oe){if(q.then){for(var me,Ve=pe;Ve=Ve.__;)if((me=Ve.__c)&&me.__c)return pe.__e==null&&(pe.__e=oe.__e,pe.__k=oe.__k),me.__c(q,pe)}rt(q,pe,oe)};var Ot=v.i.unmount;function We(q,pe,oe){return q&&(q.__c&&q.__c.__H&&(q.__c.__H.__.forEach(function(me){typeof me.__c=="function"&&me.__c()}),q.__c.__H=null),(q=xe({},q)).__c!=null&&(q.__c.__P===oe&&(q.__c.__P=pe),q.__c=null),q.__k=q.__k&&q.__k.map(function(me){return We(me,pe,oe)})),q}function Ze(q,pe,oe){return q&&(q.__v=null,q.__k=q.__k&&q.__k.map(function(me){return Ze(me,pe,oe)}),q.__c&&q.__c.__P===pe&&(q.__e&&oe.insertBefore(q.__e,q.__d),q.__c.__e=!0,q.__c.__P=oe)),q}function gt(){this.__u=0,this.t=null,this.__b=null}function ce(q){var pe=q.__.__c;return pe&&pe.__e&&pe.__e(q)}function ae(){this.u=null,this.o=null}v.i.unmount=function(q){var pe=q.__c;pe&&pe.__R&&pe.__R(),pe&&q.__h===!0&&(q.type=null),Ot&&Ot(q)},(gt.prototype=new v.a).__c=function(q,pe){var oe=pe.__c,me=this;me.t==null&&(me.t=[]),me.t.push(oe);var Ve=ce(me.__v),$e=!1,ft=function(){$e||($e=!0,oe.__R=null,Ve?Ve(Ut):Ut())};oe.__R=ft;var Ut=function(){if(!--me.__u){if(me.state.__e){var Jn=me.state.__e;me.__v.__k[0]=Ze(Jn,Jn.__c.__P,Jn.__c.__O)}var Nn;for(me.setState({__e:me.__b=null});Nn=me.t.pop();)Nn.forceUpdate()}},Gn=pe.__h===!0;me.__u++||Gn||me.setState({__e:me.__b=me.__v.__k[0]}),q.then(ft,ft)},gt.prototype.componentWillUnmount=function(){this.t=[]},gt.prototype.render=function(q,pe){if(this.__b){if(this.__v.__k){var oe=document.createElement("div"),me=this.__v.__k[0].__c;this.__v.__k[0]=We(this.__b,oe,me.__O=me.__P)}this.__b=null}var Ve=pe.__e&&Object(v.e)(v.b,null,q.fallback);return Ve&&(Ve.__h=null),[Object(v.e)(v.b,null,pe.__e?null:q.children),Ve]};var he=function(q,pe,oe){if(++oe[1]===oe[0]&&q.o.delete(pe),q.props.revealOrder&&(q.props.revealOrder[0]!=="t"||!q.o.size))for(oe=q.u;oe;){for(;oe.length>3;)oe.pop()();if(oe[1]<oe[0])break;q.u=oe=oe[2]}};function Te(q){return this.getChildContext=function(){return q.context},q.children}function Ue(q){var pe=this,oe=q.i;pe.componentWillUnmount=function(){Object(v.j)(null,pe.l),pe.l=null,pe.i=null},pe.i&&pe.i!==oe&&pe.componentWillUnmount(),q.__v?(pe.l||(pe.i=oe,pe.l={nodeType:1,parentNode:oe,childNodes:[],appendChild:function(me){this.childNodes.push(me),pe.i.appendChild(me)},insertBefore:function(me,Ve){this.childNodes.push(me),pe.i.appendChild(me)},removeChild:function(me){this.childNodes.splice(this.childNodes.indexOf(me)>>>1,1),pe.i.removeChild(me)}}),Object(v.j)(Object(v.e)(Te,{context:pe.context},q.__v),pe.l)):pe.l&&pe.componentWillUnmount()}(ae.prototype=new v.a).__e=function(q){var pe=this,oe=ce(pe.__v),me=pe.o.get(q);return me[0]++,function(Ve){var $e=function(){pe.props.revealOrder?(me.push(Ve),he(pe,q,me)):Ve()};oe?oe($e):$e()}},ae.prototype.render=function(q){this.u=null,this.o=new Map;var pe=Object(v.k)(q.children);q.revealOrder&&q.revealOrder[0]==="b"&&pe.reverse();for(var oe=pe.length;oe--;)this.o.set(pe[oe],this.u=[1,0,this.u]);return q.children},ae.prototype.componentDidUpdate=ae.prototype.componentDidMount=function(){var q=this;this.o.forEach(function(pe,oe){he(q,oe,pe)})};var ze=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,wt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Tt=typeof document<"u",St=function(q){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(q)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(q){Object.defineProperty(v.a.prototype,q,{configurable:!0,get:function(){return this["UNSAFE_"+q]},set:function(pe){Object.defineProperty(this,q,{configurable:!0,writable:!0,value:pe})}})});var yt=v.i.event;function Me(){}function st(){return this.cancelBubble}function le(){return this.defaultPrevented}v.i.event=function(q){return yt&&(q=yt(q)),q.persist=Me,q.isPropagationStopped=st,q.isDefaultPrevented=le,q.nativeEvent=q};var it,Lt={configurable:!0,get:function(){return this.class}},on=v.i.vnode;v.i.vnode=function(q){var pe=q.type,oe=q.props,me=oe;if(typeof pe=="string"){var Ve=pe.indexOf("-")===-1;for(var $e in me={},oe){var ft=oe[$e];Tt&&$e==="children"&&pe==="noscript"||$e==="value"&&"defaultValue"in oe&&ft==null||($e==="defaultValue"&&"value"in oe&&oe.value==null?$e="value":$e==="download"&&ft===!0?ft="":/ondoubleclick/i.test($e)?$e="ondblclick":/^onchange(textarea|input)/i.test($e+pe)&&!St(oe.type)?$e="oninput":/^onfocus$/i.test($e)?$e="onfocusin":/^onblur$/i.test($e)?$e="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test($e)?$e=$e.toLowerCase():Ve&&wt.test($e)?$e=$e.replace(/[A-Z0-9]/,"-$&").toLowerCase():ft===null&&(ft=void 0),me[$e]=ft)}pe=="select"&&me.multiple&&Array.isArray(me.value)&&(me.value=Object(v.k)(oe.children).forEach(function(Ut){Ut.props.selected=me.value.indexOf(Ut.props.value)!=-1})),pe=="select"&&me.defaultValue!=null&&(me.value=Object(v.k)(oe.children).forEach(function(Ut){Ut.props.selected=me.multiple?me.defaultValue.indexOf(Ut.props.value)!=-1:me.defaultValue==Ut.props.value})),q.props=me,oe.class!=oe.className&&(Lt.enumerable="className"in oe,oe.className!=null&&(me.class=oe.className),Object.defineProperty(me,"className",Lt))}q.$$typeof=ze,on&&on(q)};var zt=v.i.__r;v.i.__r=function(q){zt&&zt(q),it=q.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(q){return it.__n[q.__c].props.value}}}};function fn(q){return!!q&&q.$$typeof===ze}var _n=function(q,pe){return q(pe)},Ct=v.b,Dn={useState:H,useReducer:V,useEffect:te,useLayoutEffect:ue,useRef:function(q){return E=5,ee(function(){return{current:q}},[])},useImperativeHandle:function(q,pe,oe){E=6,ue(function(){typeof q=="function"?q(pe()):q&&(q.current=pe())},oe==null?oe:oe.concat(q))},useMemo:ee,useCallback:J,useContext:function(q){var pe=d.context[q.__c],oe=L(f++,9);return oe.c=q,pe?(oe.__==null&&(oe.__=!0,pe.sub(d)),pe.props.value):q.__},useDebugValue:function(q,pe){v.i.useDebugValue&&v.i.useDebugValue(pe?pe(q):q)},version:"17.0.2",Children:Xe,render:function(q,pe,oe){return pe.__k==null&&(pe.textContent=""),Object(v.j)(q,pe),typeof oe=="function"&&oe(),q?q.__c:null},hydrate:function(q,pe,oe){return Object(v.h)(q,pe),typeof oe=="function"&&oe(),q?q.__c:null},unmountComponentAtNode:function(q){return!!q.__k&&(Object(v.j)(null,q),!0)},createPortal:function(q,pe){return Object(v.e)(Ue,{__v:q,i:pe})},createElement:v.e,createContext:v.d,createFactory:function(q){return v.e.bind(null,q)},cloneElement:function(q){return fn(q)?v.c.apply(null,arguments):q},createRef:v.f,Fragment:v.b,isValidElement:fn,findDOMNode:function(q){return q&&(q.base||q.nodeType===1&&q)||null},Component:v.a,PureComponent:Pe,memo:Be,forwardRef:Se,flushSync:function(q,pe){return q(pe)},unstable_batchedUpdates:_n,StrictMode:Ct,Suspense:gt,SuspenseList:ae,lazy:function(q){var pe,oe,me;function Ve($e){if(pe||(pe=q()).then(function(ft){oe=ft.default||ft},function(ft){me=ft}),me)throw me;if(!oe)throw pe;return Object(v.e)(oe,$e)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};p.d=Dn},function(s,p,o){var f=o(7),d=o(152),O=o(153),v=o(187),E=o(57),M=function(D){if(D&&D.forEach!==v)try{E(D,"forEach",v)}catch{D.forEach=v}};for(var A in d)d[A]&&M(f[A]&&f[A].prototype);M(O)},function(s,p,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(s,p,o){var f=o(16),d=o(18),O=o(40),v=o(101),E=o(143);f({target:"Object",stat:!0,forced:d(function(){v(1)}),sham:!E},{getPrototypeOf:function(M){return v(O(M))}})},function(s,p,o){var f=o(16),d=o(46),O=o(76),v=o(203),E=o(165),M=o(32),A=o(33),D=o(60),k=o(18),I=d("Reflect","construct"),C=Object.prototype,L=[].push,H=k(function(){function ue(){}return!(I(function(){},[],ue)instanceof ue)}),V=!k(function(){I(function(){})}),te=H||V;f({target:"Reflect",stat:!0,forced:te,sham:te},{construct:function(ue,ee){E(ue),M(ee);var J=arguments.length<3?ue:E(arguments[2]);if(V&&!H)return I(ue,ee,J);if(ue==J){switch(ee.length){case 0:return new ue;case 1:return new ue(ee[0]);case 2:return new ue(ee[0],ee[1]);case 3:return new ue(ee[0],ee[1],ee[2]);case 4:return new ue(ee[0],ee[1],ee[2],ee[3])}var Q=[null];return O(L,Q,ee),new(O(v,ue,Q))}var W=J.prototype,B=D(A(W)?W:C),U=O(ue,B,ee);return A(U)?U:B}})},function(s,p){var o=Function.prototype,f=o.bind,d=o.call,O=f&&f.bind(d);s.exports=f?function(v){return v&&O(d,v)}:function(v){return v&&function(){return d.apply(v,arguments)}}},function(s,p,o){var f=o(7),d=o(50).f,O=o(57),v=o(42),E=o(110),M=o(134),A=o(95);s.exports=function(D,k){var I,C,L,H,V,te=D.target,ue=D.global,ee=D.stat;if(I=ue?f:ee?f[te]||E(te,{}):(f[te]||{}).prototype)for(C in k){if(H=k[C],L=D.noTargetGet?(V=d(I,C))&&V.value:I[C],!A(ue?C:te+(ee?".":"#")+C,D.forced)&&L!==void 0){if(typeof H==typeof L)continue;M(H,L)}(D.sham||L&&L.sham)&&O(H,"sham",!0),v(I,C,H,D)}}},function(s,p,o){var f=o(16),d=o(7),O=o(96),v=o(99),E=o(33),M=o(75),A=o(45),D=o(41),k=o(63),I=o(28),C=o(81),L=o(98),H=C("slice"),V=I("species"),te=d.Array,ue=Math.max;f({target:"Array",proto:!0,forced:!H},{slice:function(ee,J){var Q,W,B,U=D(this),Y=A(U),K=M(ee,Y),ie=M(J===void 0?Y:J,Y);if(O(U)&&(Q=U.constructor,(v(Q)&&(Q===te||O(Q.prototype))||E(Q)&&(Q=Q[V])===null)&&(Q=void 0),Q===te||Q===void 0))return L(U,K,ie);for(W=new(Q===void 0?te:Q)(ue(ie-K,0)),B=0;K<ie;K++,B++)K in U&&k(W,B,U[K]);return W.length=B,W}})},function(s,p){s.exports=function(o){try{return!!o()}catch{return!0}}},function(s,p,o){var f=o(16),d=o(103);f({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(s,p,o){var f=o(16),d=o(40),O=o(77);f({target:"Object",stat:!0,forced:o(18)(function(){O(1)})},{keys:function(v){return O(d(v))}})},function(s,p,o){var f=o(36),d=o(73).EXISTS,O=o(15),v=o(38).f,E=Function.prototype,M=O(E.toString),A=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,D=O(A.exec);f&&!d&&v(E,"name",{configurable:!0,get:function(){try{return D(A,M(this))[1]}catch{return""}}})},function(s,p,o){var f=o(16),d=o(18),O=o(41),v=o(50).f,E=o(36),M=d(function(){v(1)});f({target:"Object",stat:!0,forced:!E||M,sham:!E},{getOwnPropertyDescriptor:function(A,D){return v(O(A),D)}})},function(s,p,o){var f=o(16),d=o(188);f({target:"Array",stat:!0,forced:!o(120)(function(O){Array.from(O)})},{from:d})},function(s,p,o){var f=o(16),d=o(79).filter;f({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,p,o){var f=o(16),d=o(36),O=o(135),v=o(41),E=o(50),M=o(63);f({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(A){for(var D,k,I=v(A),C=E.f,L=O(I),H={},V=0;L.length>V;)(k=C(I,D=L[V++]))!==void 0&&M(H,D,k);return H}})},,function(s,p,o){var f=o(16),d=o(7),O=o(18),v=o(96),E=o(33),M=o(40),A=o(45),D=o(63),k=o(115),I=o(81),C=o(28),L=o(70),H=C("isConcatSpreadable"),V=9007199254740991,te="Maximum allowed index exceeded",ue=d.TypeError,ee=L>=51||!O(function(){var W=[];return W[H]=!1,W.concat()[0]!==W}),J=I("concat"),Q=function(W){if(!E(W))return!1;var B=W[H];return B!==void 0?!!B:v(W)};f({target:"Array",proto:!0,forced:!ee||!J},{concat:function(W){var B,U,Y,K,ie,xe=M(this),ge=k(xe,0),Pe=0;for(B=-1,Y=arguments.length;B<Y;B++)if(Q(ie=B===-1?xe:arguments[B])){if(Pe+(K=A(ie))>V)throw ue(te);for(U=0;U<K;U++,Pe++)U in ie&&D(ge,Pe,ie[U])}else{if(Pe>=V)throw ue(te);D(ge,Pe++,ie)}return ge.length=Pe,ge}})},function(s,p,o){var f=o(7),d=o(89),O=o(35),v=o(90),E=o(108),M=o(132),A=d("wks"),D=f.Symbol,k=D&&D.for,I=M?D:D&&D.withoutSetter||v;s.exports=function(C){if(!O(A,C)||!E&&typeof A[C]!="string"){var L="Symbol."+C;E&&O(D,C)?A[C]=D[C]:A[C]=M&&k?k(L):I(L)}return A[C]}},function(s,p,o){var f=o(16),d=o(202);f({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(s,p){s.exports=function(o){return typeof o=="function"}},function(s,p,o){var f=o(106),d=typeof self=="object"&&self&&self.Object===Object&&self,O=f.a||d||Function("return this")();p.a=O},function(s,p,o){var f=o(7),d=o(33),O=f.String,v=f.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not an object")}},function(s,p,o){var f=o(30);s.exports=function(d){return typeof d=="object"?d!==null:f(d)}},function(s,p){var o=Function.prototype.call;s.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(s,p,o){var f=o(15),d=o(40),O=f({}.hasOwnProperty);s.exports=Object.hasOwn||function(v,E){return O(d(v),E)}},function(s,p,o){var f=o(18);s.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,p,o){var f=o(16),d=o(79).map;f({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(O){return d(this,O,arguments.length>1?arguments[1]:void 0)}})},function(s,p,o){var f=o(7),d=o(36),O=o(133),v=o(32),E=o(86),M=f.TypeError,A=Object.defineProperty;p.f=d?A:function(D,k,I){if(v(D),k=E(k),v(I),O)try{return A(D,k,I)}catch{}if("get"in I||"set"in I)throw M("Accessors not supported");return"value"in I&&(D[k]=I.value),D}},function(s,p,o){var f=o(7),d=o(97),O=f.String;s.exports=function(v){if(d(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return O(v)}},function(s,p,o){var f=o(7),d=o(44),O=f.Object;s.exports=function(v){return O(d(v))}},function(s,p,o){var f=o(85),d=o(44);s.exports=function(O){return f(d(O))}},function(s,p,o){var f=o(7),d=o(30),O=o(35),v=o(57),E=o(110),M=o(92),A=o(58),D=o(73).CONFIGURABLE,k=A.get,I=A.enforce,C=String(String).split("String");(s.exports=function(L,H,V,te){var ue,ee=!!te&&!!te.unsafe,J=!!te&&!!te.enumerable,Q=!!te&&!!te.noTargetGet,W=te&&te.name!==void 0?te.name:H;d(V)&&(String(W).slice(0,7)==="Symbol("&&(W="["+String(W).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!O(V,"name")||D&&V.name!==W)&&v(V,"name",W),(ue=I(V)).source||(ue.source=C.join(typeof W=="string"?W:""))),L!==f?(ee?!Q&&L[H]&&(J=!0):delete L[H],J?L[H]=V:v(L,H,V)):J?L[H]=V:E(H,V)})(Function.prototype,"toString",function(){return d(this)&&k(this).source||M(this)})},function(s,p,o){(function(f){o.d(p,"d",function(){return v}),o.d(p,"c",function(){return E}),o.d(p,"b",function(){return M}),o.d(p,"a",function(){return D});var d=o(10),O=function(k,I){var C=typeof Symbol=="function"&&k[Symbol.iterator];if(!C)return k;var L,H,V=C.call(k),te=[];try{for(;(I===void 0||I-- >0)&&!(L=V.next()).done;)te.push(L.value)}catch(ue){H={error:ue}}finally{try{L&&!L.done&&(C=V.return)&&C.call(V)}finally{if(H)throw H.error}}return te};function v(){var k=O(Object(d.j)(0),2)[1];return Object(d.h)(function(){k(function(I){return I+1})},[])}function E(k){if(!k||typeof k!="object")return!1;var I=Object.getPrototypeOf(k);return!I||I===Object.prototype}function M(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var A={};function D(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:A}}).call(this,o(68))},function(s,p,o){var f=o(7).TypeError;s.exports=function(d){if(d==null)throw f("Can't call method on "+d);return d}},function(s,p,o){var f=o(94);s.exports=function(d){return f(d.length)}},function(s,p,o){var f=o(7),d=o(30),O=function(v){return d(v)?v:void 0};s.exports=function(v,E){return arguments.length<2?O(f[v]):f[v]&&f[v][E]}},function(s,p,o){var f=o(16),d=o(34),O=o(33),v=o(32),E=o(204),M=o(50),A=o(101);f({target:"Reflect",stat:!0},{get:function D(k,I){var C,L,H=arguments.length<3?k:arguments[2];return v(k)===H?k[I]:(C=M.f(k,I))?E(C)?C.value:C.get===void 0?void 0:d(C.get,H):O(L=A(k))?D(L,I,H):void 0}})},function(s,p,o){(function(f){var d=o(31),O=o(171),v=y&&!y.nodeType&&y,E=v&&typeof f=="object"&&f&&!f.nodeType&&f,M=E&&E.exports===v?d.a.Buffer:void 0,A=(M?M.isBuffer:void 0)||O.a;p.a=A}).call(this,o(122)(s))},function(s,p,o){(function(f){var d=o(106),O=y&&!y.nodeType&&y,v=O&&typeof f=="object"&&f&&!f.nodeType&&f,E=v&&v.exports===O&&d.a.process,M=function(){try{var A=v&&v.require&&v.require("util").types;return A||E&&E.binding&&E.binding("util")}catch{}}();p.a=M}).call(this,o(122)(s))},function(s,p,o){var f=o(36),d=o(34),O=o(84),v=o(69),E=o(41),M=o(86),A=o(35),D=o(133),k=Object.getOwnPropertyDescriptor;p.f=f?k:function(I,C){if(I=E(I),C=M(C),D)try{return k(I,C)}catch{}if(A(I,C))return v(!d(O.f,I,C),I[C])}},function(s,p,o){var f=o(15),d=f({}.toString),O=f("".slice);s.exports=function(v){return O(d(v),8,-1)}},function(s,p,o){o(182)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},o(186))},function(s,p,o){var f=o(16),d=o(220).entries;f({target:"Object",stat:!0},{entries:function(O){return d(O)}})},function(s,p,o){var f=o(15);s.exports=f({}.isPrototypeOf)},function(s,p,o){var f=o(46);s.exports=f("navigator","userAgent")||""},function(s,p,o){var f=o(7),d=o(30),O=o(88),v=f.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a function")}},function(s,p,o){var f=o(36),d=o(38),O=o(69);s.exports=f?function(v,E,M){return d.f(v,E,O(1,M))}:function(v,E,M){return v[E]=M,v}},function(s,p,o){var f,d,O,v=o(175),E=o(7),M=o(15),A=o(33),D=o(57),k=o(35),I=o(109),C=o(93),L=o(72),H="Object already initialized",V=E.TypeError,te=E.WeakMap;if(v||I.state){var ue=I.state||(I.state=new te),ee=M(ue.get),J=M(ue.has),Q=M(ue.set);f=function(B,U){if(J(ue,B))throw new V(H);return U.facade=B,Q(ue,B,U),U},d=function(B){return ee(ue,B)||{}},O=function(B){return J(ue,B)}}else{var W=C("state");L[W]=!0,f=function(B,U){if(k(B,W))throw new V(H);return U.facade=B,D(B,W,U),U},d=function(B){return k(B,W)?B[W]:{}},O=function(B){return k(B,W)}}s.exports={set:f,get:d,has:O,enforce:function(B){return O(B)?d(B):f(B,{})},getterFor:function(B){return function(U){var Y;if(!A(U)||(Y=d(U)).type!==B)throw V("Incompatible receiver, "+B+" required");return Y}}}},function(s,p){var o=Math.ceil,f=Math.floor;s.exports=function(d){var O=+d;return O!=O||O===0?0:(O>0?f:o)(O)}},function(s,p,o){var f,d=o(32),O=o(176),v=o(111),E=o(72),M=o(138),A=o(91),D=o(93),k=D("IE_PROTO"),I=function(){},C=function(V){return"<script>"+V+"<\/script>"},L=function(V){V.write(C("")),V.close();var te=V.parentWindow.Object;return V=null,te},H=function(){try{f=new ActiveXObject("htmlfile")}catch{}var V,te;H=typeof document<"u"?document.domain&&f?L(f):((te=A("iframe")).style.display="none",M.appendChild(te),te.src="javascript:",(V=te.contentWindow.document).open(),V.write(C("document.F=Object")),V.close(),V.F):L(f);for(var ue=v.length;ue--;)delete H.prototype[v[ue]];return H()};E[k]=!0,s.exports=Object.create||function(V,te){var ue;return V!==null?(I.prototype=d(V),ue=new I,I.prototype=null,ue[k]=V):ue=H(),te===void 0?ue:O(ue,te)}},function(s,p,o){var f=o(36),d=o(7),O=o(15),v=o(95),E=o(42),M=o(35),A=o(148),D=o(54),k=o(87),I=o(131),C=o(18),L=o(74).f,H=o(50).f,V=o(38).f,te=o(160),ue=o(161).trim,ee="Number",J=d.Number,Q=J.prototype,W=d.TypeError,B=O("".slice),U=O("".charCodeAt),Y=function(Be){var je=I(Be,"number");return typeof je=="bigint"?je:K(je)},K=function(Be){var je,ve,Se,Ae,Xe,rt,Ot,We,Ze=I(Be,"number");if(k(Ze))throw W("Cannot convert a Symbol value to a number");if(typeof Ze=="string"&&Ze.length>2){if(Ze=ue(Ze),(je=U(Ze,0))===43||je===45){if((ve=U(Ze,2))===88||ve===120)return NaN}else if(je===48){switch(U(Ze,1)){case 66:case 98:Se=2,Ae=49;break;case 79:case 111:Se=8,Ae=55;break;default:return+Ze}for(rt=(Xe=B(Ze,2)).length,Ot=0;Ot<rt;Ot++)if((We=U(Xe,Ot))<48||We>Ae)return NaN;return parseInt(Xe,Se)}}return+Ze};if(v(ee,!J(" 0o1")||!J("0b1")||J("+0x1"))){for(var ie,xe=function(Be){var je=arguments.length<1?0:J(Y(Be)),ve=this;return D(Q,ve)&&C(function(){te(ve)})?A(Object(je),ve,xe):je},ge=f?L(J):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;ge.length>Pe;Pe++)M(J,ie=ge[Pe])&&!M(xe,ie)&&V(xe,ie,H(J,ie));xe.prototype=Q,Q.constructor=xe,E(d,ee,xe)}},function(s,p,o){var f=o(56);s.exports=function(d,O){var v=d[O];return v==null?void 0:f(v)}},function(s,p,o){var f=o(86),d=o(38),O=o(69);s.exports=function(v,E,M){var A=f(E);A in v?d.f(v,A,O(0,M)):v[A]=M}},function(s,p,o){var f=o(15),d=o(56),O=f(f.bind);s.exports=function(v,E){return d(v),E===void 0?v:O?O(v,E):function(){return v.apply(E,arguments)}}},function(s,p,o){var f=o(16),d=o(15),O=o(85),v=o(41),E=o(121),M=d([].join),A=O!=Object,D=E("join",",");f({target:"Array",proto:!0,forced:A||!D},{join:function(k){return M(v(this),k===void 0?",":k)}})},function(s,p,o){var f=o(15),d=o(73).PROPER,O=o(42),v=o(32),E=o(54),M=o(39),A=o(18),D=o(154),k="toString",I=RegExp.prototype,C=I.toString,L=f(D),H=A(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),V=d&&C.name!=k;(H||V)&&O(RegExp.prototype,k,function(){var te=v(this),ue=M(te.source),ee=te.flags;return"/"+ue+"/"+M(ee===void 0&&E(I,te)&&!("flags"in I)?L(te):ee)},{unsafe:!0})},function(s,p,o){var f=o(16),d=o(217),O=o(100);f({target:"Array",proto:!0},{fill:d}),O("fill")},function(s,p){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}s.exports=o},function(s,p){s.exports=function(o,f){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:f}}},function(s,p,o){var f,d,O=o(7),v=o(55),E=O.process,M=O.Deno,A=E&&E.versions||M&&M.version,D=A&&A.v8;D&&(d=(f=D.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!d&&v&&(!(f=v.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=v.match(/Chrome\/(\d+)/))&&(d=+f[1]),s.exports=d},function(s,p){s.exports=!1},function(s,p){s.exports={}},function(s,p,o){var f=o(36),d=o(35),O=Function.prototype,v=f&&Object.getOwnPropertyDescriptor,E=d(O,"name"),M=E&&(function(){}).name==="something",A=E&&(!f||f&&v(O,"name").configurable);s.exports={EXISTS:E,PROPER:M,CONFIGURABLE:A}},function(s,p,o){var f=o(136),d=o(111).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(O){return f(O,d)}},function(s,p,o){var f=o(59),d=Math.max,O=Math.min;s.exports=function(v,E){var M=f(v);return M<0?d(M+E,0):O(M,E)}},function(s,p){var o=Function.prototype,f=o.apply,d=o.bind,O=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(d?O.bind(f):function(){return O.apply(f,arguments)})},function(s,p,o){var f=o(136),d=o(111);s.exports=Object.keys||function(O){return f(O,d)}},function(s,p,o){var f=o(38).f,d=o(35),O=o(28)("toStringTag");s.exports=function(v,E,M){v&&!d(v=M?v:v.prototype,O)&&f(v,O,{configurable:!0,value:E})}},function(s,p,o){var f=o(64),d=o(15),O=o(85),v=o(40),E=o(45),M=o(115),A=d([].push),D=function(k){var I=k==1,C=k==2,L=k==3,H=k==4,V=k==6,te=k==7,ue=k==5||V;return function(ee,J,Q,W){for(var B,U,Y=v(ee),K=O(Y),ie=f(J,Q),xe=E(K),ge=0,Pe=W||M,Be=I?Pe(ee,xe):C||te?Pe(ee,0):void 0;xe>ge;ge++)if((ue||ge in K)&&(U=ie(B=K[ge],ge,Y),k))if(I)Be[ge]=U;else if(U)switch(k){case 3:return!0;case 5:return B;case 6:return ge;case 2:A(Be,B)}else switch(k){case 4:return!1;case 7:A(Be,B)}return V?-1:L||H?H:Be}};s.exports={forEach:D(0),map:D(1),filter:D(2),some:D(3),every:D(4),find:D(5),findIndex:D(6),filterReject:D(7)}},function(s,p){s.exports={}},function(s,p,o){var f=o(18),d=o(28),O=o(70),v=d("species");s.exports=function(E){return O>=51||!f(function(){var M=[];return(M.constructor={})[v]=function(){return{foo:1}},M[E](Boolean).foo!==1})}},function(s,p,o){var f=o(76),d=o(34),O=o(15),v=o(123),E=o(159),M=o(32),A=o(44),D=o(164),k=o(124),I=o(94),C=o(39),L=o(62),H=o(114),V=o(125),te=o(103),ue=o(155),ee=o(18),J=ue.UNSUPPORTED_Y,Q=4294967295,W=Math.min,B=[].push,U=O(/./.exec),Y=O(B),K=O("".slice),ie=!ee(function(){var xe=/(?:)/,ge=xe.exec;xe.exec=function(){return ge.apply(this,arguments)};var Pe="ab".split(xe);return Pe.length!==2||Pe[0]!=="a"||Pe[1]!=="b"});v("split",function(xe,ge,Pe){var Be;return Be="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Se=C(A(this)),Ae=ve===void 0?Q:ve>>>0;if(Ae===0)return[];if(je===void 0)return[Se];if(!E(je))return d(ge,Se,je,Ae);for(var Xe,rt,Ot,We=[],Ze=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),gt=0,ce=new RegExp(je.source,Ze+"g");(Xe=d(te,ce,Se))&&!((rt=ce.lastIndex)>gt&&(Y(We,K(Se,gt,Xe.index)),Xe.length>1&&Xe.index<Se.length&&f(B,We,H(Xe,1)),Ot=Xe[0].length,gt=rt,We.length>=Ae));)ce.lastIndex===Xe.index&&ce.lastIndex++;return gt===Se.length?!Ot&&U(ce,"")||Y(We,""):Y(We,K(Se,gt)),We.length>Ae?H(We,0,Ae):We}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:d(ge,this,je,ve)}:ge,[function(je,ve){var Se=A(this),Ae=je==null?void 0:L(je,xe);return Ae?d(Ae,je,Se,ve):d(Be,C(Se),je,ve)},function(je,ve){var Se=M(this),Ae=C(je),Xe=Pe(Be,Se,Ae,ve,Be!==ge);if(Xe.done)return Xe.value;var rt=D(Se,RegExp),Ot=Se.unicode,We=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(J?"g":"y"),Ze=new rt(J?"^(?:"+Se.source+")":Se,We),gt=ve===void 0?Q:ve>>>0;if(gt===0)return[];if(Ae.length===0)return V(Ze,Ae)===null?[Ae]:[];for(var ce=0,ae=0,he=[];ae<Ae.length;){Ze.lastIndex=J?0:ae;var Te,Ue=V(Ze,J?K(Ae,ae):Ae);if(Ue===null||(Te=W(I(Ze.lastIndex+(J?ae:0)),Ae.length))===ce)ae=k(Ae,ae,Ot);else{if(Y(he,K(Ae,ce,ae)),he.length===gt)return he;for(var ze=1;ze<=Ue.length-1;ze++)if(Y(he,Ue[ze]),he.length===gt)return he;ae=ce=Te}}return Y(he,K(Ae,ce)),he}]},!ie,J)},function(s,p,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,p,o){var f={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,O=d&&!f.call({1:2},1);p.f=O?function(v){var E=d(this,v);return!!E&&E.enumerable}:f},function(s,p,o){var f=o(7),d=o(15),O=o(18),v=o(51),E=f.Object,M=d("".split);s.exports=O(function(){return!E("z").propertyIsEnumerable(0)})?function(A){return v(A)=="String"?M(A,""):E(A)}:E},function(s,p,o){var f=o(131),d=o(87);s.exports=function(O){var v=f(O,"string");return d(v)?v:v+""}},function(s,p,o){var f=o(7),d=o(46),O=o(30),v=o(54),E=o(132),M=f.Object;s.exports=E?function(A){return typeof A=="symbol"}:function(A){var D=d("Symbol");return O(D)&&v(D.prototype,M(A))}},function(s,p,o){var f=o(7).String;s.exports=function(d){try{return f(d)}catch{return"Object"}}},function(s,p,o){var f=o(71),d=o(109);(s.exports=function(O,v){return d[O]||(d[O]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,p,o){var f=o(15),d=0,O=Math.random(),v=f(1 .toString);s.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+v(++d+O,36)}},function(s,p,o){var f=o(7),d=o(33),O=f.document,v=d(O)&&d(O.createElement);s.exports=function(E){return v?O.createElement(E):{}}},function(s,p,o){var f=o(15),d=o(30),O=o(109),v=f(Function.toString);d(O.inspectSource)||(O.inspectSource=function(E){return v(E)}),s.exports=O.inspectSource},function(s,p,o){var f=o(89),d=o(90),O=f("keys");s.exports=function(v){return O[v]||(O[v]=d(v))}},function(s,p,o){var f=o(59),d=Math.min;s.exports=function(O){return O>0?d(f(O),9007199254740991):0}},function(s,p,o){var f=o(18),d=o(30),O=/#|\.prototype\./,v=function(k,I){var C=M[E(k)];return C==D||C!=A&&(d(I)?f(I):!!I)},E=v.normalize=function(k){return String(k).replace(O,".").toLowerCase()},M=v.data={},A=v.NATIVE="N",D=v.POLYFILL="P";s.exports=v},function(s,p,o){var f=o(51);s.exports=Array.isArray||function(d){return f(d)=="Array"}},function(s,p,o){var f=o(7),d=o(113),O=o(30),v=o(51),E=o(28)("toStringTag"),M=f.Object,A=v(function(){return arguments}())=="Arguments";s.exports=d?v:function(D){var k,I,C;return D===void 0?"Undefined":D===null?"Null":typeof(I=function(L,H){try{return L[H]}catch{}}(k=M(D),E))=="string"?I:A?v(k):(C=v(k))=="Object"&&O(k.callee)?"Arguments":C}},function(s,p,o){var f=o(15);s.exports=f([].slice)},function(s,p,o){var f=o(15),d=o(18),O=o(30),v=o(97),E=o(46),M=o(92),A=function(){},D=[],k=E("Reflect","construct"),I=/^\s*(?:class|function)\b/,C=f(I.exec),L=!I.exec(A),H=function(V){if(!O(V))return!1;try{return k(A,D,V),!0}catch{return!1}};s.exports=!k||d(function(){var V;return H(H.call)||!H(Object)||!H(function(){V=!0})||V})?function(V){if(!O(V))return!1;switch(v(V)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!C(I,M(V))}:H},function(s,p,o){var f=o(28),d=o(60),O=o(38),v=f("unscopables"),E=Array.prototype;E[v]==null&&O.f(E,v,{configurable:!0,value:d(null)}),s.exports=function(M){E[v][M]=!0}},function(s,p,o){var f=o(7),d=o(35),O=o(30),v=o(40),E=o(93),M=o(143),A=E("IE_PROTO"),D=f.Object,k=D.prototype;s.exports=M?D.getPrototypeOf:function(I){var C=v(I);if(d(C,A))return C[A];var L=C.constructor;return O(L)&&C instanceof L?L.prototype:C instanceof D?k:null}},function(s,p,o){var f=o(15),d=o(32),O=o(181);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,E=!1,M={};try{(v=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(M,[]),E=M instanceof Array}catch{}return function(A,D){return d(A),O(D),E?v(A,D):A.__proto__=D,A}}():void 0)},function(s,p,o){var f,d,O=o(34),v=o(15),E=o(39),M=o(154),A=o(155),D=o(89),k=o(60),I=o(58).get,C=o(190),L=o(191),H=D("native-string-replace",String.prototype.replace),V=RegExp.prototype.exec,te=V,ue=v("".charAt),ee=v("".indexOf),J=v("".replace),Q=v("".slice),W=(d=/b*/g,O(V,f=/a/,"a"),O(V,d,"a"),f.lastIndex!==0||d.lastIndex!==0),B=A.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0;(W||U||B||C||L)&&(te=function(Y){var K,ie,xe,ge,Pe,Be,je,ve=this,Se=I(ve),Ae=E(Y),Xe=Se.raw;if(Xe)return Xe.lastIndex=ve.lastIndex,K=O(te,Xe,Ae),ve.lastIndex=Xe.lastIndex,K;var rt=Se.groups,Ot=B&&ve.sticky,We=O(M,ve),Ze=ve.source,gt=0,ce=Ae;if(Ot&&(We=J(We,"y",""),ee(We,"g")===-1&&(We+="g"),ce=Q(Ae,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ue(Ae,ve.lastIndex-1)!==`
`)&&(Ze="(?: "+Ze+")",ce=" "+ce,gt++),ie=new RegExp("^(?:"+Ze+")",We)),U&&(ie=new RegExp("^"+Ze+"$(?!\\s)",We)),W&&(xe=ve.lastIndex),ge=O(V,Ot?ie:ve,ce),Ot?ge?(ge.input=Q(ge.input,gt),ge[0]=Q(ge[0],gt),ge.index=ve.lastIndex,ve.lastIndex+=ge[0].length):ve.lastIndex=0:W&&ge&&(ve.lastIndex=ve.global?ge.index+ge[0].length:xe),U&&ge&&ge.length>1&&O(H,ge[0],ie,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(ge[Pe]=void 0)}),ge&&rt)for(ge.groups=Be=k(null),Pe=0;Pe<rt.length;Pe++)Be[(je=rt[Pe])[0]]=ge[je[1]];return ge}),s.exports=te},function(s,p,o){var f=o(16),d=o(7),O=o(75),v=o(59),E=o(45),M=o(40),A=o(115),D=o(63),k=o(81)("splice"),I=d.TypeError,C=Math.max,L=Math.min,H=9007199254740991,V="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!k},{splice:function(te,ue){var ee,J,Q,W,B,U,Y=M(this),K=E(Y),ie=O(te,K),xe=arguments.length;if(xe===0?ee=J=0:xe===1?(ee=0,J=K-ie):(ee=xe-2,J=L(C(v(ue),0),K-ie)),K+ee-J>H)throw I(V);for(Q=A(Y,J),W=0;W<J;W++)(B=ie+W)in Y&&D(Q,W,Y[B]);if(Q.length=J,ee<J){for(W=ie;W<K-J;W++)U=W+ee,(B=W+J)in Y?Y[U]=Y[B]:delete Y[U];for(W=K;W>K-J+ee;W--)delete Y[W-1]}else if(ee>J)for(W=K-J;W>ie;W--)U=W+ee-1,(B=W+J-1)in Y?Y[U]=Y[B]:delete Y[U];for(W=0;W<ee;W++)Y[W+ie]=arguments[W+2];return Y.length=K-J+ee,Q}})},function(s,p,o){var f=o(16),d=o(205);f({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(O){return d(this,"a","name",O)}})},function(s,p,o){(function(f){var d=typeof f=="object"&&f&&f.Object===Object&&f;p.a=d}).call(this,o(68))},function(s,p,o){(function(f){var d=o(31),O=y&&!y.nodeType&&y,v=O&&typeof f=="object"&&f&&!f.nodeType&&f,E=v&&v.exports===O?d.a.Buffer:void 0,M=E?E.allocUnsafe:void 0;p.a=function(A,D){if(D)return A.slice();var k=A.length,I=M?M(k):new A.constructor(k);return A.copy(I),I}}).call(this,o(122)(s))},function(s,p,o){var f=o(70),d=o(18);s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var O=Symbol();return!String(O)||!(Object(O)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(s,p,o){var f=o(7),d=o(110),O="__core-js_shared__",v=f[O]||d(O,{});s.exports=v},function(s,p,o){var f=o(7),d=Object.defineProperty;s.exports=function(O,v){try{d(f,O,{value:v,configurable:!0,writable:!0})}catch{f[O]=v}return v}},function(s,p){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,p){p.f=Object.getOwnPropertySymbols},function(s,p,o){var f={};f[o(28)("toStringTag")]="z",s.exports=String(f)==="[object z]"},function(s,p,o){var f=o(7),d=o(75),O=o(45),v=o(63),E=f.Array,M=Math.max;s.exports=function(A,D,k){for(var I=O(A),C=d(D,I),L=d(k===void 0?I:k,I),H=E(M(L-C,0)),V=0;C<L;C++,V++)v(H,V,A[C]);return H.length=V,H}},function(s,p,o){var f=o(178);s.exports=function(d,O){return new(f(d))(O===0?0:O)}},function(s,p,o){var f=o(16),d=o(34),O=o(71),v=o(73),E=o(30),M=o(180),A=o(101),D=o(102),k=o(78),I=o(57),C=o(42),L=o(28),H=o(80),V=o(142),te=v.PROPER,ue=v.CONFIGURABLE,ee=V.IteratorPrototype,J=V.BUGGY_SAFARI_ITERATORS,Q=L("iterator"),W="keys",B="values",U="entries",Y=function(){return this};s.exports=function(K,ie,xe,ge,Pe,Be,je){M(xe,ie,ge);var ve,Se,Ae,Xe=function(ae){if(ae===Pe&&gt)return gt;if(!J&&ae in We)return We[ae];switch(ae){case W:case B:case U:return function(){return new xe(this,ae)}}return function(){return new xe(this)}},rt=ie+" Iterator",Ot=!1,We=K.prototype,Ze=We[Q]||We["@@iterator"]||Pe&&We[Pe],gt=!J&&Ze||Xe(Pe),ce=ie=="Array"&&We.entries||Ze;if(ce&&(ve=A(ce.call(new K)))!==Object.prototype&&ve.next&&(O||A(ve)===ee||(D?D(ve,ee):E(ve[Q])||C(ve,Q,Y)),k(ve,rt,!0,!0),O&&(H[rt]=Y)),te&&Pe==B&&Ze&&Ze.name!==B&&(!O&&ue?I(We,"name",B):(Ot=!0,gt=function(){return d(Ze,this)})),Pe)if(Se={values:Xe(B),keys:Be?gt:Xe(W),entries:Xe(U)},je)for(Ae in Se)(J||Ot||!(Ae in We))&&C(We,Ae,Se[Ae]);else f({target:ie,proto:!0,forced:J||Ot},Se);return O&&!je||We[Q]===gt||C(We,Q,gt,{name:Pe}),H[ie]=gt,Se}},function(s,p,o){var f=o(7),d=o(64),O=o(34),v=o(32),E=o(88),M=o(145),A=o(45),D=o(54),k=o(146),I=o(118),C=o(147),L=f.TypeError,H=function(te,ue){this.stopped=te,this.result=ue},V=H.prototype;s.exports=function(te,ue,ee){var J,Q,W,B,U,Y,K,ie=ee&&ee.that,xe=!(!ee||!ee.AS_ENTRIES),ge=!(!ee||!ee.IS_ITERATOR),Pe=!(!ee||!ee.INTERRUPTED),Be=d(ue,ie),je=function(Se){return J&&C(J,"normal",Se),new H(!0,Se)},ve=function(Se){return xe?(v(Se),Pe?Be(Se[0],Se[1],je):Be(Se[0],Se[1])):Pe?Be(Se,je):Be(Se)};if(ge)J=te;else{if(!(Q=I(te)))throw L(E(te)+" is not iterable");if(M(Q)){for(W=0,B=A(te);B>W;W++)if((U=ve(te[W]))&&D(V,U))return U;return new H(!1)}J=k(te,Q)}for(Y=J.next;!(K=O(Y,J)).done;){try{U=ve(K.value)}catch(Se){C(J,"throw",Se)}if(typeof U=="object"&&U&&D(V,U))return U}return new H(!1)}},function(s,p,o){var f=o(97),d=o(62),O=o(80),v=o(28)("iterator");s.exports=function(E){if(E!=null)return d(E,v)||d(E,"@@iterator")||O[f(E)]}},function(s,p,o){var f=o(7),d=o(54),O=f.TypeError;s.exports=function(v,E){if(d(E,v))return v;throw O("Incorrect invocation")}},function(s,p,o){var f=o(28)("iterator"),d=!1;try{var O=0,v={next:function(){return{done:!!O++}},return:function(){d=!0}};v[f]=function(){return this},Array.from(v,function(){throw 2})}catch{}s.exports=function(E,M){if(!M&&!d)return!1;var A=!1;try{var D={};D[f]=function(){return{next:function(){return{done:A=!0}}}},E(D)}catch{}return A}},function(s,p,o){var f=o(18);s.exports=function(d,O){var v=[][d];return!!v&&f(function(){v.call(null,O||function(){throw 1},1)})}},function(s,p){s.exports=function(o){if(!o.webpackPolyfill){var f=Object.create(o);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(s,p,o){o(19);var f=o(15),d=o(42),O=o(103),v=o(18),E=o(28),M=o(57),A=E("species"),D=RegExp.prototype;s.exports=function(k,I,C,L){var H=E(k),V=!v(function(){var J={};return J[H]=function(){return 7},""[k](J)!=7}),te=V&&!v(function(){var J=!1,Q=/a/;return k==="split"&&((Q={}).constructor={},Q.constructor[A]=function(){return Q},Q.flags="",Q[H]=/./[H]),Q.exec=function(){return J=!0,null},Q[H](""),!J});if(!V||!te||C){var ue=f(/./[H]),ee=I(H,""[k],function(J,Q,W,B,U){var Y=f(J),K=Q.exec;return K===O||K===D.exec?V&&!U?{done:!0,value:ue(Q,W,B)}:{done:!0,value:Y(W,Q,B)}:{done:!1}});d(String.prototype,k,ee[0]),d(D,H,ee[1])}L&&M(D[H],"sham",!0)}},function(s,p,o){var f=o(151).charAt;s.exports=function(d,O,v){return O+(v?f(d,O).length:1)}},function(s,p,o){var f=o(7),d=o(34),O=o(32),v=o(30),E=o(51),M=o(103),A=f.TypeError;s.exports=function(D,k){var I=D.exec;if(v(I)){var C=d(I,D,k);return C!==null&&O(C),C}if(E(D)==="RegExp")return d(M,D,k);throw A("RegExp#exec called on incompatible receiver")}},function(s,p,o){var f=o(76),d=o(34),O=o(15),v=o(123),E=o(18),M=o(32),A=o(30),D=o(59),k=o(94),I=o(39),C=o(44),L=o(124),H=o(62),V=o(201),te=o(125),ue=o(28)("replace"),ee=Math.max,J=Math.min,Q=O([].concat),W=O([].push),B=O("".indexOf),U=O("".slice),Y="a".replace(/./,"$0")==="$0",K=!!/./[ue]&&/./[ue]("a","$0")==="";v("replace",function(ie,xe,ge){var Pe=K?"$":"$0";return[function(Be,je){var ve=C(this),Se=Be==null?void 0:H(Be,ue);return Se?d(Se,Be,ve,je):d(xe,I(ve),Be,je)},function(Be,je){var ve=M(this),Se=I(Be);if(typeof je=="string"&&B(je,Pe)===-1&&B(je,"$<")===-1){var Ae=ge(xe,ve,Se,je);if(Ae.done)return Ae.value}var Xe=A(je);Xe||(je=I(je));var rt=ve.global;if(rt){var Ot=ve.unicode;ve.lastIndex=0}for(var We=[];;){var Ze=te(ve,Se);if(Ze===null||(W(We,Ze),!rt))break;I(Ze[0])===""&&(ve.lastIndex=L(Se,k(ve.lastIndex),Ot))}for(var gt,ce="",ae=0,he=0;he<We.length;he++){for(var Te=I((Ze=We[he])[0]),Ue=ee(J(D(Ze.index),Se.length),0),ze=[],wt=1;wt<Ze.length;wt++)W(ze,(gt=Ze[wt])===void 0?gt:String(gt));var Tt=Ze.groups;if(Xe){var St=Q([Te],ze,Ue,Se);Tt!==void 0&&W(St,Tt);var yt=I(f(je,void 0,St))}else yt=V(Te,Se,Ue,ze,Tt,je);Ue>=ae&&(ce+=U(Se,ae,Ue)+yt,ae=Ue+Te.length)}return ce+U(Se,ae)}]},!!E(function(){var ie=/./;return ie.exec=function(){var xe=[];return xe.groups={a:"7"},xe},"".replace(ie,"$<a>")!=="7"})||!Y||K)},function(s,p,o){var f=o(16),d=Math.hypot,O=Math.abs,v=Math.sqrt;f({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,M){for(var A,D,k=0,I=0,C=arguments.length,L=0;I<C;)L<(A=O(arguments[I++]))?(k=k*(D=L/A)*D+1,L=A):k+=A>0?(D=A/L)*D:A;return L===1/0?1/0:L*v(k)}})},function(s,p,o){var f=o(51),d=o(7);s.exports=f(d.process)=="process"},function(s,p,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,p,o){(function(f,d){var O;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,E="Expected a function",M="__lodash_hash_undefined__",A="__lodash_placeholder__",D=16,k=32,I=64,C=128,L=256,H=1/0,V=9007199254740991,te=NaN,ue=4294967295,ee=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",D],["flip",512],["partial",k],["partialRight",I],["rearg",L]],J="[object Arguments]",Q="[object Array]",W="[object Boolean]",B="[object Date]",U="[object Error]",Y="[object Function]",K="[object GeneratorFunction]",ie="[object Map]",xe="[object Number]",ge="[object Object]",Pe="[object Promise]",Be="[object RegExp]",je="[object Set]",ve="[object String]",Se="[object Symbol]",Ae="[object WeakMap]",Xe="[object ArrayBuffer]",rt="[object DataView]",Ot="[object Float32Array]",We="[object Float64Array]",Ze="[object Int8Array]",gt="[object Int16Array]",ce="[object Int32Array]",ae="[object Uint8Array]",he="[object Uint8ClampedArray]",Te="[object Uint16Array]",Ue="[object Uint32Array]",ze=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,Me=RegExp(St.source),st=RegExp(yt.source),le=/<%-([\s\S]+?)%>/g,it=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,Zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fn=/[\\^$.*+?()[\]{}|]/g,_n=RegExp(fn.source),Ct=/^\s+/,Dn=/\s/,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pe=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,$e=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Gn=/^[-+]0x[0-9a-f]+$/i,Jn=/^0b[01]+$/i,Nn=/^\[object .+?Constructor\]$/,Ln=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,Rt=/['\n\r\u2028\u2029\\]/g,sn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",jn="\\u2700-\\u27bf",go="a-z\\xdf-\\xf6\\xf8-\\xff",no="A-Z\\xc0-\\xd6\\xd8-\\xde",bo="\\ufe0e\\ufe0f",ai="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ss="['’]",$a="[\\ud800-\\udfff]",Nr="["+ai+"]",Li="["+sn+"]",lt="\\d+",Ps="[\\u2700-\\u27bf]",Ka="["+go+"]",qa="[^\\ud800-\\udfff"+ai+lt+jn+go+no+"]",hr="\\ud83c[\\udffb-\\udfff]",xr="[^\\ud800-\\udfff]",sa="(?:\\ud83c[\\udde6-\\uddff]){2}",Wr="[\\ud800-\\udbff][\\udc00-\\udfff]",Cr="["+no+"]",Vr="(?:"+Ka+"|"+qa+")",Za="(?:"+Cr+"|"+qa+")",Ja="(?:['’](?:d|ll|m|re|s|t|ve))?",tc="(?:['’](?:D|LL|M|RE|S|T|VE))?",zi="(?:"+Li+"|"+hr+")?",nc="[\\ufe0e\\ufe0f]?",Qa=nc+zi+("(?:\\u200d(?:"+[xr,sa,Wr].join("|")+")"+nc+zi+")*"),As="(?:"+[Ps,sa,Wr].join("|")+")"+Qa,Lo="(?:"+[xr+Li+"?",Li,sa,Wr,$a].join("|")+")",rc=RegExp(Ss,"g"),mo=RegExp(Li,"g"),eu=RegExp(hr+"(?="+hr+")|"+Lo+Qa,"g"),la=RegExp([Cr+"?"+Ka+"+"+Ja+"(?="+[Nr,Cr,"$"].join("|")+")",Za+"+"+tc+"(?="+[Nr,Cr+Vr,"$"].join("|")+")",Cr+"?"+Vr+"+"+Ja,Cr+"+"+tc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lt,As].join("|"),"g"),tu=RegExp("[\\u200d\\ud800-\\udfff"+sn+bo+"]"),nu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ms=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oc=-1,un={};un[Ot]=un[We]=un[Ze]=un[gt]=un[ce]=un[ae]=un[he]=un[Te]=un[Ue]=!0,un[J]=un[Q]=un[Xe]=un[W]=un[rt]=un[B]=un[U]=un[Y]=un[ie]=un[xe]=un[ge]=un[Be]=un[je]=un[ve]=un[Ae]=!1;var an={};an[J]=an[Q]=an[Xe]=an[rt]=an[W]=an[B]=an[Ot]=an[We]=an[Ze]=an[gt]=an[ce]=an[ie]=an[xe]=an[ge]=an[Be]=an[je]=an[ve]=an[Se]=an[ae]=an[he]=an[Te]=an[Ue]=!0,an[U]=an[Y]=an[Ae]=!1;var ic={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ui=parseFloat,_o=parseInt,ru=typeof f=="object"&&f&&f.Object===Object&&f,ac=typeof self=="object"&&self&&self.Object===Object&&self,kn=ru||ac||Function("return this")(),ou=p&&!p.nodeType&&p,Bi=ou&&typeof d=="object"&&d&&!d.nodeType&&d,iu=Bi&&Bi.exports===ou,fa=iu&&ru.process,Qn=function(){try{var Oe=Bi&&Bi.require&&Bi.require("util").types;return Oe||fa&&fa.binding&&fa.binding("util")}catch{}}(),au=Qn&&Qn.isArrayBuffer,uc=Qn&&Qn.isDate,uu=Qn&&Qn.isMap,pa=Qn&&Qn.isRegExp,ci=Qn&&Qn.isSet,ro=Qn&&Qn.isTypedArray;function vn(Oe,De,Re){switch(Re.length){case 0:return Oe.call(De);case 1:return Oe.call(De,Re[0]);case 2:return Oe.call(De,Re[0],Re[1]);case 3:return Oe.call(De,Re[0],Re[1],Re[2])}return Oe.apply(De,Re)}function cc(Oe,De,Re,Qe){for(var Bt=-1,$t=Oe==null?0:Oe.length;++Bt<$t;){var gn=Oe[Bt];De(Qe,gn,Re(gn),Oe)}return Qe}function yr(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe&&De(Oe[Re],Re,Oe)!==!1;);return Oe}function sc(Oe,De){for(var Re=Oe==null?0:Oe.length;Re--&&De(Oe[Re],Re,Oe)!==!1;);return Oe}function lc(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe;)if(!De(Oe[Re],Re,Oe))return!1;return!0}function cr(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length,Bt=0,$t=[];++Re<Qe;){var gn=Oe[Re];De(gn,Re,Oe)&&($t[Bt++]=gn)}return $t}function vr(Oe,De){return!!(Oe!=null&&Oe.length)&&si(Oe,De,0)>-1}function cu(Oe,De,Re){for(var Qe=-1,Bt=Oe==null?0:Oe.length;++Qe<Bt;)if(Re(De,Oe[Qe]))return!0;return!1}function tn(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length,Bt=Array(Qe);++Re<Qe;)Bt[Re]=De(Oe[Re],Re,Oe);return Bt}function Yn(Oe,De){for(var Re=-1,Qe=De.length,Bt=Oe.length;++Re<Qe;)Oe[Bt+Re]=De[Re];return Oe}function da(Oe,De,Re,Qe){var Bt=-1,$t=Oe==null?0:Oe.length;for(Qe&&$t&&(Re=Oe[++Bt]);++Bt<$t;)Re=De(Re,Oe[Bt],Bt,Oe);return Re}function fc(Oe,De,Re,Qe){var Bt=Oe==null?0:Oe.length;for(Qe&&Bt&&(Re=Oe[--Bt]);Bt--;)Re=De(Re,Oe[Bt],Bt,Oe);return Re}function su(Oe,De){for(var Re=-1,Qe=Oe==null?0:Oe.length;++Re<Qe;)if(De(Oe[Re],Re,Oe))return!0;return!1}var ha=br("length");function oo(Oe,De,Re){var Qe;return Re(Oe,function(Bt,$t,gn){if(De(Bt,$t,gn))return Qe=$t,!1}),Qe}function Oo(Oe,De,Re,Qe){for(var Bt=Oe.length,$t=Re+(Qe?1:-1);Qe?$t--:++$t<Bt;)if(De(Oe[$t],$t,Oe))return $t;return-1}function si(Oe,De,Re){return De==De?function(Qe,Bt,$t){for(var gn=$t-1,_=Qe.length;++gn<_;)if(Qe[gn]===Bt)return gn;return-1}(Oe,De,Re):Oo(Oe,wo,Re)}function gr(Oe,De,Re,Qe){for(var Bt=Re-1,$t=Oe.length;++Bt<$t;)if(Qe(Oe[Bt],De))return Bt;return-1}function wo(Oe){return Oe!=Oe}function Jt(Oe,De){var Re=Oe==null?0:Oe.length;return Re?ya(Oe,De)/Re:te}function br(Oe){return function(De){return De==null?v:De[Oe]}}function io(Oe){return function(De){return Oe==null?v:Oe[De]}}function $n(Oe,De,Re,Qe,Bt){return Bt(Oe,function($t,gn,_){Re=Qe?(Qe=!1,$t):De(Re,$t,gn,_)}),Re}function ya(Oe,De){for(var Re,Qe=-1,Bt=Oe.length;++Qe<Bt;){var $t=De(Oe[Qe]);$t!==v&&(Re=Re===v?$t:Re+$t)}return Re}function Fi(Oe,De){for(var Re=-1,Qe=Array(Oe);++Re<Oe;)Qe[Re]=De(Re);return Qe}function lu(Oe){return Oe&&Oe.slice(0,mr(Oe)+1).replace(Ct,"")}function Sn(Oe){return function(De){return Oe(De)}}function va(Oe,De){return tn(De,function(Re){return Oe[Re]})}function xo(Oe,De){return Oe.has(De)}function Rr(Oe,De){for(var Re=-1,Qe=Oe.length;++Re<Qe&&si(De,Oe[Re],0)>-1;);return Re}function fu(Oe,De){for(var Re=Oe.length;Re--&&si(De,Oe[Re],0)>-1;);return Re}function ks(Oe,De){for(var Re=Oe.length,Qe=0;Re--;)Oe[Re]===De&&++Qe;return Qe}var pu=io({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Cn=io({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function zo(Oe){return"\\"+ic[Oe]}function ao(Oe){return tu.test(Oe)}function sr(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe,Bt){Re[++De]=[Bt,Qe]}),Re}function du(Oe,De){return function(Re){return Oe(De(Re))}}function Er(Oe,De){for(var Re=-1,Qe=Oe.length,Bt=0,$t=[];++Re<Qe;){var gn=Oe[Re];gn!==De&&gn!==A||(Oe[Re]=A,$t[Bt++]=Re)}return $t}function Bo(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe){Re[++De]=Qe}),Re}function ga(Oe){var De=-1,Re=Array(Oe.size);return Oe.forEach(function(Qe){Re[++De]=[Qe,Qe]}),Re}function uo(Oe){return ao(Oe)?function(De){for(var Re=eu.lastIndex=0;eu.test(De);)++Re;return Re}(Oe):ha(Oe)}function jr(Oe){return ao(Oe)?function(De){return De.match(eu)||[]}(Oe):function(De){return De.split("")}(Oe)}function mr(Oe){for(var De=Oe.length;De--&&Dn.test(Oe.charAt(De)););return De}var Ir=io({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),co=function Oe(De){var Re,Qe=(De=De==null?kn:co.defaults(kn.Object(),De,co.pick(kn,Ms))).Array,Bt=De.Date,$t=De.Error,gn=De.Function,_=De.Math,w=De.Object,P=De.RegExp,z=De.String,$=De.TypeError,fe=Qe.prototype,Ee=gn.prototype,Fe=w.prototype,ut=De["__core-js_shared__"],Yt=Ee.toString,et=Fe.hasOwnProperty,pn=0,Ft=(Re=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",nn=Fe.toString,Lr=Yt.call(w),On=kn._,_r=P("^"+Yt.call(et).replace(fn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Eo=iu?De.Buffer:v,jo=De.Symbol,Xi=De.Uint8Array,hu=Eo?Eo.allocUnsafe:v,Fo=du(w.getPrototypeOf,w),ba=w.create,lr=Fe.propertyIsEnumerable,Hi=fe.splice,li=jo?jo.isConcatSpreadable:v,Xo=jo?jo.iterator:v,Ho=jo?jo.toStringTag:v,ma=function(){try{var u=Wi(w,"defineProperty");return u({},"",{}),u}catch{}}(),$d=De.clearTimeout!==kn.clearTimeout&&De.clearTimeout,Kd=Bt&&Bt.now!==kn.Date.now&&Bt.now,gf=De.setTimeout!==kn.setTimeout&&De.setTimeout,pc=_.ceil,_a=_.floor,Ts=w.getOwnPropertySymbols,qd=Eo?Eo.isBuffer:v,bf=De.isFinite,Ds=fe.join,mf=du(w.keys,w),Kn=_.max,fr=_.min,dc=Bt.now,hc=De.parseInt,yc=_.random,Zd=fe.reverse,Oa=Wi(De,"DataView"),So=Wi(De,"Map"),Ns=Wi(De,"Promise"),Ui=Wi(De,"Set"),wa=Wi(De,"WeakMap"),yu=Wi(w,"create"),vc=wa&&new wa,xa={},Jd=_i(Oa),_f=_i(So),Qd=_i(Ns),eh=_i(Ui),Of=_i(wa),gc=jo?jo.prototype:v,qn=gc?gc.valueOf:v,wf=gc?gc.toString:v;function F(u){if(An(u)&&!Xt(u)&&!(u instanceof en)){if(u instanceof $r)return u;if(et.call(u,"__wrapped__"))return dl(u)}return new $r(u)}var Ea=function(){function u(){}return function(l){if(!hn(l))return{};if(ba)return ba(l);u.prototype=l;var m=new u;return u.prototype=v,m}}();function vu(){}function $r(u,l){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=v}function en(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function Gi(u){var l=-1,m=u==null?0:u.length;for(this.clear();++l<m;){var S=u[l];this.set(S[0],S[1])}}function dn(u){var l=-1,m=u==null?0:u.length;for(this.clear();++l<m;){var S=u[l];this.set(S[0],S[1])}}function Po(u){var l=-1,m=u==null?0:u.length;for(this.clear();++l<m;){var S=u[l];this.set(S[0],S[1])}}function fi(u){var l=-1,m=u==null?0:u.length;for(this.__data__=new Po;++l<m;)this.add(u[l])}function Kr(u){var l=this.__data__=new dn(u);this.size=l.size}function Cs(u,l){var m=Xt(u),S=!m&&Oi(u),N=!m&&!S&&Qr(u),X=!m&&!S&&!N&&Vi(u),ne=m||S||N||X,se=ne?Fi(u.length,z):[],_e=se.length;for(var Ie in u)!l&&!et.call(u,Ie)||ne&&(Ie=="length"||N&&(Ie=="offset"||Ie=="parent")||X&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||En(Ie,_e))||se.push(Ie);return se}function Rs(u){var l=u.length;return l?u[Us(0,l-1)]:v}function xf(u,l){return ju(Pr(u),pi(l,0,u.length))}function Ef(u){return ju(Pr(u))}function bc(u,l,m){(m!==v&&!Fr(u[l],m)||m===v&&!(l in u))&&Ao(u,l,m)}function ja(u,l,m){var S=u[l];et.call(u,l)&&Fr(S,m)&&(m!==v||l in u)||Ao(u,l,m)}function gu(u,l){for(var m=u.length;m--;)if(Fr(u[m][0],l))return m;return-1}function jf(u,l,m,S){return wn(u,function(N,X,ne){l(S,N,m(N),ne)}),S}function Is(u,l){return u&&Mo(l,Zn(l),u)}function Ao(u,l,m){l=="__proto__"&&ma?ma(u,l,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[l]=m}function mc(u,l){for(var m=-1,S=l.length,N=Qe(S),X=u==null;++m<S;)N[m]=X?v:xi(u,l[m]);return N}function pi(u,l,m){return u==u&&(m!==v&&(u=u<=m?u:m),l!==v&&(u=u>=l?u:l)),u}function zr(u,l,m,S,N,X){var ne,se=1&l,_e=2&l,Ie=4&l;if(m&&(ne=N?m(u,S,N,X):m(u)),ne!==v)return ne;if(!hn(u))return u;var Ne=Xt(u);if(Ne){if(ne=function(Le){var Ge=Le.length,It=new Le.constructor(Ge);return Ge&&typeof Le[0]=="string"&&et.call(Le,"index")&&(It.index=Le.index,It.input=Le.input),It}(u),!se)return Pr(u,ne)}else{var He=pr(u),ct=He==Y||He==K;if(Qr(u))return qs(u,se);if(He==ge||He==J||ct&&!N){if(ne=_e||ct?{}:Jf(u),!se)return _e?function(Le,Ge){return Mo(Le,il(Le),Ge)}(u,function(Le,Ge){return Le&&Mo(Ge,ir(Ge),Le)}(ne,u)):function(Le,Ge){return Mo(Le,wu(Le),Ge)}(u,Is(ne,u))}else{if(!an[He])return N?u:{};ne=function(Le,Ge,It){var tt=Le.constructor;switch(Ge){case Xe:return Zs(Le);case W:case B:return new tt(+Le);case rt:return function(At,qt){var vt=qt?Zs(At.buffer):At.buffer;return new At.constructor(vt,At.byteOffset,At.byteLength)}(Le,It);case Ot:case We:case Ze:case gt:case ce:case ae:case he:case Te:case Ue:return mn(Le,It);case ie:return new tt;case xe:case ve:return new tt(Le);case Be:return function(At){var qt=new At.constructor(At.source,Ut.exec(At));return qt.lastIndex=At.lastIndex,qt}(Le);case je:return new tt;case Se:return kt=Le,qn?w(qn.call(kt)):{}}var kt}(u,He,se)}}X||(X=new Kr);var ht=X.get(u);if(ht)return ht;X.set(u,ne),jl(u)?u.forEach(function(Le){ne.add(zr(Le,l,m,Le,u,X))}):or(u)&&u.forEach(function(Le,Ge){ne.set(Ge,zr(Le,l,m,Ge,u,X))});var Et=Ne?v:(Ie?_e?nl:tl:_e?ir:Zn)(u);return yr(Et||u,function(Le,Ge){Et&&(Le=u[Ge=Le]),ja(ne,Ge,zr(Le,l,m,Ge,u,X))}),ne}function Ls(u,l,m){var S=m.length;if(u==null)return!S;for(u=w(u);S--;){var N=m[S],X=l[N],ne=u[N];if(ne===v&&!(N in u)||!X(ne))return!1}return!0}function zs(u,l,m){if(typeof u!="function")throw new $(E);return Da(function(){u.apply(v,m)},l)}function Uo(u,l,m,S){var N=-1,X=vr,ne=!0,se=u.length,_e=[],Ie=l.length;if(!se)return _e;m&&(l=tn(l,Sn(m))),S?(X=cu,ne=!1):l.length>=200&&(X=xo,ne=!1,l=new fi(l));e:for(;++N<se;){var Ne=u[N],He=m==null?Ne:m(Ne);if(Ne=S||Ne!==0?Ne:0,ne&&He==He){for(var ct=Ie;ct--;)if(l[ct]===He)continue e;_e.push(Ne)}else X(l,He,S)||_e.push(Ne)}return _e}F.templateSettings={escape:le,evaluate:it,interpolate:Lt,variable:"",imports:{_:F}},F.prototype=vu.prototype,F.prototype.constructor=F,$r.prototype=Ea(vu.prototype),$r.prototype.constructor=$r,en.prototype=Ea(vu.prototype),en.prototype.constructor=en,Gi.prototype.clear=function(){this.__data__=yu?yu(null):{},this.size=0},Gi.prototype.delete=function(u){var l=this.has(u)&&delete this.__data__[u];return this.size-=l?1:0,l},Gi.prototype.get=function(u){var l=this.__data__;if(yu){var m=l[u];return m===M?v:m}return et.call(l,u)?l[u]:v},Gi.prototype.has=function(u){var l=this.__data__;return yu?l[u]!==v:et.call(l,u)},Gi.prototype.set=function(u,l){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=yu&&l===v?M:l,this},dn.prototype.clear=function(){this.__data__=[],this.size=0},dn.prototype.delete=function(u){var l=this.__data__,m=gu(l,u);return!(m<0)&&(m==l.length-1?l.pop():Hi.call(l,m,1),--this.size,!0)},dn.prototype.get=function(u){var l=this.__data__,m=gu(l,u);return m<0?v:l[m][1]},dn.prototype.has=function(u){return gu(this.__data__,u)>-1},dn.prototype.set=function(u,l){var m=this.__data__,S=gu(m,u);return S<0?(++this.size,m.push([u,l])):m[S][1]=l,this},Po.prototype.clear=function(){this.size=0,this.__data__={hash:new Gi,map:new(So||dn),string:new Gi}},Po.prototype.delete=function(u){var l=Ic(this,u).delete(u);return this.size-=l?1:0,l},Po.prototype.get=function(u){return Ic(this,u).get(u)},Po.prototype.has=function(u){return Ic(this,u).has(u)},Po.prototype.set=function(u,l){var m=Ic(this,u),S=m.size;return m.set(u,l),this.size+=m.size==S?0:1,this},fi.prototype.add=fi.prototype.push=function(u){return this.__data__.set(u,M),this},fi.prototype.has=function(u){return this.__data__.has(u)},Kr.prototype.clear=function(){this.__data__=new dn,this.size=0},Kr.prototype.delete=function(u){var l=this.__data__,m=l.delete(u);return this.size=l.size,m},Kr.prototype.get=function(u){return this.__data__.get(u)},Kr.prototype.has=function(u){return this.__data__.has(u)},Kr.prototype.set=function(u,l){var m=this.__data__;if(m instanceof dn){var S=m.__data__;if(!So||S.length<199)return S.push([u,l]),this.size=++m.size,this;m=this.__data__=new Po(S)}return m.set(u,l),this.size=m.size,this};var wn=Hf(pt),Sf=Hf(bn,!0);function Pf(u,l){var m=!0;return wn(u,function(S,N,X){return m=!!l(S,N,X)}),m}function Rn(u,l,m){for(var S=-1,N=u.length;++S<N;){var X=u[S],ne=l(X);if(ne!=null&&(se===v?ne==ne&&!Tr(ne):m(ne,se)))var se=ne,_e=X}return _e}function cn(u,l){var m=[];return wn(u,function(S,N,X){l(S,N,X)&&m.push(S)}),m}function er(u,l,m,S,N){var X=-1,ne=u.length;for(m||(m=ah),N||(N=[]);++X<ne;){var se=u[X];l>0&&m(se)?l>1?er(se,l-1,m,S,N):Yn(N,se):S||(N[N.length]=se)}return N}var Wt=Uf(),zn=Uf(!0);function pt(u,l){return u&&Wt(u,l,Zn)}function bn(u,l){return u&&zn(u,l,Zn)}function _c(u,l){return cr(l,function(m){return qo(u[m])})}function Go(u,l){for(var m=0,S=(l=hi(l,u)).length;u!=null&&m<S;)u=u[so(l[m++])];return m&&m==S?u:v}function Bs(u,l,m){var S=l(u);return Xt(u)?S:Yn(S,m(u))}function Pn(u){return u==null?u===v?"[object Undefined]":"[object Null]":Ho&&Ho in w(u)?function(l){var m=et.call(l,Ho),S=l[Ho];try{l[Ho]=v;var N=!0}catch{}var X=nn.call(l);return N&&(m?l[Ho]=S:delete l[Ho]),X}(u):function(l){return nn.call(l)}(u)}function Tn(u,l){return u>l}function Af(u,l){return u!=null&&et.call(u,l)}function Mf(u,l){return u!=null&&l in w(u)}function Oc(u,l,m){for(var S=m?cu:vr,N=u[0].length,X=u.length,ne=X,se=Qe(X),_e=1/0,Ie=[];ne--;){var Ne=u[ne];ne&&l&&(Ne=tn(Ne,Sn(l))),_e=fr(Ne.length,_e),se[ne]=!m&&(l||N>=120&&Ne.length>=120)?new fi(ne&&Ne):v}Ne=u[0];var He=-1,ct=se[0];e:for(;++He<N&&Ie.length<_e;){var ht=Ne[He],Et=l?l(ht):ht;if(ht=m||ht!==0?ht:0,!(ct?xo(ct,Et):S(Ie,Et,m))){for(ne=X;--ne;){var Le=se[ne];if(!(Le?xo(Le,Et):S(u[ne],Et,m)))continue e}ct&&ct.push(Et),Ie.push(ht)}}return Ie}function Sa(u,l,m){var S=(u=cl(u,l=hi(l,u)))==null?u:u[so(Ar(l))];return S==null?v:vn(S,u,m)}function Fs(u){return An(u)&&Pn(u)==J}function Pa(u,l,m,S,N){return u===l||(u==null||l==null||!An(u)&&!An(l)?u!=u&&l!=l:function(X,ne,se,_e,Ie,Ne){var He=Xt(X),ct=Xt(ne),ht=He?Q:pr(X),Et=ct?Q:pr(ne),Le=(ht=ht==J?ge:ht)==ge,Ge=(Et=Et==J?ge:Et)==ge,It=ht==Et;if(It&&Qr(X)){if(!Qr(ne))return!1;He=!0,Le=!1}if(It&&!Le)return Ne||(Ne=new Kr),He||Vi(X)?qf(X,ne,se,_e,Ie,Ne):function(vt,jt,Mn,be,fo,Wn,Do){switch(Mn){case rt:if(vt.byteLength!=jt.byteLength||vt.byteOffset!=jt.byteOffset)return!1;vt=vt.buffer,jt=jt.buffer;case Xe:return!(vt.byteLength!=jt.byteLength||!Wn(new Xi(vt),new Xi(jt)));case W:case B:case xe:return Fr(+vt,+jt);case U:return vt.name==jt.name&&vt.message==jt.message;case Be:case ve:return vt==jt+"";case ie:var ei=sr;case je:var Ia=1&be;if(ei||(ei=Bo),vt.size!=jt.size&&!Ia)return!1;var Xu=Do.get(vt);if(Xu)return Xu==jt;be|=2,Do.set(vt,jt);var Zi=qf(ei(vt),ei(jt),be,fo,Wn,Do);return Do.delete(vt),Zi;case Se:if(qn)return qn.call(vt)==qn.call(jt)}return!1}(X,ne,ht,se,_e,Ie,Ne);if(!(1&se)){var tt=Le&&et.call(X,"__wrapped__"),kt=Ge&&et.call(ne,"__wrapped__");if(tt||kt){var At=tt?X.value():X,qt=kt?ne.value():ne;return Ne||(Ne=new Kr),Ie(At,qt,se,_e,Ne)}}return It?(Ne||(Ne=new Kr),function(vt,jt,Mn,be,fo,Wn){var Do=1&Mn,ei=tl(vt),Ia=ei.length,Xu=tl(jt).length;if(Ia!=Xu&&!Do)return!1;for(var Zi=Ia;Zi--;){var ji=ei[Zi];if(!(Do?ji in jt:et.call(jt,ji)))return!1}var Yl=Wn.get(vt),Wl=Wn.get(jt);if(Yl&&Wl)return Yl==jt&&Wl==vt;var Hu=!0;Wn.set(vt,jt),Wn.set(jt,vt);for(var es=Do;++Zi<Ia;){var Si=vt[ji=ei[Zi]],Uu=jt[ji];if(be)var Vl=Do?be(Uu,Si,ji,jt,vt,Wn):be(Si,Uu,ji,vt,jt,Wn);if(!(Vl===v?Si===Uu||fo(Si,Uu,Mn,be,Wn):Vl)){Hu=!1;break}es||(es=ji=="constructor")}if(Hu&&!es){var Pi=vt.constructor,Gu=jt.constructor;Pi==Gu||!("constructor"in vt)||!("constructor"in jt)||typeof Pi=="function"&&Pi instanceof Pi&&typeof Gu=="function"&&Gu instanceof Gu||(Hu=!1)}return Wn.delete(vt),Wn.delete(jt),Hu}(X,ne,se,_e,Ie,Ne)):!1}(u,l,m,S,Pa,N))}function wc(u,l,m,S){var N=m.length,X=N,ne=!S;if(u==null)return!X;for(u=w(u);N--;){var se=m[N];if(ne&&se[2]?se[1]!==u[se[0]]:!(se[0]in u))return!1}for(;++N<X;){var _e=(se=m[N])[0],Ie=u[_e],Ne=se[1];if(ne&&se[2]){if(Ie===v&&!(_e in u))return!1}else{var He=new Kr;if(S)var ct=S(Ie,Ne,_e,u,l,He);if(!(ct===v?Pa(Ne,Ie,3,S,He):ct))return!1}}return!0}function Aa(u){return!(!hn(u)||(l=u,Ft&&Ft in l))&&(qo(u)?_r:Nn).test(_i(u));var l}function Xs(u){return typeof u=="function"?u:u==null?ar:typeof u=="object"?Xt(u)?Tf(u[0],u[1]):kf(u):Xn(u)}function Yo(u){if(!Eu(u))return mf(u);var l=[];for(var m in w(u))et.call(u,m)&&m!="constructor"&&l.push(m);return l}function th(u){if(!hn(u))return function(N){var X=[];if(N!=null)for(var ne in w(N))X.push(ne);return X}(u);var l=Eu(u),m=[];for(var S in u)(S!="constructor"||!l&&et.call(u,S))&&m.push(S);return m}function Wo(u,l){return u<l}function qr(u,l){var m=-1,S=kr(u)?Qe(u.length):[];return wn(u,function(N,X,ne){S[++m]=l(N,X,ne)}),S}function kf(u){var l=ol(u);return l.length==1&&l[0][2]?Lc(l[0][0],l[0][1]):function(m){return m===u||wc(m,u,l)}}function Tf(u,l){return al(u)&&Ta(l)?Lc(so(u),l):function(m){var S=xi(m,u);return S===v&&S===l?$i(m,u):Pa(l,S,3)}}function xc(u,l,m,S,N){u!==l&&Wt(l,function(X,ne){if(N||(N=new Kr),hn(X))(function(_e,Ie,Ne,He,ct,ht,Et){var Le=ke(_e,Ne),Ge=ke(Ie,Ne),It=Et.get(Ge);if(It)return void bc(_e,Ne,It);var tt=ht?ht(Le,Ge,Ne+"",_e,Ie,Et):v,kt=tt===v;if(kt){var At=Xt(Ge),qt=!At&&Qr(Ge),vt=!At&&!qt&&Vi(Ge);tt=Ge,At||qt||vt?Xt(Le)?tt=Le:Fn(Le)?tt=Pr(Le):qt?(kt=!1,tt=qs(Ge,!0)):vt?(kt=!1,tt=mn(Ge,!0)):tt=[]:Zo(Ge)||Oi(Ge)?(tt=Le,Oi(Le)?tt=Gc(Le):hn(Le)&&!qo(Le)||(tt=Jf(Ge))):kt=!1}kt&&(Et.set(Ge,tt),ct(tt,Ge,He,ht,Et),Et.delete(Ge)),bc(_e,Ne,tt)})(u,l,ne,m,xc,S,N);else{var se=S?S(ke(u,ne),X,ne+"",u,l,N):v;se===v&&(se=X),bc(u,ne,se)}},ir)}function Df(u,l){var m=u.length;if(m)return En(l+=l<0?m:0,m)?u[l]:v}function Nf(u,l,m){l=l.length?tn(l,function(X){return Xt(X)?function(ne){return Go(ne,X.length===1?X[0]:X)}:X}):[ar];var S=-1;l=tn(l,Sn(Mt()));var N=qr(u,function(X,ne,se){var _e=tn(l,function(Ie){return Ie(X)});return{criteria:_e,index:++S,value:X}});return function(X,ne){var se=X.length;for(X.sort(ne);se--;)X[se]=X[se].value;return X}(N,function(X,ne){return function(se,_e,Ie){for(var Ne=-1,He=se.criteria,ct=_e.criteria,ht=He.length,Et=Ie.length;++Ne<ht;){var Le=Xf(He[Ne],ct[Ne]);if(Le)return Ne>=Et?Le:Le*(Ie[Ne]=="desc"?-1:1)}return se.index-_e.index}(X,ne,m)})}function Cf(u,l,m){for(var S=-1,N=l.length,X={};++S<N;){var ne=l[S],se=Go(u,ne);m(se,ne)&&ka(X,hi(ne,u),se)}return X}function Hs(u,l,m,S){var N=S?gr:si,X=-1,ne=l.length,se=u;for(u===l&&(l=Pr(l)),m&&(se=tn(u,Sn(m)));++X<ne;)for(var _e=0,Ie=l[X],Ne=m?m(Ie):Ie;(_e=N(se,Ne,_e,S))>-1;)se!==u&&Hi.call(se,_e,1),Hi.call(u,_e,1);return u}function Ma(u,l){for(var m=u?l.length:0,S=m-1;m--;){var N=l[m];if(m==S||N!==X){var X=N;En(N)?Hi.call(u,N,1):Sc(u,N)}}return u}function Us(u,l){return u+_a(yc()*(l-u+1))}function Ec(u,l){var m="";if(!u||l<1||l>V)return m;do l%2&&(m+=u),(l=_a(l/2))&&(u+=u);while(l);return m}function Vt(u,l){return zc(ul(u,l,ar),u+"")}function nh(u){return Rs(qi(u))}function Gs(u,l){var m=qi(u);return ju(m,pi(l,0,m.length))}function ka(u,l,m,S){if(!hn(u))return u;for(var N=-1,X=(l=hi(l,u)).length,ne=X-1,se=u;se!=null&&++N<X;){var _e=so(l[N]),Ie=m;if(_e==="__proto__"||_e==="constructor"||_e==="prototype")return u;if(N!=ne){var Ne=se[_e];(Ie=S?S(Ne,_e,se):v)===v&&(Ie=hn(Ne)?Ne:En(l[N+1])?[]:{})}ja(se,_e,Ie),se=se[_e]}return u}var Rf=vc?function(u,l){return vc.set(u,l),u}:ar,rh=ma?function(u,l){return ma(u,"toString",{configurable:!0,enumerable:!1,value:Cl(l),writable:!0})}:ar;function oh(u){return ju(qi(u))}function Zr(u,l,m){var S=-1,N=u.length;l<0&&(l=-l>N?0:N+l),(m=m>N?N:m)<0&&(m+=N),N=l>m?0:m-l>>>0,l>>>=0;for(var X=Qe(N);++S<N;)X[S]=u[S+l];return X}function Ys(u,l){var m;return wn(u,function(S,N,X){return!(m=l(S,N,X))}),!!m}function jc(u,l,m){var S=0,N=u==null?S:u.length;if(typeof l=="number"&&l==l&&N<=2147483647){for(;S<N;){var X=S+N>>>1,ne=u[X];ne!==null&&!Tr(ne)&&(m?ne<=l:ne<l)?S=X+1:N=X}return N}return Ws(u,l,ar,m)}function Ws(u,l,m,S){var N=0,X=u==null?0:u.length;if(X===0)return 0;for(var ne=(l=m(l))!=l,se=l===null,_e=Tr(l),Ie=l===v;N<X;){var Ne=_a((N+X)/2),He=m(u[Ne]),ct=He!==v,ht=He===null,Et=He==He,Le=Tr(He);if(ne)var Ge=S||Et;else Ge=Ie?Et&&(S||ct):se?Et&&ct&&(S||!ht):_e?Et&&ct&&!ht&&(S||!Le):!ht&&!Le&&(S?He<=l:He<l);Ge?N=Ne+1:X=Ne}return fr(X,4294967294)}function If(u,l){for(var m=-1,S=u.length,N=0,X=[];++m<S;){var ne=u[m],se=l?l(ne):ne;if(!m||!Fr(se,_e)){var _e=se;X[N++]=ne===0?0:ne}}return X}function Vs(u){return typeof u=="number"?u:Tr(u)?te:+u}function Sr(u){if(typeof u=="string")return u;if(Xt(u))return tn(u,Sr)+"";if(Tr(u))return wf?wf.call(u):"";var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function di(u,l,m){var S=-1,N=vr,X=u.length,ne=!0,se=[],_e=se;if(m)ne=!1,N=cu;else if(X>=200){var Ie=l?null:Qs(u);if(Ie)return Bo(Ie);ne=!1,N=xo,_e=new fi}else _e=l?[]:se;e:for(;++S<X;){var Ne=u[S],He=l?l(Ne):Ne;if(Ne=m||Ne!==0?Ne:0,ne&&He==He){for(var ct=_e.length;ct--;)if(_e[ct]===He)continue e;l&&_e.push(He),se.push(Ne)}else N(_e,He,m)||(_e!==se&&_e.push(He),se.push(Ne))}return se}function Sc(u,l){return(u=cl(u,l=hi(l,u)))==null||delete u[so(Ar(l))]}function Lf(u,l,m,S){return ka(u,l,m(Go(u,l)),S)}function bu(u,l,m,S){for(var N=u.length,X=S?N:-1;(S?X--:++X<N)&&l(u[X],X,u););return m?Zr(u,S?0:X,S?X+1:N):Zr(u,S?X+1:0,S?N:X)}function zf(u,l){var m=u;return m instanceof en&&(m=m.value()),da(l,function(S,N){return N.func.apply(N.thisArg,Yn([S],N.args))},m)}function Pc(u,l,m){var S=u.length;if(S<2)return S?di(u[0]):[];for(var N=-1,X=Qe(S);++N<S;)for(var ne=u[N],se=-1;++se<S;)se!=N&&(X[N]=Uo(X[N]||ne,u[se],l,m));return di(er(X,1),l,m)}function Bf(u,l,m){for(var S=-1,N=u.length,X=l.length,ne={};++S<N;){var se=S<X?l[S]:v;m(ne,u[S],se)}return ne}function Ac(u){return Fn(u)?u:[]}function $s(u){return typeof u=="function"?u:ar}function hi(u,l){return Xt(u)?u:al(u,l)?[u]:pl(yn(u))}var Ff=Vt;function yi(u,l,m){var S=u.length;return m=m===v?S:m,!l&&m>=S?u:Zr(u,l,m)}var Ks=$d||function(u){return kn.clearTimeout(u)};function qs(u,l){if(l)return u.slice();var m=u.length,S=hu?hu(m):new u.constructor(m);return u.copy(S),S}function Zs(u){var l=new u.constructor(u.byteLength);return new Xi(l).set(new Xi(u)),l}function mn(u,l){var m=l?Zs(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function Xf(u,l){if(u!==l){var m=u!==v,S=u===null,N=u==u,X=Tr(u),ne=l!==v,se=l===null,_e=l==l,Ie=Tr(l);if(!se&&!Ie&&!X&&u>l||X&&ne&&_e&&!se&&!Ie||S&&ne&&_e||!m&&_e||!N)return 1;if(!S&&!X&&!Ie&&u<l||Ie&&m&&N&&!S&&!X||se&&m&&N||!ne&&N||!_e)return-1}return 0}function xn(u,l,m,S){for(var N=-1,X=u.length,ne=m.length,se=-1,_e=l.length,Ie=Kn(X-ne,0),Ne=Qe(_e+Ie),He=!S;++se<_e;)Ne[se]=l[se];for(;++N<ne;)(He||N<X)&&(Ne[m[N]]=u[N]);for(;Ie--;)Ne[se++]=u[N++];return Ne}function Mc(u,l,m,S){for(var N=-1,X=u.length,ne=-1,se=m.length,_e=-1,Ie=l.length,Ne=Kn(X-se,0),He=Qe(Ne+Ie),ct=!S;++N<Ne;)He[N]=u[N];for(var ht=N;++_e<Ie;)He[ht+_e]=l[_e];for(;++ne<se;)(ct||N<X)&&(He[ht+m[ne]]=u[N++]);return He}function Pr(u,l){var m=-1,S=u.length;for(l||(l=Qe(S));++m<S;)l[m]=u[m];return l}function Mo(u,l,m,S){var N=!m;m||(m={});for(var X=-1,ne=l.length;++X<ne;){var se=l[X],_e=S?S(m[se],u[se],se,m,u):v;_e===v&&(_e=u[se]),N?Ao(m,se,_e):ja(m,se,_e)}return m}function kc(u,l){return function(m,S){var N=Xt(m)?cc:jf,X=l?l():{};return N(m,u,Mt(S,2),X)}}function Yi(u){return Vt(function(l,m){var S=-1,N=m.length,X=N>1?m[N-1]:v,ne=N>2?m[2]:v;for(X=u.length>3&&typeof X=="function"?(N--,X):v,ne&&nr(m[0],m[1],ne)&&(X=N<3?v:X,N=1),l=w(l);++S<N;){var se=m[S];se&&u(l,se,S,X)}return l})}function Hf(u,l){return function(m,S){if(m==null)return m;if(!kr(m))return u(m,S);for(var N=m.length,X=l?N:-1,ne=w(m);(l?X--:++X<N)&&S(ne[X],X,ne)!==!1;);return m}}function Uf(u){return function(l,m,S){for(var N=-1,X=w(l),ne=S(l),se=ne.length;se--;){var _e=ne[u?se:++N];if(m(X[_e],_e,X)===!1)break}return l}}function Gf(u){return function(l){var m=ao(l=yn(l))?jr(l):v,S=m?m[0]:l.charAt(0),N=m?yi(m,1).join(""):l.slice(1);return S[u]()+N}}function vi(u){return function(l){return da(Dl(Kc(l).replace(rc,"")),u,"")}}function mu(u){return function(){var l=arguments;switch(l.length){case 0:return new u;case 1:return new u(l[0]);case 2:return new u(l[0],l[1]);case 3:return new u(l[0],l[1],l[2]);case 4:return new u(l[0],l[1],l[2],l[3]);case 5:return new u(l[0],l[1],l[2],l[3],l[4]);case 6:return new u(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new u(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var m=Ea(u.prototype),S=u.apply(m,l);return hn(S)?S:m}}function Yf(u){return function(l,m,S){var N=w(l);if(!kr(l)){var X=Mt(m,3);l=Zn(l),m=function(se){return X(N[se],se,N)}}var ne=u(l,m,S);return ne>-1?N[X?l[ne]:ne]:v}}function Wf(u){return $o(function(l){var m=l.length,S=m,N=$r.prototype.thru;for(u&&l.reverse();S--;){var X=l[S];if(typeof X!="function")throw new $(E);if(N&&!ne&&Rc(X)=="wrapper")var ne=new $r([],!0)}for(S=ne?S:m;++S<m;){var se=Rc(X=l[S]),_e=se=="wrapper"?rl(X):v;ne=_e&&xu(_e[0])&&_e[1]==424&&!_e[4].length&&_e[9]==1?ne[Rc(_e[0])].apply(ne,_e[3]):X.length==1&&xu(X)?ne[se]():ne.thru(X)}return function(){var Ie=arguments,Ne=Ie[0];if(ne&&Ie.length==1&&Xt(Ne))return ne.plant(Ne).value();for(var He=0,ct=m?l[He].apply(this,Ie):Ne;++He<m;)ct=l[He].call(this,ct);return ct}})}function _u(u,l,m,S,N,X,ne,se,_e,Ie){var Ne=l&C,He=1&l,ct=2&l,ht=24&l,Et=512&l,Le=ct?v:mu(u);return function Ge(){for(var It=arguments.length,tt=Qe(It),kt=It;kt--;)tt[kt]=arguments[kt];if(ht)var At=bi(Ge),qt=ks(tt,At);if(S&&(tt=xn(tt,S,N,ht)),X&&(tt=Mc(tt,X,ne,ht)),It-=qt,ht&&It<Ie){var vt=Er(tt,At);return Nc(u,l,_u,Ge.placeholder,m,tt,vt,se,_e,Ie-It)}var jt=He?m:this,Mn=ct?jt[u]:u;return It=tt.length,se?tt=uh(tt,se):Et&&It>1&&tt.reverse(),Ne&&_e<It&&(tt.length=_e),this&&this!==kn&&this instanceof Ge&&(Mn=Le||mu(Mn)),Mn.apply(jt,tt)}}function Vf(u,l){return function(m,S){return function(N,X,ne,se){return pt(N,function(_e,Ie,Ne){X(se,ne(_e),Ie,Ne)}),se}(m,u,l(S),{})}}function Ou(u,l){return function(m,S){var N;if(m===v&&S===v)return l;if(m!==v&&(N=m),S!==v){if(N===v)return S;typeof m=="string"||typeof S=="string"?(m=Sr(m),S=Sr(S)):(m=Vs(m),S=Vs(S)),N=u(m,S)}return N}}function Js(u){return $o(function(l){return l=tn(l,Sn(Mt())),Vt(function(m){var S=this;return u(l,function(N){return vn(N,S,m)})})})}function Tc(u,l){var m=(l=l===v?" ":Sr(l)).length;if(m<2)return m?Ec(l,u):l;var S=Ec(l,pc(u/uo(l)));return ao(l)?yi(jr(S),0,u).join(""):S.slice(0,u)}function gi(u){return function(l,m,S){return S&&typeof S!="number"&&nr(l,m,S)&&(m=S=v),l=Jo(l),m===v?(m=l,l=0):m=Jo(m),function(N,X,ne,se){for(var _e=-1,Ie=Kn(pc((X-N)/(ne||1)),0),Ne=Qe(Ie);Ie--;)Ne[se?Ie:++_e]=N,N+=ne;return Ne}(l,m,S=S===v?l<m?1:-1:Jo(S),u)}}function Dc(u){return function(l,m){return typeof l=="string"&&typeof m=="string"||(l=Xr(l),m=Xr(m)),u(l,m)}}function Nc(u,l,m,S,N,X,ne,se,_e,Ie){var Ne=8&l;l|=Ne?k:I,4&(l&=~(Ne?I:k))||(l&=-4);var He=[u,l,N,Ne?X:v,Ne?ne:v,Ne?v:X,Ne?v:ne,se,_e,Ie],ct=m.apply(v,He);return xu(u)&&sl(ct,He),ct.placeholder=S,ll(ct,u,l)}function Cc(u){var l=_[u];return function(m,S){if(m=Xr(m),(S=S==null?0:fr(Ht(S),292))&&bf(m)){var N=(yn(m)+"e").split("e");return+((N=(yn(l(N[0]+"e"+(+N[1]+S)))+"e").split("e"))[0]+"e"+(+N[1]-S))}return l(m)}}var Qs=Ui&&1/Bo(new Ui([,-0]))[1]==H?function(u){return new Ui(u)}:Bu;function el(u){return function(l){var m=pr(l);return m==ie?sr(l):m==je?ga(l):function(S,N){return tn(N,function(X){return[X,S[X]]})}(l,u(l))}}function Vo(u,l,m,S,N,X,ne,se){var _e=2&l;if(!_e&&typeof u!="function")throw new $(E);var Ie=S?S.length:0;if(Ie||(l&=-97,S=N=v),ne=ne===v?ne:Kn(Ht(ne),0),se=se===v?se:Ht(se),Ie-=N?N.length:0,l&I){var Ne=S,He=N;S=N=v}var ct=_e?v:rl(u),ht=[u,l,m,S,N,Ne,He,X,ne,se];if(ct&&function(Le,Ge){var It=Le[1],tt=Ge[1],kt=It|tt,At=kt<131,qt=tt==C&&It==8||tt==C&&It==L&&Le[7].length<=Ge[8]||tt==384&&Ge[7].length<=Ge[8]&&It==8;if(!At&&!qt)return Le;1&tt&&(Le[2]=Ge[2],kt|=1&It?0:4);var vt=Ge[3];if(vt){var jt=Le[3];Le[3]=jt?xn(jt,vt,Ge[4]):vt,Le[4]=jt?Er(Le[3],A):Ge[4]}(vt=Ge[5])&&(jt=Le[5],Le[5]=jt?Mc(jt,vt,Ge[6]):vt,Le[6]=jt?Er(Le[5],A):Ge[6]),(vt=Ge[7])&&(Le[7]=vt),tt&C&&(Le[8]=Le[8]==null?Ge[8]:fr(Le[8],Ge[8])),Le[9]==null&&(Le[9]=Ge[9]),Le[0]=Ge[0],Le[1]=kt}(ht,ct),u=ht[0],l=ht[1],m=ht[2],S=ht[3],N=ht[4],!(se=ht[9]=ht[9]===v?_e?0:u.length:Kn(ht[9]-Ie,0))&&24&l&&(l&=-25),l&&l!=1)Et=l==8||l==D?function(Le,Ge,It){var tt=mu(Le);return function kt(){for(var At=arguments.length,qt=Qe(At),vt=At,jt=bi(kt);vt--;)qt[vt]=arguments[vt];var Mn=At<3&&qt[0]!==jt&&qt[At-1]!==jt?[]:Er(qt,jt);return(At-=Mn.length)<It?Nc(Le,Ge,_u,kt.placeholder,v,qt,Mn,v,v,It-At):vn(this&&this!==kn&&this instanceof kt?tt:Le,this,qt)}}(u,l,se):l!=k&&l!=33||N.length?_u.apply(v,ht):function(Le,Ge,It,tt){var kt=1&Ge,At=mu(Le);return function qt(){for(var vt=-1,jt=arguments.length,Mn=-1,be=tt.length,fo=Qe(be+jt),Wn=this&&this!==kn&&this instanceof qt?At:Le;++Mn<be;)fo[Mn]=tt[Mn];for(;jt--;)fo[Mn++]=arguments[++vt];return vn(Wn,kt?It:this,fo)}}(u,l,m,S);else var Et=function(Le,Ge,It){var tt=1&Ge,kt=mu(Le);return function At(){return(this&&this!==kn&&this instanceof At?kt:Le).apply(tt?It:this,arguments)}}(u,l,m);return ll((ct?Rf:sl)(Et,ht),u,l)}function $f(u,l,m,S){return u===v||Fr(u,Fe[m])&&!et.call(S,m)?l:u}function Kf(u,l,m,S,N,X){return hn(u)&&hn(l)&&(X.set(l,u),xc(u,l,v,Kf,X),X.delete(l)),u}function ih(u){return Zo(u)?v:u}function qf(u,l,m,S,N,X){var ne=1&m,se=u.length,_e=l.length;if(se!=_e&&!(ne&&_e>se))return!1;var Ie=X.get(u),Ne=X.get(l);if(Ie&&Ne)return Ie==l&&Ne==u;var He=-1,ct=!0,ht=2&m?new fi:v;for(X.set(u,l),X.set(l,u);++He<se;){var Et=u[He],Le=l[He];if(S)var Ge=ne?S(Le,Et,He,l,u,X):S(Et,Le,He,u,l,X);if(Ge!==v){if(Ge)continue;ct=!1;break}if(ht){if(!su(l,function(It,tt){if(!xo(ht,tt)&&(Et===It||N(Et,It,m,S,X)))return ht.push(tt)})){ct=!1;break}}else if(Et!==Le&&!N(Et,Le,m,S,X)){ct=!1;break}}return X.delete(u),X.delete(l),ct}function $o(u){return zc(ul(u,v,vl),u+"")}function tl(u){return Bs(u,Zn,wu)}function nl(u){return Bs(u,ir,il)}var rl=vc?function(u){return vc.get(u)}:Bu;function Rc(u){for(var l=u.name+"",m=xa[l],S=et.call(xa,l)?m.length:0;S--;){var N=m[S],X=N.func;if(X==null||X==u)return N.name}return l}function bi(u){return(et.call(F,"placeholder")?F:u).placeholder}function Mt(){var u=F.iteratee||Ra;return u=u===Ra?Xs:u,arguments.length?u(arguments[0],arguments[1]):u}function Ic(u,l){var m,S,N=u.__data__;return((S=typeof(m=l))=="string"||S=="number"||S=="symbol"||S=="boolean"?m!=="__proto__":m===null)?N[typeof l=="string"?"string":"hash"]:N.map}function ol(u){for(var l=Zn(u),m=l.length;m--;){var S=l[m],N=u[S];l[m]=[S,N,Ta(N)]}return l}function Wi(u,l){var m=function(S,N){return S==null?v:S[N]}(u,l);return Aa(m)?m:v}var wu=Ts?function(u){return u==null?[]:(u=w(u),cr(Ts(u),function(l){return lr.call(u,l)}))}:Fu,il=Ts?function(u){for(var l=[];u;)Yn(l,wu(u)),u=Fo(u);return l}:Fu,pr=Pn;function Zf(u,l,m){for(var S=-1,N=(l=hi(l,u)).length,X=!1;++S<N;){var ne=so(l[S]);if(!(X=u!=null&&m(u,ne)))break;u=u[ne]}return X||++S!=N?X:!!(N=u==null?0:u.length)&&wi(N)&&En(ne,N)&&(Xt(u)||Oi(u))}function Jf(u){return typeof u.constructor!="function"||Eu(u)?{}:Ea(Fo(u))}function ah(u){return Xt(u)||Oi(u)||!!(li&&u&&u[li])}function En(u,l){var m=typeof u;return!!(l=l??V)&&(m=="number"||m!="symbol"&&at.test(u))&&u>-1&&u%1==0&&u<l}function nr(u,l,m){if(!hn(m))return!1;var S=typeof l;return!!(S=="number"?kr(m)&&En(l,m.length):S=="string"&&l in m)&&Fr(m[l],u)}function al(u,l){if(Xt(u))return!1;var m=typeof u;return!(m!="number"&&m!="symbol"&&m!="boolean"&&u!=null&&!Tr(u))||zt.test(u)||!on.test(u)||l!=null&&u in w(l)}function xu(u){var l=Rc(u),m=F[l];if(typeof m!="function"||!(l in en.prototype))return!1;if(u===m)return!0;var S=rl(m);return!!S&&u===S[0]}(Oa&&pr(new Oa(new ArrayBuffer(1)))!=rt||So&&pr(new So)!=ie||Ns&&pr(Ns.resolve())!=Pe||Ui&&pr(new Ui)!=je||wa&&pr(new wa)!=Ae)&&(pr=function(u){var l=Pn(u),m=l==ge?u.constructor:v,S=m?_i(m):"";if(S)switch(S){case Jd:return rt;case _f:return ie;case Qd:return Pe;case eh:return je;case Of:return Ae}return l});var mi=ut?qo:Qc;function Eu(u){var l=u&&u.constructor;return u===(typeof l=="function"&&l.prototype||Fe)}function Ta(u){return u==u&&!hn(u)}function Lc(u,l){return function(m){return m!=null&&m[u]===l&&(l!==v||u in w(m))}}function ul(u,l,m){return l=Kn(l===v?u.length-1:l,0),function(){for(var S=arguments,N=-1,X=Kn(S.length-l,0),ne=Qe(X);++N<X;)ne[N]=S[l+N];N=-1;for(var se=Qe(l+1);++N<l;)se[N]=S[N];return se[l]=m(ne),vn(u,this,se)}}function cl(u,l){return l.length<2?u:Go(u,Zr(l,0,-1))}function uh(u,l){for(var m=u.length,S=fr(l.length,m),N=Pr(u);S--;){var X=l[S];u[S]=En(X,m)?N[X]:v}return u}function ke(u,l){if((l!=="constructor"||typeof u[l]!="function")&&l!="__proto__")return u[l]}var sl=fl(Rf),Da=gf||function(u,l){return kn.setTimeout(u,l)},zc=fl(rh);function ll(u,l,m){var S=l+"";return zc(u,function(N,X){var ne=X.length;if(!ne)return N;var se=ne-1;return X[se]=(ne>1?"& ":"")+X[se],X=X.join(ne>2?", ":" "),N.replace(q,`{
/* [wrapped with `+X+`] */
`)}(S,function(N,X){return yr(ee,function(ne){var se="_."+ne[0];X&ne[1]&&!vr(N,se)&&N.push(se)}),N.sort()}(function(N){var X=N.match(pe);return X?X[1].split(oe):[]}(S),m)))}function fl(u){var l=0,m=0;return function(){var S=dc(),N=16-(S-m);if(m=S,N>0){if(++l>=800)return arguments[0]}else l=0;return u.apply(v,arguments)}}function ju(u,l){var m=-1,S=u.length,N=S-1;for(l=l===v?S:l;++m<l;){var X=Us(m,N),ne=u[X];u[X]=u[m],u[m]=ne}return u.length=l,u}var pl=function(u){var l=ku(u,function(S){return m.size===500&&m.clear(),S}),m=l.cache;return l}(function(u){var l=[];return u.charCodeAt(0)===46&&l.push(""),u.replace(Zt,function(m,S,N,X){l.push(N?X.replace($e,"$1"):S||m)}),l});function so(u){if(typeof u=="string"||Tr(u))return u;var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}function _i(u){if(u!=null){try{return Yt.call(u)}catch{}try{return u+""}catch{}}return""}function dl(u){if(u instanceof en)return u.clone();var l=new $r(u.__wrapped__,u.__chain__);return l.__actions__=Pr(u.__actions__),l.__index__=u.__index__,l.__values__=u.__values__,l}var Qf=Vt(function(u,l){return Fn(u)?Uo(u,er(l,1,Fn,!0)):[]}),ep=Vt(function(u,l){var m=Ar(l);return Fn(m)&&(m=v),Fn(u)?Uo(u,er(l,1,Fn,!0),Mt(m,2)):[]}),tp=Vt(function(u,l){var m=Ar(l);return Fn(m)&&(m=v),Fn(u)?Uo(u,er(l,1,Fn,!0),v,m):[]});function hl(u,l,m){var S=u==null?0:u.length;if(!S)return-1;var N=m==null?0:Ht(m);return N<0&&(N=Kn(S+N,0)),Oo(u,Mt(l,3),N)}function yl(u,l,m){var S=u==null?0:u.length;if(!S)return-1;var N=S-1;return m!==v&&(N=Ht(m),N=m<0?Kn(S+N,0):fr(N,S-1)),Oo(u,Mt(l,3),N,!0)}function vl(u){return u!=null&&u.length?er(u,1):[]}function gl(u){return u&&u.length?u[0]:v}var np=Vt(function(u){var l=tn(u,Ac);return l.length&&l[0]===u[0]?Oc(l):[]}),rp=Vt(function(u){var l=Ar(u),m=tn(u,Ac);return l===Ar(m)?l=v:m.pop(),m.length&&m[0]===u[0]?Oc(m,Mt(l,2)):[]}),op=Vt(function(u){var l=Ar(u),m=tn(u,Ac);return(l=typeof l=="function"?l:v)&&m.pop(),m.length&&m[0]===u[0]?Oc(m,v,l):[]});function Ar(u){var l=u==null?0:u.length;return l?u[l-1]:v}var Bc=Vt(ip);function ip(u,l){return u&&u.length&&l&&l.length?Hs(u,l):u}var lo=$o(function(u,l){var m=u==null?0:u.length,S=mc(u,l);return Ma(u,tn(l,function(N){return En(N,m)?+N:N}).sort(Xf)),S});function ko(u){return u==null?u:Zd.call(u)}var ch=Vt(function(u){return di(er(u,1,Fn,!0))}),Br=Vt(function(u){var l=Ar(u);return Fn(l)&&(l=v),di(er(u,1,Fn,!0),Mt(l,2))}),ap=Vt(function(u){var l=Ar(u);return l=typeof l=="function"?l:v,di(er(u,1,Fn,!0),v,l)});function Su(u){if(!u||!u.length)return[];var l=0;return u=cr(u,function(m){if(Fn(m))return l=Kn(m.length,l),!0}),Fi(l,function(m){return tn(u,br(m))})}function bl(u,l){if(!u||!u.length)return[];var m=Su(u);return l==null?m:tn(m,function(S){return vn(l,v,S)})}var up=Vt(function(u,l){return Fn(u)?Uo(u,l):[]}),cp=Vt(function(u){return Pc(cr(u,Fn))}),sp=Vt(function(u){var l=Ar(u);return Fn(l)&&(l=v),Pc(cr(u,Fn),Mt(l,2))}),lp=Vt(function(u){var l=Ar(u);return l=typeof l=="function"?l:v,Pc(cr(u,Fn),v,l)}),ml=Vt(Su),Pu=Vt(function(u){var l=u.length,m=l>1?u[l-1]:v;return m=typeof m=="function"?(u.pop(),m):v,bl(u,m)});function rr(u){var l=F(u);return l.__chain__=!0,l}function Fc(u,l){return l(u)}var sh=$o(function(u){var l=u.length,m=l?u[0]:0,S=this.__wrapped__,N=function(X){return mc(X,u)};return!(l>1||this.__actions__.length)&&S instanceof en&&En(m)?((S=S.slice(m,+m+(l?1:0))).__actions__.push({func:Fc,args:[N],thisArg:v}),new $r(S,this.__chain__).thru(function(X){return l&&!X.length&&X.push(v),X})):this.thru(N)}),_l=kc(function(u,l,m){et.call(u,m)?++u[m]:Ao(u,m,1)}),fp=Yf(hl),Mr=Yf(yl);function Bn(u,l){return(Xt(u)?yr:wn)(u,Mt(l,3))}function pp(u,l){return(Xt(u)?sc:Sf)(u,Mt(l,3))}var Jr=kc(function(u,l,m){et.call(u,m)?u[m].push(l):Ao(u,m,[l])}),Pt=Vt(function(u,l,m){var S=-1,N=typeof l=="function",X=kr(u)?Qe(u.length):[];return wn(u,function(ne){X[++S]=N?vn(l,ne,m):Sa(ne,l,m)}),X}),Ol=kc(function(u,l,m){Ao(u,m,l)});function Na(u,l){return(Xt(u)?tn:qr)(u,Mt(l,3))}var wl=kc(function(u,l,m){u[m?0:1].push(l)},function(){return[[],[]]}),dp=Vt(function(u,l){if(u==null)return[];var m=l.length;return m>1&&nr(u,l[0],l[1])?l=[]:m>2&&nr(l[0],l[1],l[2])&&(l=[l[0]]),Nf(u,er(l,1),[])}),Au=Kd||function(){return kn.Date.now()};function hp(u,l,m){return l=m?v:l,l=u&&l==null?u.length:l,Vo(u,C,v,v,v,v,l)}function yp(u,l){var m;if(typeof l!="function")throw new $(E);return u=Ht(u),function(){return--u>0&&(m=l.apply(this,arguments)),u<=1&&(l=v),m}}var Mu=Vt(function(u,l,m){var S=1;if(m.length){var N=Er(m,bi(Mu));S|=k}return Vo(u,S,l,m,N)}),vp=Vt(function(u,l,m){var S=3;if(m.length){var N=Er(m,bi(vp));S|=k}return Vo(l,S,u,m,N)});function Xc(u,l,m){var S,N,X,ne,se,_e,Ie=0,Ne=!1,He=!1,ct=!0;if(typeof u!="function")throw new $(E);function ht(kt){var At=S,qt=N;return S=N=v,Ie=kt,ne=u.apply(qt,At)}function Et(kt){return Ie=kt,se=Da(Ge,l),Ne?ht(kt):ne}function Le(kt){var At=kt-_e;return _e===v||At>=l||At<0||He&&kt-Ie>=X}function Ge(){var kt=Au();if(Le(kt))return It(kt);se=Da(Ge,function(At){var qt=l-(At-_e);return He?fr(qt,X-(At-Ie)):qt}(kt))}function It(kt){return se=v,ct&&S?ht(kt):(S=N=v,ne)}function tt(){var kt=Au(),At=Le(kt);if(S=arguments,N=this,_e=kt,At){if(se===v)return Et(_e);if(He)return Ks(se),se=Da(Ge,l),ht(_e)}return se===v&&(se=Da(Ge,l)),ne}return l=Xr(l)||0,hn(m)&&(Ne=!!m.leading,X=(He="maxWait"in m)?Kn(Xr(m.maxWait)||0,l):X,ct="trailing"in m?!!m.trailing:ct),tt.cancel=function(){se!==v&&Ks(se),Ie=0,S=_e=N=se=v},tt.flush=function(){return se===v?ne:It(Au())},tt}var lh=Vt(function(u,l){return zs(u,1,l)}),fh=Vt(function(u,l,m){return zs(u,Xr(l)||0,m)});function ku(u,l){if(typeof u!="function"||l!=null&&typeof l!="function")throw new $(E);var m=function(){var S=arguments,N=l?l.apply(this,S):S[0],X=m.cache;if(X.has(N))return X.get(N);var ne=u.apply(this,S);return m.cache=X.set(N,ne)||X,ne};return m.cache=new(ku.Cache||Po),m}function Ko(u){if(typeof u!="function")throw new $(E);return function(){var l=arguments;switch(l.length){case 0:return!u.call(this);case 1:return!u.call(this,l[0]);case 2:return!u.call(this,l[0],l[1]);case 3:return!u.call(this,l[0],l[1],l[2])}return!u.apply(this,l)}}ku.Cache=Po;var gp=Ff(function(u,l){var m=(l=l.length==1&&Xt(l[0])?tn(l[0],Sn(Mt())):tn(er(l,1),Sn(Mt()))).length;return Vt(function(S){for(var N=-1,X=fr(S.length,m);++N<X;)S[N]=l[N].call(this,S[N]);return vn(u,this,S)})}),Dt=Vt(function(u,l){var m=Er(l,bi(Dt));return Vo(u,k,v,l,m)}),xl=Vt(function(u,l){var m=Er(l,bi(xl));return Vo(u,I,v,l,m)}),Hc=$o(function(u,l){return Vo(u,L,v,v,v,l)});function Fr(u,l){return u===l||u!=u&&l!=l}var ph=Dc(Tn),bp=Dc(function(u,l){return u>=l}),Oi=Fs(function(){return arguments}())?Fs:function(u){return An(u)&&et.call(u,"callee")&&!lr.call(u,"callee")},Xt=Qe.isArray,dh=au?Sn(au):function(u){return An(u)&&Pn(u)==Xe};function kr(u){return u!=null&&wi(u.length)&&!qo(u)}function Fn(u){return An(u)&&kr(u)}var Qr=qd||Qc,hh=uc?Sn(uc):function(u){return An(u)&&Pn(u)==B};function Tu(u){if(!An(u))return!1;var l=Pn(u);return l==U||l=="[object DOMException]"||typeof u.message=="string"&&typeof u.name=="string"&&!Zo(u)}function qo(u){if(!hn(u))return!1;var l=Pn(u);return l==Y||l==K||l=="[object AsyncFunction]"||l=="[object Proxy]"}function mp(u){return typeof u=="number"&&u==Ht(u)}function wi(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=V}function hn(u){var l=typeof u;return u!=null&&(l=="object"||l=="function")}function An(u){return u!=null&&typeof u=="object"}var or=uu?Sn(uu):function(u){return An(u)&&pr(u)==ie};function Du(u){return typeof u=="number"||An(u)&&Pn(u)==xe}function Zo(u){if(!An(u)||Pn(u)!=ge)return!1;var l=Fo(u);if(l===null)return!0;var m=et.call(l,"constructor")&&l.constructor;return typeof m=="function"&&m instanceof m&&Yt.call(m)==Lr}var El=pa?Sn(pa):function(u){return An(u)&&Pn(u)==Be},jl=ci?Sn(ci):function(u){return An(u)&&pr(u)==je};function Nu(u){return typeof u=="string"||!Xt(u)&&An(u)&&Pn(u)==ve}function Tr(u){return typeof u=="symbol"||An(u)&&Pn(u)==Se}var Vi=ro?Sn(ro):function(u){return An(u)&&wi(u.length)&&!!un[Pn(u)]},_p=Dc(Wo),Uc=Dc(function(u,l){return u<=l});function Op(u){if(!u)return[];if(kr(u))return Nu(u)?jr(u):Pr(u);if(Xo&&u[Xo])return function(m){for(var S,N=[];!(S=m.next()).done;)N.push(S.value);return N}(u[Xo]());var l=pr(u);return(l==ie?sr:l==je?Bo:qi)(u)}function Jo(u){return u?(u=Xr(u))===H||u===-1/0?17976931348623157e292*(u<0?-1:1):u==u?u:0:u===0?u:0}function Ht(u){var l=Jo(u),m=l%1;return l==l?m?l-m:l:0}function Cu(u){return u?pi(Ht(u),0,ue):0}function Xr(u){if(typeof u=="number")return u;if(Tr(u))return te;if(hn(u)){var l=typeof u.valueOf=="function"?u.valueOf():u;u=hn(l)?l+"":l}if(typeof u!="string")return u===0?u:+u;u=lu(u);var m=Jn.test(u);return m||Ln.test(u)?_o(u.slice(2),m?2:8):Gn.test(u)?te:+u}function Gc(u){return Mo(u,ir(u))}function yn(u){return u==null?"":Sr(u)}var wp=Yi(function(u,l){if(Eu(l)||kr(l))Mo(l,Zn(l),u);else for(var m in l)et.call(l,m)&&ja(u,m,l[m])}),Ca=Yi(function(u,l){Mo(l,ir(l),u)}),Yc=Yi(function(u,l,m,S){Mo(l,ir(l),u,S)}),Ru=Yi(function(u,l,m,S){Mo(l,Zn(l),u,S)}),xp=$o(mc),Iu=Vt(function(u,l){u=w(u);var m=-1,S=l.length,N=S>2?l[2]:v;for(N&&nr(l[0],l[1],N)&&(S=1);++m<S;)for(var X=l[m],ne=ir(X),se=-1,_e=ne.length;++se<_e;){var Ie=ne[se],Ne=u[Ie];(Ne===v||Fr(Ne,Fe[Ie])&&!et.call(u,Ie))&&(u[Ie]=X[Ie])}return u}),Sl=Vt(function(u){return u.push(v,Kf),vn(Wc,v,u)});function xi(u,l,m){var S=u==null?v:Go(u,l);return S===v?m:S}function $i(u,l){return u!=null&&Zf(u,l,Mf)}var Lu=Vf(function(u,l,m){l!=null&&typeof l.toString!="function"&&(l=nn.call(l)),u[l]=m},Cl(ar)),Ep=Vf(function(u,l,m){l!=null&&typeof l.toString!="function"&&(l=nn.call(l)),et.call(u,l)?u[l].push(m):u[l]=[m]},Mt),jp=Vt(Sa);function Zn(u){return kr(u)?Cs(u):Yo(u)}function ir(u){return kr(u)?Cs(u,!0):th(u)}var Sp=Yi(function(u,l,m){xc(u,l,m)}),Wc=Yi(function(u,l,m,S){xc(u,l,m,S)}),Pp=$o(function(u,l){var m={};if(u==null)return m;var S=!1;l=tn(l,function(X){return X=hi(X,u),S||(S=X.length>1),X}),Mo(u,nl(u),m),S&&(m=zr(m,7,ih));for(var N=l.length;N--;)Sc(m,l[N]);return m}),Ap=$o(function(u,l){return u==null?{}:function(m,S){return Cf(m,S,function(N,X){return $i(m,X)})}(u,l)});function Ki(u,l){if(u==null)return{};var m=tn(nl(u),function(S){return[S]});return l=Mt(l),Cf(u,m,function(S,N){return l(S,N[0])})}var Vc=el(Zn),Pl=el(ir);function qi(u){return u==null?[]:va(u,Zn(u))}var Al=vi(function(u,l,m){return l=l.toLowerCase(),u+(m?$c(l):l)});function $c(u){return qc(yn(u).toLowerCase())}function Kc(u){return(u=yn(u))&&u.replace(mt,pu).replace(mo,"")}var Mp=vi(function(u,l,m){return u+(m?"-":"")+l.toLowerCase()}),Ml=vi(function(u,l,m){return u+(m?" ":"")+l.toLowerCase()}),kl=Gf("toLowerCase"),Tl=vi(function(u,l,m){return u+(m?"_":"")+l.toLowerCase()}),zu=vi(function(u,l,m){return u+(m?" ":"")+qc(l)}),Ei=vi(function(u,l,m){return u+(m?" ":"")+l.toUpperCase()}),qc=Gf("toUpperCase");function Dl(u,l,m){return u=yn(u),(l=m?v:l)===v?function(S){return nu.test(S)}(u)?function(S){return S.match(la)||[]}(u):function(S){return S.match(me)||[]}(u):u.match(l)||[]}var Zc=Vt(function(u,l){try{return vn(u,v,l)}catch(m){return Tu(m)?m:new $t(m)}}),Nl=$o(function(u,l){return yr(l,function(m){m=so(m),Ao(u,m,Mu(u[m],u))}),u});function Cl(u){return function(){return u}}var kp=Wf(),Rl=Wf(!0);function ar(u){return u}function Ra(u){return Xs(typeof u=="function"?u:zr(u,1))}var Il=Vt(function(u,l){return function(m){return Sa(m,u,l)}}),Ll=Vt(function(u,l){return function(m){return Sa(u,m,l)}});function Jc(u,l,m){var S=Zn(l),N=_c(l,S);m!=null||hn(l)&&(N.length||!S.length)||(m=l,l=u,u=this,N=_c(l,Zn(l)));var X=!(hn(m)&&"chain"in m&&!m.chain),ne=qo(u);return yr(N,function(se){var _e=l[se];u[se]=_e,ne&&(u.prototype[se]=function(){var Ie=this.__chain__;if(X||Ie){var Ne=u(this.__wrapped__),He=Ne.__actions__=Pr(this.__actions__);return He.push({func:_e,args:arguments,thisArg:u}),Ne.__chain__=Ie,Ne}return _e.apply(u,Yn([this.value()],arguments))})}),u}function Bu(){}var Tp=Js(tn),zl=Js(lc),yh=Js(su);function Xn(u){return al(u)?br(so(u)):function(l){return function(m){return Go(m,l)}}(u)}var To=gi(),Bl=gi(!0);function Fu(){return[]}function Qc(){return!1}var Fl=Ou(function(u,l){return u+l},0),Xl=Cc("ceil"),Hl=Ou(function(u,l){return u/l},1),vh=Cc("floor"),Qo,Ul=Ou(function(u,l){return u*l},1),Gl=Cc("round"),Dp=Ou(function(u,l){return u-l},0);return F.after=function(u,l){if(typeof l!="function")throw new $(E);return u=Ht(u),function(){if(--u<1)return l.apply(this,arguments)}},F.ary=hp,F.assign=wp,F.assignIn=Ca,F.assignInWith=Yc,F.assignWith=Ru,F.at=xp,F.before=yp,F.bind=Mu,F.bindAll=Nl,F.bindKey=vp,F.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return Xt(u)?u:[u]},F.chain=rr,F.chunk=function(u,l,m){l=(m?nr(u,l,m):l===v)?1:Kn(Ht(l),0);var S=u==null?0:u.length;if(!S||l<1)return[];for(var N=0,X=0,ne=Qe(pc(S/l));N<S;)ne[X++]=Zr(u,N,N+=l);return ne},F.compact=function(u){for(var l=-1,m=u==null?0:u.length,S=0,N=[];++l<m;){var X=u[l];X&&(N[S++]=X)}return N},F.concat=function(){var u=arguments.length;if(!u)return[];for(var l=Qe(u-1),m=arguments[0],S=u;S--;)l[S-1]=arguments[S];return Yn(Xt(m)?Pr(m):[m],er(l,1))},F.cond=function(u){var l=u==null?0:u.length,m=Mt();return u=l?tn(u,function(S){if(typeof S[1]!="function")throw new $(E);return[m(S[0]),S[1]]}):[],Vt(function(S){for(var N=-1;++N<l;){var X=u[N];if(vn(X[0],this,S))return vn(X[1],this,S)}})},F.conforms=function(u){return function(l){var m=Zn(l);return function(S){return Ls(S,l,m)}}(zr(u,1))},F.constant=Cl,F.countBy=_l,F.create=function(u,l){var m=Ea(u);return l==null?m:Is(m,l)},F.curry=function u(l,m,S){var N=Vo(l,8,v,v,v,v,v,m=S?v:m);return N.placeholder=u.placeholder,N},F.curryRight=function u(l,m,S){var N=Vo(l,D,v,v,v,v,v,m=S?v:m);return N.placeholder=u.placeholder,N},F.debounce=Xc,F.defaults=Iu,F.defaultsDeep=Sl,F.defer=lh,F.delay=fh,F.difference=Qf,F.differenceBy=ep,F.differenceWith=tp,F.drop=function(u,l,m){var S=u==null?0:u.length;return S?Zr(u,(l=m||l===v?1:Ht(l))<0?0:l,S):[]},F.dropRight=function(u,l,m){var S=u==null?0:u.length;return S?Zr(u,0,(l=S-(l=m||l===v?1:Ht(l)))<0?0:l):[]},F.dropRightWhile=function(u,l){return u&&u.length?bu(u,Mt(l,3),!0,!0):[]},F.dropWhile=function(u,l){return u&&u.length?bu(u,Mt(l,3),!0):[]},F.fill=function(u,l,m,S){var N=u==null?0:u.length;return N?(m&&typeof m!="number"&&nr(u,l,m)&&(m=0,S=N),function(X,ne,se,_e){var Ie=X.length;for((se=Ht(se))<0&&(se=-se>Ie?0:Ie+se),(_e=_e===v||_e>Ie?Ie:Ht(_e))<0&&(_e+=Ie),_e=se>_e?0:Cu(_e);se<_e;)X[se++]=ne;return X}(u,l,m,S)):[]},F.filter=function(u,l){return(Xt(u)?cr:cn)(u,Mt(l,3))},F.flatMap=function(u,l){return er(Na(u,l),1)},F.flatMapDeep=function(u,l){return er(Na(u,l),H)},F.flatMapDepth=function(u,l,m){return m=m===v?1:Ht(m),er(Na(u,l),m)},F.flatten=vl,F.flattenDeep=function(u){return u!=null&&u.length?er(u,H):[]},F.flattenDepth=function(u,l){return u!=null&&u.length?er(u,l=l===v?1:Ht(l)):[]},F.flip=function(u){return Vo(u,512)},F.flow=kp,F.flowRight=Rl,F.fromPairs=function(u){for(var l=-1,m=u==null?0:u.length,S={};++l<m;){var N=u[l];S[N[0]]=N[1]}return S},F.functions=function(u){return u==null?[]:_c(u,Zn(u))},F.functionsIn=function(u){return u==null?[]:_c(u,ir(u))},F.groupBy=Jr,F.initial=function(u){return u!=null&&u.length?Zr(u,0,-1):[]},F.intersection=np,F.intersectionBy=rp,F.intersectionWith=op,F.invert=Lu,F.invertBy=Ep,F.invokeMap=Pt,F.iteratee=Ra,F.keyBy=Ol,F.keys=Zn,F.keysIn=ir,F.map=Na,F.mapKeys=function(u,l){var m={};return l=Mt(l,3),pt(u,function(S,N,X){Ao(m,l(S,N,X),S)}),m},F.mapValues=function(u,l){var m={};return l=Mt(l,3),pt(u,function(S,N,X){Ao(m,N,l(S,N,X))}),m},F.matches=function(u){return kf(zr(u,1))},F.matchesProperty=function(u,l){return Tf(u,zr(l,1))},F.memoize=ku,F.merge=Sp,F.mergeWith=Wc,F.method=Il,F.methodOf=Ll,F.mixin=Jc,F.negate=Ko,F.nthArg=function(u){return u=Ht(u),Vt(function(l){return Df(l,u)})},F.omit=Pp,F.omitBy=function(u,l){return Ki(u,Ko(Mt(l)))},F.once=function(u){return yp(2,u)},F.orderBy=function(u,l,m,S){return u==null?[]:(Xt(l)||(l=l==null?[]:[l]),Xt(m=S?v:m)||(m=m==null?[]:[m]),Nf(u,l,m))},F.over=Tp,F.overArgs=gp,F.overEvery=zl,F.overSome=yh,F.partial=Dt,F.partialRight=xl,F.partition=wl,F.pick=Ap,F.pickBy=Ki,F.property=Xn,F.propertyOf=function(u){return function(l){return u==null?v:Go(u,l)}},F.pull=Bc,F.pullAll=ip,F.pullAllBy=function(u,l,m){return u&&u.length&&l&&l.length?Hs(u,l,Mt(m,2)):u},F.pullAllWith=function(u,l,m){return u&&u.length&&l&&l.length?Hs(u,l,v,m):u},F.pullAt=lo,F.range=To,F.rangeRight=Bl,F.rearg=Hc,F.reject=function(u,l){return(Xt(u)?cr:cn)(u,Ko(Mt(l,3)))},F.remove=function(u,l){var m=[];if(!u||!u.length)return m;var S=-1,N=[],X=u.length;for(l=Mt(l,3);++S<X;){var ne=u[S];l(ne,S,u)&&(m.push(ne),N.push(S))}return Ma(u,N),m},F.rest=function(u,l){if(typeof u!="function")throw new $(E);return Vt(u,l=l===v?l:Ht(l))},F.reverse=ko,F.sampleSize=function(u,l,m){return l=(m?nr(u,l,m):l===v)?1:Ht(l),(Xt(u)?xf:Gs)(u,l)},F.set=function(u,l,m){return u==null?u:ka(u,l,m)},F.setWith=function(u,l,m,S){return S=typeof S=="function"?S:v,u==null?u:ka(u,l,m,S)},F.shuffle=function(u){return(Xt(u)?Ef:oh)(u)},F.slice=function(u,l,m){var S=u==null?0:u.length;return S?(m&&typeof m!="number"&&nr(u,l,m)?(l=0,m=S):(l=l==null?0:Ht(l),m=m===v?S:Ht(m)),Zr(u,l,m)):[]},F.sortBy=dp,F.sortedUniq=function(u){return u&&u.length?If(u):[]},F.sortedUniqBy=function(u,l){return u&&u.length?If(u,Mt(l,2)):[]},F.split=function(u,l,m){return m&&typeof m!="number"&&nr(u,l,m)&&(l=m=v),(m=m===v?ue:m>>>0)?(u=yn(u))&&(typeof l=="string"||l!=null&&!El(l))&&!(l=Sr(l))&&ao(u)?yi(jr(u),0,m):u.split(l,m):[]},F.spread=function(u,l){if(typeof u!="function")throw new $(E);return l=l==null?0:Kn(Ht(l),0),Vt(function(m){var S=m[l],N=yi(m,0,l);return S&&Yn(N,S),vn(u,this,N)})},F.tail=function(u){var l=u==null?0:u.length;return l?Zr(u,1,l):[]},F.take=function(u,l,m){return u&&u.length?Zr(u,0,(l=m||l===v?1:Ht(l))<0?0:l):[]},F.takeRight=function(u,l,m){var S=u==null?0:u.length;return S?Zr(u,(l=S-(l=m||l===v?1:Ht(l)))<0?0:l,S):[]},F.takeRightWhile=function(u,l){return u&&u.length?bu(u,Mt(l,3),!1,!0):[]},F.takeWhile=function(u,l){return u&&u.length?bu(u,Mt(l,3)):[]},F.tap=function(u,l){return l(u),u},F.throttle=function(u,l,m){var S=!0,N=!0;if(typeof u!="function")throw new $(E);return hn(m)&&(S="leading"in m?!!m.leading:S,N="trailing"in m?!!m.trailing:N),Xc(u,l,{leading:S,maxWait:l,trailing:N})},F.thru=Fc,F.toArray=Op,F.toPairs=Vc,F.toPairsIn=Pl,F.toPath=function(u){return Xt(u)?tn(u,so):Tr(u)?[u]:Pr(pl(yn(u)))},F.toPlainObject=Gc,F.transform=function(u,l,m){var S=Xt(u),N=S||Qr(u)||Vi(u);if(l=Mt(l,4),m==null){var X=u&&u.constructor;m=N?S?new X:[]:hn(u)&&qo(X)?Ea(Fo(u)):{}}return(N?yr:pt)(u,function(ne,se,_e){return l(m,ne,se,_e)}),m},F.unary=function(u){return hp(u,1)},F.union=ch,F.unionBy=Br,F.unionWith=ap,F.uniq=function(u){return u&&u.length?di(u):[]},F.uniqBy=function(u,l){return u&&u.length?di(u,Mt(l,2)):[]},F.uniqWith=function(u,l){return l=typeof l=="function"?l:v,u&&u.length?di(u,v,l):[]},F.unset=function(u,l){return u==null||Sc(u,l)},F.unzip=Su,F.unzipWith=bl,F.update=function(u,l,m){return u==null?u:Lf(u,l,$s(m))},F.updateWith=function(u,l,m,S){return S=typeof S=="function"?S:v,u==null?u:Lf(u,l,$s(m),S)},F.values=qi,F.valuesIn=function(u){return u==null?[]:va(u,ir(u))},F.without=up,F.words=Dl,F.wrap=function(u,l){return Dt($s(l),u)},F.xor=cp,F.xorBy=sp,F.xorWith=lp,F.zip=ml,F.zipObject=function(u,l){return Bf(u||[],l||[],ja)},F.zipObjectDeep=function(u,l){return Bf(u||[],l||[],ka)},F.zipWith=Pu,F.entries=Vc,F.entriesIn=Pl,F.extend=Ca,F.extendWith=Yc,Jc(F,F),F.add=Fl,F.attempt=Zc,F.camelCase=Al,F.capitalize=$c,F.ceil=Xl,F.clamp=function(u,l,m){return m===v&&(m=l,l=v),m!==v&&(m=(m=Xr(m))==m?m:0),l!==v&&(l=(l=Xr(l))==l?l:0),pi(Xr(u),l,m)},F.clone=function(u){return zr(u,4)},F.cloneDeep=function(u){return zr(u,5)},F.cloneDeepWith=function(u,l){return zr(u,5,l=typeof l=="function"?l:v)},F.cloneWith=function(u,l){return zr(u,4,l=typeof l=="function"?l:v)},F.conformsTo=function(u,l){return l==null||Ls(u,l,Zn(l))},F.deburr=Kc,F.defaultTo=function(u,l){return u==null||u!=u?l:u},F.divide=Hl,F.endsWith=function(u,l,m){u=yn(u),l=Sr(l);var S=u.length,N=m=m===v?S:pi(Ht(m),0,S);return(m-=l.length)>=0&&u.slice(m,N)==l},F.eq=Fr,F.escape=function(u){return(u=yn(u))&&st.test(u)?u.replace(yt,Cn):u},F.escapeRegExp=function(u){return(u=yn(u))&&_n.test(u)?u.replace(fn,"\\$&"):u},F.every=function(u,l,m){var S=Xt(u)?lc:Pf;return m&&nr(u,l,m)&&(l=v),S(u,Mt(l,3))},F.find=fp,F.findIndex=hl,F.findKey=function(u,l){return oo(u,Mt(l,3),pt)},F.findLast=Mr,F.findLastIndex=yl,F.findLastKey=function(u,l){return oo(u,Mt(l,3),bn)},F.floor=vh,F.forEach=Bn,F.forEachRight=pp,F.forIn=function(u,l){return u==null?u:Wt(u,Mt(l,3),ir)},F.forInRight=function(u,l){return u==null?u:zn(u,Mt(l,3),ir)},F.forOwn=function(u,l){return u&&pt(u,Mt(l,3))},F.forOwnRight=function(u,l){return u&&bn(u,Mt(l,3))},F.get=xi,F.gt=ph,F.gte=bp,F.has=function(u,l){return u!=null&&Zf(u,l,Af)},F.hasIn=$i,F.head=gl,F.identity=ar,F.includes=function(u,l,m,S){u=kr(u)?u:qi(u),m=m&&!S?Ht(m):0;var N=u.length;return m<0&&(m=Kn(N+m,0)),Nu(u)?m<=N&&u.indexOf(l,m)>-1:!!N&&si(u,l,m)>-1},F.indexOf=function(u,l,m){var S=u==null?0:u.length;if(!S)return-1;var N=m==null?0:Ht(m);return N<0&&(N=Kn(S+N,0)),si(u,l,N)},F.inRange=function(u,l,m){return l=Jo(l),m===v?(m=l,l=0):m=Jo(m),function(S,N,X){return S>=fr(N,X)&&S<Kn(N,X)}(u=Xr(u),l,m)},F.invoke=jp,F.isArguments=Oi,F.isArray=Xt,F.isArrayBuffer=dh,F.isArrayLike=kr,F.isArrayLikeObject=Fn,F.isBoolean=function(u){return u===!0||u===!1||An(u)&&Pn(u)==W},F.isBuffer=Qr,F.isDate=hh,F.isElement=function(u){return An(u)&&u.nodeType===1&&!Zo(u)},F.isEmpty=function(u){if(u==null)return!0;if(kr(u)&&(Xt(u)||typeof u=="string"||typeof u.splice=="function"||Qr(u)||Vi(u)||Oi(u)))return!u.length;var l=pr(u);if(l==ie||l==je)return!u.size;if(Eu(u))return!Yo(u).length;for(var m in u)if(et.call(u,m))return!1;return!0},F.isEqual=function(u,l){return Pa(u,l)},F.isEqualWith=function(u,l,m){var S=(m=typeof m=="function"?m:v)?m(u,l):v;return S===v?Pa(u,l,v,m):!!S},F.isError=Tu,F.isFinite=function(u){return typeof u=="number"&&bf(u)},F.isFunction=qo,F.isInteger=mp,F.isLength=wi,F.isMap=or,F.isMatch=function(u,l){return u===l||wc(u,l,ol(l))},F.isMatchWith=function(u,l,m){return m=typeof m=="function"?m:v,wc(u,l,ol(l),m)},F.isNaN=function(u){return Du(u)&&u!=+u},F.isNative=function(u){if(mi(u))throw new $t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Aa(u)},F.isNil=function(u){return u==null},F.isNull=function(u){return u===null},F.isNumber=Du,F.isObject=hn,F.isObjectLike=An,F.isPlainObject=Zo,F.isRegExp=El,F.isSafeInteger=function(u){return mp(u)&&u>=-9007199254740991&&u<=V},F.isSet=jl,F.isString=Nu,F.isSymbol=Tr,F.isTypedArray=Vi,F.isUndefined=function(u){return u===v},F.isWeakMap=function(u){return An(u)&&pr(u)==Ae},F.isWeakSet=function(u){return An(u)&&Pn(u)=="[object WeakSet]"},F.join=function(u,l){return u==null?"":Ds.call(u,l)},F.kebabCase=Mp,F.last=Ar,F.lastIndexOf=function(u,l,m){var S=u==null?0:u.length;if(!S)return-1;var N=S;return m!==v&&(N=(N=Ht(m))<0?Kn(S+N,0):fr(N,S-1)),l==l?function(X,ne,se){for(var _e=se+1;_e--;)if(X[_e]===ne)return _e;return _e}(u,l,N):Oo(u,wo,N,!0)},F.lowerCase=Ml,F.lowerFirst=kl,F.lt=_p,F.lte=Uc,F.max=function(u){return u&&u.length?Rn(u,ar,Tn):v},F.maxBy=function(u,l){return u&&u.length?Rn(u,Mt(l,2),Tn):v},F.mean=function(u){return Jt(u,ar)},F.meanBy=function(u,l){return Jt(u,Mt(l,2))},F.min=function(u){return u&&u.length?Rn(u,ar,Wo):v},F.minBy=function(u,l){return u&&u.length?Rn(u,Mt(l,2),Wo):v},F.stubArray=Fu,F.stubFalse=Qc,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Ul,F.nth=function(u,l){return u&&u.length?Df(u,Ht(l)):v},F.noConflict=function(){return kn._===this&&(kn._=On),this},F.noop=Bu,F.now=Au,F.pad=function(u,l,m){u=yn(u);var S=(l=Ht(l))?uo(u):0;if(!l||S>=l)return u;var N=(l-S)/2;return Tc(_a(N),m)+u+Tc(pc(N),m)},F.padEnd=function(u,l,m){u=yn(u);var S=(l=Ht(l))?uo(u):0;return l&&S<l?u+Tc(l-S,m):u},F.padStart=function(u,l,m){u=yn(u);var S=(l=Ht(l))?uo(u):0;return l&&S<l?Tc(l-S,m)+u:u},F.parseInt=function(u,l,m){return m||l==null?l=0:l&&(l=+l),hc(yn(u).replace(Ct,""),l||0)},F.random=function(u,l,m){if(m&&typeof m!="boolean"&&nr(u,l,m)&&(l=m=v),m===v&&(typeof l=="boolean"?(m=l,l=v):typeof u=="boolean"&&(m=u,u=v)),u===v&&l===v?(u=0,l=1):(u=Jo(u),l===v?(l=u,u=0):l=Jo(l)),u>l){var S=u;u=l,l=S}if(m||u%1||l%1){var N=yc();return fr(u+N*(l-u+ui("1e-"+((N+"").length-1))),l)}return Us(u,l)},F.reduce=function(u,l,m){var S=Xt(u)?da:$n,N=arguments.length<3;return S(u,Mt(l,4),m,N,wn)},F.reduceRight=function(u,l,m){var S=Xt(u)?fc:$n,N=arguments.length<3;return S(u,Mt(l,4),m,N,Sf)},F.repeat=function(u,l,m){return l=(m?nr(u,l,m):l===v)?1:Ht(l),Ec(yn(u),l)},F.replace=function(){var u=arguments,l=yn(u[0]);return u.length<3?l:l.replace(u[1],u[2])},F.result=function(u,l,m){var S=-1,N=(l=hi(l,u)).length;for(N||(N=1,u=v);++S<N;){var X=u==null?v:u[so(l[S])];X===v&&(S=N,X=m),u=qo(X)?X.call(u):X}return u},F.round=Gl,F.runInContext=Oe,F.sample=function(u){return(Xt(u)?Rs:nh)(u)},F.size=function(u){if(u==null)return 0;if(kr(u))return Nu(u)?uo(u):u.length;var l=pr(u);return l==ie||l==je?u.size:Yo(u).length},F.snakeCase=Tl,F.some=function(u,l,m){var S=Xt(u)?su:Ys;return m&&nr(u,l,m)&&(l=v),S(u,Mt(l,3))},F.sortedIndex=function(u,l){return jc(u,l)},F.sortedIndexBy=function(u,l,m){return Ws(u,l,Mt(m,2))},F.sortedIndexOf=function(u,l){var m=u==null?0:u.length;if(m){var S=jc(u,l);if(S<m&&Fr(u[S],l))return S}return-1},F.sortedLastIndex=function(u,l){return jc(u,l,!0)},F.sortedLastIndexBy=function(u,l,m){return Ws(u,l,Mt(m,2),!0)},F.sortedLastIndexOf=function(u,l){if(u!=null&&u.length){var m=jc(u,l,!0)-1;if(Fr(u[m],l))return m}return-1},F.startCase=zu,F.startsWith=function(u,l,m){return u=yn(u),m=m==null?0:pi(Ht(m),0,u.length),l=Sr(l),u.slice(m,m+l.length)==l},F.subtract=Dp,F.sum=function(u){return u&&u.length?ya(u,ar):0},F.sumBy=function(u,l){return u&&u.length?ya(u,Mt(l,2)):0},F.template=function(u,l,m){var S=F.templateSettings;m&&nr(u,l,m)&&(l=v),u=yn(u),l=Yc({},l,S,$f);var N,X,ne=Yc({},l.imports,S.imports,$f),se=Zn(ne),_e=va(ne,se),Ie=0,Ne=l.interpolate||xt,He="__p += '",ct=P((l.escape||xt).source+"|"+Ne.source+"|"+(Ne===Lt?ft:xt).source+"|"+(l.evaluate||xt).source+"|$","g"),ht="//# sourceURL="+(et.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oc+"]")+`
`;u.replace(ct,function(Ge,It,tt,kt,At,qt){return tt||(tt=kt),He+=u.slice(Ie,qt).replace(Rt,zo),It&&(N=!0,He+=`' +
__e(`+It+`) +
'`),At&&(X=!0,He+=`';
`+At+`;
__p += '`),tt&&(He+=`' +
((__t = (`+tt+`)) == null ? '' : __t) +
'`),Ie=qt+Ge.length,Ge}),He+=`';
`;var Et=et.call(l,"variable")&&l.variable;if(Et){if(Ve.test(Et))throw new $t("Invalid `variable` option passed into `_.template`")}else He=`with (obj) {
`+He+`
}
`;He=(X?He.replace(ze,""):He).replace(wt,"$1").replace(Tt,"$1;"),He="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+He+`return __p
}`;var Le=Zc(function(){return gn(se,ht+"return "+He).apply(v,_e)});if(Le.source=He,Tu(Le))throw Le;return Le},F.times=function(u,l){if((u=Ht(u))<1||u>V)return[];var m=ue,S=fr(u,ue);l=Mt(l),u-=ue;for(var N=Fi(S,l);++m<u;)l(m);return N},F.toFinite=Jo,F.toInteger=Ht,F.toLength=Cu,F.toLower=function(u){return yn(u).toLowerCase()},F.toNumber=Xr,F.toSafeInteger=function(u){return u?pi(Ht(u),-9007199254740991,V):u===0?u:0},F.toString=yn,F.toUpper=function(u){return yn(u).toUpperCase()},F.trim=function(u,l,m){if((u=yn(u))&&(m||l===v))return lu(u);if(!u||!(l=Sr(l)))return u;var S=jr(u),N=jr(l);return yi(S,Rr(S,N),fu(S,N)+1).join("")},F.trimEnd=function(u,l,m){if((u=yn(u))&&(m||l===v))return u.slice(0,mr(u)+1);if(!u||!(l=Sr(l)))return u;var S=jr(u);return yi(S,0,fu(S,jr(l))+1).join("")},F.trimStart=function(u,l,m){if((u=yn(u))&&(m||l===v))return u.replace(Ct,"");if(!u||!(l=Sr(l)))return u;var S=jr(u);return yi(S,Rr(S,jr(l))).join("")},F.truncate=function(u,l){var m=30,S="...";if(hn(l)){var N="separator"in l?l.separator:N;m="length"in l?Ht(l.length):m,S="omission"in l?Sr(l.omission):S}var X=(u=yn(u)).length;if(ao(u)){var ne=jr(u);X=ne.length}if(m>=X)return u;var se=m-uo(S);if(se<1)return S;var _e=ne?yi(ne,0,se).join(""):u.slice(0,se);if(N===v)return _e+S;if(ne&&(se+=_e.length-se),El(N)){if(u.slice(se).search(N)){var Ie,Ne=_e;for(N.global||(N=P(N.source,yn(Ut.exec(N))+"g")),N.lastIndex=0;Ie=N.exec(Ne);)var He=Ie.index;_e=_e.slice(0,He===v?se:He)}}else if(u.indexOf(Sr(N),se)!=se){var ct=_e.lastIndexOf(N);ct>-1&&(_e=_e.slice(0,ct))}return _e+S},F.unescape=function(u){return(u=yn(u))&&Me.test(u)?u.replace(St,Ir):u},F.uniqueId=function(u){var l=++pn;return yn(u)+l},F.upperCase=Ei,F.upperFirst=qc,F.each=Bn,F.eachRight=pp,F.first=gl,Jc(F,(Qo={},pt(F,function(u,l){et.call(F.prototype,l)||(Qo[l]=u)}),Qo),{chain:!1}),F.VERSION="4.17.21",yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){F[u].placeholder=F}),yr(["drop","take"],function(u,l){en.prototype[u]=function(m){m=m===v?1:Kn(Ht(m),0);var S=this.__filtered__&&!l?new en(this):this.clone();return S.__filtered__?S.__takeCount__=fr(m,S.__takeCount__):S.__views__.push({size:fr(m,ue),type:u+(S.__dir__<0?"Right":"")}),S},en.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),yr(["filter","map","takeWhile"],function(u,l){var m=l+1,S=m==1||m==3;en.prototype[u]=function(N){var X=this.clone();return X.__iteratees__.push({iteratee:Mt(N,3),type:m}),X.__filtered__=X.__filtered__||S,X}}),yr(["head","last"],function(u,l){var m="take"+(l?"Right":"");en.prototype[u]=function(){return this[m](1).value()[0]}}),yr(["initial","tail"],function(u,l){var m="drop"+(l?"":"Right");en.prototype[u]=function(){return this.__filtered__?new en(this):this[m](1)}}),en.prototype.compact=function(){return this.filter(ar)},en.prototype.find=function(u){return this.filter(u).head()},en.prototype.findLast=function(u){return this.reverse().find(u)},en.prototype.invokeMap=Vt(function(u,l){return typeof u=="function"?new en(this):this.map(function(m){return Sa(m,u,l)})}),en.prototype.reject=function(u){return this.filter(Ko(Mt(u)))},en.prototype.slice=function(u,l){u=Ht(u);var m=this;return m.__filtered__&&(u>0||l<0)?new en(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),l!==v&&(m=(l=Ht(l))<0?m.dropRight(-l):m.take(l-u)),m)},en.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},en.prototype.toArray=function(){return this.take(ue)},pt(en.prototype,function(u,l){var m=/^(?:filter|find|map|reject)|While$/.test(l),S=/^(?:head|last)$/.test(l),N=F[S?"take"+(l=="last"?"Right":""):l],X=S||/^find/.test(l);N&&(F.prototype[l]=function(){var ne=this.__wrapped__,se=S?[1]:arguments,_e=ne instanceof en,Ie=se[0],Ne=_e||Xt(ne),He=function(It){var tt=N.apply(F,Yn([It],se));return S&&ct?tt[0]:tt};Ne&&m&&typeof Ie=="function"&&Ie.length!=1&&(_e=Ne=!1);var ct=this.__chain__,ht=!!this.__actions__.length,Et=X&&!ct,Le=_e&&!ht;if(!X&&Ne){ne=Le?ne:new en(this);var Ge=u.apply(ne,se);return Ge.__actions__.push({func:Fc,args:[He],thisArg:v}),new $r(Ge,ct)}return Et&&Le?u.apply(this,se):(Ge=this.thru(He),Et?S?Ge.value()[0]:Ge.value():Ge)})}),yr(["pop","push","shift","sort","splice","unshift"],function(u){var l=fe[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);F.prototype[u]=function(){var N=arguments;if(S&&!this.__chain__){var X=this.value();return l.apply(Xt(X)?X:[],N)}return this[m](function(ne){return l.apply(Xt(ne)?ne:[],N)})}}),pt(en.prototype,function(u,l){var m=F[l];if(m){var S=m.name+"";et.call(xa,S)||(xa[S]=[]),xa[S].push({name:l,func:m})}}),xa[_u(v,2).name]=[{name:"wrapper",func:v}],en.prototype.clone=function(){var u=new en(this.__wrapped__);return u.__actions__=Pr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Pr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Pr(this.__views__),u},en.prototype.reverse=function(){if(this.__filtered__){var u=new en(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},en.prototype.value=function(){var u=this.__wrapped__.value(),l=this.__dir__,m=Xt(u),S=l<0,N=m?u.length:0,X=function(qt,vt,jt){for(var Mn=-1,be=jt.length;++Mn<be;){var fo=jt[Mn],Wn=fo.size;switch(fo.type){case"drop":qt+=Wn;break;case"dropRight":vt-=Wn;break;case"take":vt=fr(vt,qt+Wn);break;case"takeRight":qt=Kn(qt,vt-Wn)}}return{start:qt,end:vt}}(0,N,this.__views__),ne=X.start,se=X.end,_e=se-ne,Ie=S?se:ne-1,Ne=this.__iteratees__,He=Ne.length,ct=0,ht=fr(_e,this.__takeCount__);if(!m||!S&&N==_e&&ht==_e)return zf(u,this.__actions__);var Et=[];e:for(;_e--&&ct<ht;){for(var Le=-1,Ge=u[Ie+=l];++Le<He;){var It=Ne[Le],tt=It.iteratee,kt=It.type,At=tt(Ge);if(kt==2)Ge=At;else if(!At){if(kt==1)continue e;break e}}Et[ct++]=Ge}return Et},F.prototype.at=sh,F.prototype.chain=function(){return rr(this)},F.prototype.commit=function(){return new $r(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===v&&(this.__values__=Op(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?v:this.__values__[this.__index__++]}},F.prototype.plant=function(u){for(var l,m=this;m instanceof vu;){var S=dl(m);S.__index__=0,S.__values__=v,l?N.__wrapped__=S:l=S;var N=S;m=m.__wrapped__}return N.__wrapped__=u,l},F.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof en){var l=u;return this.__actions__.length&&(l=new en(this)),(l=l.reverse()).__actions__.push({func:Fc,args:[ko],thisArg:v}),new $r(l,this.__chain__)}return this.thru(ko)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return zf(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,Xo&&(F.prototype[Xo]=function(){return this}),F}();kn._=co,(O=(function(){return co}).call(p,o,p,d))===v||(d.exports=O)}).call(this)}).call(this,o(68),o(221)(s))},function(s,p,o){var f=o(7),d=o(34),O=o(33),v=o(87),E=o(62),M=o(174),A=o(28),D=f.TypeError,k=A("toPrimitive");s.exports=function(I,C){if(!O(I)||v(I))return I;var L,H=E(I,k);if(H){if(C===void 0&&(C="default"),L=d(H,I,C),!O(L)||v(L))return L;throw D("Can't convert object to primitive value")}return C===void 0&&(C="number"),M(I,C)}},function(s,p,o){var f=o(108);s.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,p,o){var f=o(36),d=o(18),O=o(91);s.exports=!f&&!d(function(){return Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a!=7})},function(s,p,o){var f=o(35),d=o(135),O=o(50),v=o(38);s.exports=function(E,M){for(var A=d(M),D=v.f,k=O.f,I=0;I<A.length;I++){var C=A[I];f(E,C)||D(E,C,k(M,C))}}},function(s,p,o){var f=o(46),d=o(15),O=o(74),v=o(112),E=o(32),M=d([].concat);s.exports=f("Reflect","ownKeys")||function(A){var D=O.f(E(A)),k=v.f;return k?M(D,k(A)):D}},function(s,p,o){var f=o(15),d=o(35),O=o(41),v=o(137).indexOf,E=o(72),M=f([].push);s.exports=function(A,D){var k,I=O(A),C=0,L=[];for(k in I)!d(E,k)&&d(I,k)&&M(L,k);for(;D.length>C;)d(I,k=D[C++])&&(~v(L,k)||M(L,k));return L}},function(s,p,o){var f=o(41),d=o(75),O=o(45),v=function(E){return function(M,A,D){var k,I=f(M),C=O(I),L=d(D,C);if(E&&A!=A){for(;C>L;)if((k=I[L++])!=k)return!0}else for(;C>L;L++)if((E||L in I)&&I[L]===A)return E||L||0;return!E&&-1}};s.exports={includes:v(!0),indexOf:v(!1)}},function(s,p,o){var f=o(46);s.exports=f("document","documentElement")},function(s,p,o){var f=o(51),d=o(41),O=o(74).f,v=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(M){return E&&f(M)=="Window"?function(A){try{return O(A)}catch{return v(E)}}(M):O(d(M))}},function(s,p,o){var f=o(28);p.f=f},function(s,p,o){var f=o(177),d=o(35),O=o(140),v=o(38).f;s.exports=function(E){var M=f.Symbol||(f.Symbol={});d(M,E)||v(M,E,{value:O.f(E)})}},function(s,p,o){var f,d,O,v=o(18),E=o(30),M=o(60),A=o(101),D=o(42),k=o(28),I=o(71),C=k("iterator"),L=!1;[].keys&&("next"in(O=[].keys())?(d=A(A(O)))!==Object.prototype&&(f=d):L=!0),f==null||v(function(){var H={};return f[C].call(H)!==H})?f={}:I&&(f=M(f)),E(f[C])||D(f,C,function(){return this}),s.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:L}},function(s,p,o){var f=o(18);s.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(s,p,o){var f=o(16),d=o(15),O=o(72),v=o(33),E=o(35),M=o(38).f,A=o(74),D=o(139),k=o(183),I=o(90),C=o(185),L=!1,H=I("meta"),V=0,te=function(ee){M(ee,H,{value:{objectID:"O"+V++,weakData:{}}})},ue=s.exports={enable:function(){ue.enable=function(){},L=!0;var ee=A.f,J=d([].splice),Q={};Q[H]=1,ee(Q).length&&(A.f=function(W){for(var B=ee(W),U=0,Y=B.length;U<Y;U++)if(B[U]===H){J(B,U,1);break}return B},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:D.f}))},fastKey:function(ee,J){if(!v(ee))return typeof ee=="symbol"?ee:(typeof ee=="string"?"S":"P")+ee;if(!E(ee,H)){if(!k(ee))return"F";if(!J)return"E";te(ee)}return ee[H].objectID},getWeakData:function(ee,J){if(!E(ee,H)){if(!k(ee))return!0;if(!J)return!1;te(ee)}return ee[H].weakData},onFreeze:function(ee){return C&&L&&k(ee)&&!E(ee,H)&&te(ee),ee}};O[H]=!0},function(s,p,o){var f=o(28),d=o(80),O=f("iterator"),v=Array.prototype;s.exports=function(E){return E!==void 0&&(d.Array===E||v[O]===E)}},function(s,p,o){var f=o(7),d=o(34),O=o(56),v=o(32),E=o(88),M=o(118),A=f.TypeError;s.exports=function(D,k){var I=arguments.length<2?M(D):k;if(O(I))return v(d(I,D));throw A(E(D)+" is not iterable")}},function(s,p,o){var f=o(34),d=o(32),O=o(62);s.exports=function(v,E,M){var A,D;d(v);try{if(!(A=O(v,"return"))){if(E==="throw")throw M;return M}A=f(A,v)}catch(k){D=!0,A=k}if(E==="throw")throw M;if(D)throw A;return d(A),M}},function(s,p,o){var f=o(30),d=o(33),O=o(102);s.exports=function(v,E,M){var A,D;return O&&f(A=E.constructor)&&A!==M&&d(D=A.prototype)&&D!==M.prototype&&O(v,D),v}},function(s,p,o){var f=o(42);s.exports=function(d,O,v){for(var E in O)f(d,E,O[E],v);return d}},function(s,p,o){var f=o(46),d=o(38),O=o(28),v=o(36),E=O("species");s.exports=function(M){var A=f(M),D=d.f;v&&A&&!A[E]&&D(A,E,{configurable:!0,get:function(){return this}})}},function(s,p,o){var f=o(15),d=o(59),O=o(39),v=o(44),E=f("".charAt),M=f("".charCodeAt),A=f("".slice),D=function(k){return function(I,C){var L,H,V=O(v(I)),te=d(C),ue=V.length;return te<0||te>=ue?k?"":void 0:(L=M(V,te))<55296||L>56319||te+1===ue||(H=M(V,te+1))<56320||H>57343?k?E(V,te):L:k?A(V,te,te+2):H-56320+(L-55296<<10)+65536}};s.exports={codeAt:D(!1),charAt:D(!0)}},function(s,p){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,p,o){var f=o(91)("span").classList,d=f&&f.constructor&&f.constructor.prototype;s.exports=d===Object.prototype?void 0:d},function(s,p,o){var f=o(32);s.exports=function(){var d=f(this),O="";return d.global&&(O+="g"),d.ignoreCase&&(O+="i"),d.multiline&&(O+="m"),d.dotAll&&(O+="s"),d.unicode&&(O+="u"),d.sticky&&(O+="y"),O}},function(s,p,o){var f=o(18),d=o(7).RegExp,O=f(function(){var M=d("a","y");return M.lastIndex=2,M.exec("abcd")!=null}),v=O||f(function(){return!d("a","y").sticky}),E=O||f(function(){var M=d("^r","gy");return M.lastIndex=2,M.exec("str")!=null});s.exports={BROKEN_CARET:E,MISSED_STICKY:v,UNSUPPORTED_Y:O}},function(s,p,o){var f=o(16),d=o(79).find,O=o(100),v="find",E=!0;v in[]&&Array(1).find(function(){E=!1}),f({target:"Array",proto:!0,forced:E},{find:function(M){return d(this,M,arguments.length>1?arguments[1]:void 0)}}),O(v)},function(s,p,o){var f=o(16),d=o(137).includes,O=o(100);f({target:"Array",proto:!0},{includes:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}}),O("includes")},function(s,p,o){var f=o(16),d=o(15),O=o(197),v=o(44),E=o(39),M=o(198),A=d("".indexOf);f({target:"String",proto:!0,forced:!M("includes")},{includes:function(D){return!!~A(E(v(this)),E(O(D)),arguments.length>1?arguments[1]:void 0)}})},function(s,p,o){var f=o(33),d=o(51),O=o(28)("match");s.exports=function(v){var E;return f(v)&&((E=v[O])!==void 0?!!E:d(v)=="RegExp")}},function(s,p,o){var f=o(15);s.exports=f(1 .valueOf)},function(s,p,o){var f=o(15),d=o(44),O=o(39),v=o(162),E=f("".replace),M="["+v+"]",A=RegExp("^"+M+M+"*"),D=RegExp(M+M+"*$"),k=function(I){return function(C){var L=O(d(C));return 1&I&&(L=E(L,A,"")),2&I&&(L=E(L,D,"")),L}};s.exports={start:k(1),end:k(2),trim:k(3)}},function(s,p){s.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(s,p){var o,f,d=s.exports={};function O(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function E(V){if(o===setTimeout)return setTimeout(V,0);if((o===O||!o)&&setTimeout)return o=setTimeout,setTimeout(V,0);try{return o(V,0)}catch{try{return o.call(null,V,0)}catch{return o.call(this,V,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:O}catch{o=O}try{f=typeof clearTimeout=="function"?clearTimeout:v}catch{f=v}})();var M,A=[],D=!1,k=-1;function I(){D&&M&&(D=!1,M.length?A=M.concat(A):k=-1,A.length&&C())}function C(){if(!D){var V=E(I);D=!0;for(var te=A.length;te;){for(M=A,A=[];++k<te;)M&&M[k].run();k=-1,te=A.length}M=null,D=!1,function(ue){if(f===clearTimeout)return clearTimeout(ue);if((f===v||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(ue);try{f(ue)}catch{try{return f.call(null,ue)}catch{return f.call(this,ue)}}}(V)}}function L(V,te){this.fun=V,this.array=te}function H(){}d.nextTick=function(V){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)te[ue-1]=arguments[ue];A.push(new L(V,te)),A.length!==1||D||E(C)},L.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=H,d.addListener=H,d.once=H,d.off=H,d.removeListener=H,d.removeAllListeners=H,d.emit=H,d.prependListener=H,d.prependOnceListener=H,d.listeners=function(V){return[]},d.binding=function(V){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(V){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(s,p,o){var f=o(32),d=o(165),O=o(28)("species");s.exports=function(v,E){var M,A=f(v).constructor;return A===void 0||(M=f(A)[O])==null?E:d(M)}},function(s,p,o){var f=o(7),d=o(99),O=o(88),v=f.TypeError;s.exports=function(E){if(d(E))return E;throw v(O(E)+" is not a constructor")}},function(s,p,o){var f=o(16),d=o(161).trim;f({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return d(this)}})},function(s,p,o){var f=o(34),d=o(123),O=o(32),v=o(94),E=o(39),M=o(44),A=o(62),D=o(124),k=o(125);d("match",function(I,C,L){return[function(H){var V=M(this),te=H==null?void 0:A(H,I);return te?f(te,H,V):new RegExp(H)[I](E(V))},function(H){var V=O(this),te=E(H),ue=L(C,V,te);if(ue.done)return ue.value;if(!V.global)return k(V,te);var ee=V.unicode;V.lastIndex=0;for(var J,Q=[],W=0;(J=k(V,te))!==null;){var B=E(J[0]);Q[W]=B,B===""&&(V.lastIndex=D(te,v(V.lastIndex),ee)),W++}return W===0?null:Q}]})},function(s,p,o){var f,d,O,v,E=o(7),M=o(76),A=o(64),D=o(30),k=o(35),I=o(18),C=o(138),L=o(98),H=o(91),V=o(169),te=o(128),ue=E.setImmediate,ee=E.clearImmediate,J=E.process,Q=E.Dispatch,W=E.Function,B=E.MessageChannel,U=E.String,Y=0,K={},ie="onreadystatechange";try{f=E.location}catch{}var xe=function(je){if(k(K,je)){var ve=K[je];delete K[je],ve()}},ge=function(je){return function(){xe(je)}},Pe=function(je){xe(je.data)},Be=function(je){E.postMessage(U(je),f.protocol+"//"+f.host)};ue&&ee||(ue=function(je){var ve=L(arguments,1);return K[++Y]=function(){M(D(je)?je:W(je),void 0,ve)},d(Y),Y},ee=function(je){delete K[je]},te?d=function(je){J.nextTick(ge(je))}:Q&&Q.now?d=function(je){Q.now(ge(je))}:B&&!V?(v=(O=new B).port2,O.port1.onmessage=Pe,d=A(v.postMessage,v)):E.addEventListener&&D(E.postMessage)&&!E.importScripts&&f&&f.protocol!=="file:"&&!I(Be)?(d=Be,E.addEventListener("message",Pe,!1)):d=ie in H("script")?function(je){C.appendChild(H("script")).onreadystatechange=function(){C.removeChild(this),xe(je)}}:function(je){setTimeout(ge(je),0)}),s.exports={set:ue,clear:ee}},function(s,p,o){var f=o(55);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(s,p,o){var f=o(56),d=function(O){var v,E;this.promise=new O(function(M,A){if(v!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");v=M,E=A}),this.resolve=f(v),this.reject=f(E)};s.exports.f=function(O){return new d(O)}},function(s,p,o){p.a=function(){return!1}},function(s,p,o){(function(f){o.d(p,"a",function(){return J});var d=o(1);function O(B){throw new Error("[mobx-utils] "+B)}function v(B,U){U===void 0&&(U="Illegal state"),B||O(U)}var E=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(E(Object.getPrototypeOf(B))||[])},M=function(B){return function(U){var Y=E(U);return Y.filter(function(K,ie){return Y.indexOf(K)===ie})}(B).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},A="pending",D="fulfilled",k="rejected";function I(B){switch(this.state){case A:return B.pending&&B.pending(this.value);case k:return B.rejected&&B.rejected(this.value);case D:return B.fulfilled?B.fulfilled(this.value):this.value}}function C(B,U){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var Y=B;B.then(Object(d.k)("observableFromPromise-resolve",function(ie){Y.value=ie,Y.state=D}),Object(d.k)("observableFromPromise-reject",function(ie){Y.value=ie,Y.state=k})),Y.isPromiseBasedObservable=!0,Y.case=I;var K=U&&U.state===D?U.value:void 0;return Object(d.q)(Y,{value:K,state:A},{},{deep:!1}),Y}(function(B){B.reject=Object(d.k)("fromPromise.reject",function(U){var Y=B(Promise.reject(U));return Y.state=k,Y.value=U,Y}),B.resolve=Object(d.k)("fromPromise.resolve",function(U){U===void 0&&(U=void 0);var Y=B(Promise.resolve(U));return Y.state=D,Y.value=U,Y})})(C||(C={}));var L=function(B,U,Y,K){var ie,xe=arguments.length,ge=xe<3?U:K===null?K=Object.getOwnPropertyDescriptor(U,Y):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(B,U,Y,K);else for(var Pe=B.length-1;Pe>=0;Pe--)(ie=B[Pe])&&(ge=(xe<3?ie(ge):xe>3?ie(U,Y,ge):ie(U,Y))||ge);return xe>3&&ge&&Object.defineProperty(U,Y,ge),ge};(function(){function B(U,Y){var K=this;Object(d.G)(function(){K.current=Y,K.subscription=U.subscribe(K)})}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(U){this.current=U},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(U){this.current=U,this.dispose()},L([d.C.ref],B.prototype,"current",void 0),L([d.k.bound],B.prototype,"next",null),L([d.k.bound],B.prototype,"complete",null),L([d.k.bound],B.prototype,"error",null)})();var H=function(){return H=Object.assign||function(B){for(var U,Y=1,K=arguments.length;Y<K;Y++)for(var ie in U=arguments[Y])Object.prototype.hasOwnProperty.call(U,ie)&&(B[ie]=U[ie]);return B},H.apply(this,arguments)},V=function(B,U,Y,K){var ie,xe=arguments.length,ge=xe<3?U:K===null?K=Object.getOwnPropertyDescriptor(U,Y):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(B,U,Y,K);else for(var Pe=B.length-1;Pe>=0;Pe--)(ie=B[Pe])&&(ge=(xe<3?ie(ge):xe>3?ie(U,Y,ge):ie(U,Y))||ge);return xe>3&&ge&&Object.defineProperty(U,Y,ge),ge},te=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(U){var Y=this;this.model=U,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function(K){return Y.localValues.has(K)},v(Object(d.A)(U),"createViewModel expects an observable object"),M(U).forEach(function(K){if(K!==d.a&&K!=="__mobxDidRunLazyInitializers"){if(v(te.indexOf(K)===-1,"The propertyname "+K+" is reserved and cannot be used with viewModels"),Object(d.w)(U,K)){var ie=Object(d.h)(U,K).derivation;Y.localComputedValues.set(K,Object(d.m)(ie.bind(Y)))}var xe=Object.getOwnPropertyDescriptor(U,K),ge=xe?{enumerable:xe.enumerable}:{};Object.defineProperty(Y,K,H(H({},ge),{configurable:!0,get:function(){return Object(d.w)(U,K)?Y.localComputedValues.get(K).get():Y.isPropertyDirty(K)?Y.localValues.get(K):Y.model[K]},set:Object(d.k)(function(Pe){Pe!==Y.model[K]?Y.localValues.set(K,Pe):Y.localValues.delete(K)})}))}})}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var U=this;Object(d.B)(this.localValues).forEach(function(Y){var K=U.localValues.get(Y),ie=U.model[Y];Object(d.y)(ie)?ie.replace(K):Object(d.z)(ie)?(ie.clear(),ie.merge(K)):Object(d.v)(K)||(U.model[Y]=K)}),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(U){this.localValues.delete(U)},V([d.m],B.prototype,"isDirty",null),V([d.m],B.prototype,"changedValues",null),V([d.k.bound],B.prototype,"submit",null),V([d.k.bound],B.prototype,"reset",null),V([d.k.bound],B.prototype,"resetProperty",null)})();function ue(B){if(!B)return"ROOT";for(var U=[];B.parent;)U.push(B.path),B=B.parent;return U.reverse().join("/")}function ee(B){return Object(d.A)(B)||Object(d.y)(B)||Object(d.z)(B)}function J(B,U){var Y=new WeakMap;function K(ge){var Pe=Y.get(ge.object);(function(Be,je){switch(Be.type){case"add":ie(Be.newValue,je,Be.name);break;case"update":xe(Be.oldValue),ie(Be.newValue,je,Be.name||""+Be.index);break;case"remove":case"delete":xe(Be.oldValue);break;case"splice":Be.removed.map(xe),Be.added.forEach(function(Ae,Xe){return ie(Ae,je,""+(Be.index+Xe))});for(var ve=Be.index+Be.addedCount;ve<Be.object.length;ve++)if(ee(Be.object[ve])){var Se=Y.get(Be.object[ve]);Se&&(Se.path=""+ve)}}})(ge,Pe),U(ge,ue(Pe),B)}function ie(ge,Pe,Be){if(ee(ge)){var je=Y.get(ge);if(je){if(je.parent!==Pe||je.path!==Be)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ue(Pe)+"/"+Be+"', but it already exists at '"+ue(je.parent)+"/"+je.path+"'")}else{var ve={parent:Pe,path:Be,dispose:Object(d.D)(ge,K)};Y.set(ge,ve),Object(d.p)(ge).forEach(function(Se){var Ae=Se[0];return ie(Se[1],ve,Ae)})}}}function xe(ge){if(ee(ge)){var Pe=Y.get(ge);if(!Pe)return;Y.delete(ge),Pe.dispose(),Object(d.L)(ge).forEach(xe)}}return ie(B,void 0,""),function(){xe(B)}}var Q,W=(Q=function(B,U){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,K){Y.__proto__=K}||function(Y,K){for(var ie in K)K.hasOwnProperty(ie)&&(Y[ie]=K[ie])},Q(B,U)},function(B,U){function Y(){this.constructor=B}Q(B,U),B.prototype=U===null?Object.create(U):(Y.prototype=U.prototype,new Y)});(function(B){function U(Y,K,ie){var xe=ie===void 0?{}:ie,ge=xe.name,Pe=ge===void 0?"ogm"+(1e3*Math.random()|0):ge,Be=xe.keyToName,je=Be===void 0?function(Ae){return""+Ae}:Be,ve=B.call(this)||this;ve._keyToName=je,ve._groupBy=K,ve._ogmInfoKey=Symbol("ogmInfo"+Pe),ve._base=Y;for(var Se=0;Se<Y.length;Se++)ve._addItem(Y[Se]);return ve._disposeBaseObserver=Object(d.D)(ve._base,function(Ae){if(Ae.type==="splice")Object(d.J)(function(){for(var Xe=0,rt=Ae.removed;Xe<rt.length;Xe++){var Ot=rt[Xe];ve._removeItem(Ot)}for(var We=0,Ze=Ae.added;We<Ze.length;We++){var gt=Ze[We];ve._addItem(gt)}});else{if(Ae.type!=="update")throw new Error("illegal state");Object(d.J)(function(){ve._removeItem(Ae.oldValue),ve._addItem(Ae.newValue)})}}),ve}W(U,B),U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(Y){throw new Error("not supported")},U.prototype.set=function(Y,K){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var K=this._base[Y];K[this._ogmInfoKey].reaction(),delete K[this._ogmInfoKey]}},U.prototype._getGroupArr=function(Y){var K=B.prototype.get.call(this,Y);return K===void 0&&(K=Object(d.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),B.prototype.set.call(this,Y,K)),K},U.prototype._removeFromGroupArr=function(Y,K){var ie=B.prototype.get.call(this,Y);ie.length===1?B.prototype.delete.call(this,Y):(K===ie.length-1||(ie[K]=ie[ie.length-1],ie[K][this._ogmInfoKey].groupArrIndex=K),ie.length--)},U.prototype._addItem=function(Y){var K=this,ie=this._groupBy(Y),xe=this._getGroupArr(ie),ge={groupByValue:ie,groupArrIndex:xe.length,reaction:Object(d.F)(function(){return K._groupBy(Y)},function(Pe,Be){var je=Y[K._ogmInfoKey];K._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=K._getGroupArr(Pe),Se=ve.length;ve.push(Y),je.groupByValue=Pe,je.groupArrIndex=Se})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ge}),xe.push(Y)},U.prototype._removeItem=function(Y){var K=Y[this._ogmInfoKey];this._removeFromGroupArr(K.groupByValue,K.groupArrIndex),K.reaction(),delete Y[this._ogmInfoKey]}})(d.b),function(){function B(U,Y){this.base=U,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var K=this.closest=this.root=U,ie=0;ie<this.args.length-1&&(K=K.get(Y[ie]));ie++)this.closest=K;this.closestIdx=ie}return B.prototype.exists=function(){this.assertNotDisposed();var U=this.args.length;return this.closestIdx>=U-1&&this.closest.has(this.args[U-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(U){this.assertNotDisposed();for(var Y=this.args.length,K=this.closest,ie=this.closestIdx;ie<Y-1;ie++){var xe=new Map;K.set(this.args[ie],xe),K=xe}this.closestIdx=Y-1,this.closest=K,K.set(this.args[Y-1],U)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var U=this.args.length;this.closest.delete(this.args[U-1]);for(var Y=this.root,K=[Y],ie=0;ie<U-1;ie++)Y=Y.get(this.args[ie]),K.push(Y);for(ie=K.length-1;ie>0;ie--)K[ie].size===0&&K[ie-1].delete(this.args[ie-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B}(),Promise.resolve(),typeof queueMicrotask<"u"||f!==void 0&&f.nextTick}).call(this,o(163))},function(s,p,o){var f;(function(d,O,v){if(d){for(var E,M={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},D={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},I=1;I<20;++I)M[111+I]="f"+I;for(I=0;I<=9;++I)M[I+96]=I.toString();ee.prototype.bind=function(J,Q,W){var B=this;return J=J instanceof Array?J:[J],B._bindMultiple.call(B,J,Q,W),B},ee.prototype.unbind=function(J,Q){return this.bind.call(this,J,function(){},Q)},ee.prototype.trigger=function(J,Q){var W=this;return W._directMap[J+":"+Q]&&W._directMap[J+":"+Q]({},J),W},ee.prototype.reset=function(){var J=this;return J._callbacks={},J._directMap={},J},ee.prototype.stopCallback=function(J,Q){if((" "+Q.className+" ").indexOf(" mousetrap ")>-1||ue(Q,this.target))return!1;if("composedPath"in J&&typeof J.composedPath=="function"){var W=J.composedPath()[0];W!==J.target&&(Q=W)}return Q.tagName=="INPUT"||Q.tagName=="SELECT"||Q.tagName=="TEXTAREA"||Q.isContentEditable},ee.prototype.handleKey=function(){var J=this;return J._handleKey.apply(J,arguments)},ee.addKeycodes=function(J){for(var Q in J)J.hasOwnProperty(Q)&&(M[Q]=J[Q]);E=null},ee.init=function(){var J=ee(O);for(var Q in J)Q.charAt(0)!=="_"&&(ee[Q]=function(W){return function(){return J[W].apply(J,arguments)}}(Q))},ee.init(),d.Mousetrap=ee,s.exports&&(s.exports=ee),(f=(function(){return ee}).call(p,o,p,s))===void 0||(s.exports=f)}function C(J,Q,W){J.addEventListener?J.addEventListener(Q,W,!1):J.attachEvent("on"+Q,W)}function L(J){if(J.type=="keypress"){var Q=String.fromCharCode(J.which);return J.shiftKey||(Q=Q.toLowerCase()),Q}return M[J.which]?M[J.which]:A[J.which]?A[J.which]:String.fromCharCode(J.which).toLowerCase()}function H(J){return J=="shift"||J=="ctrl"||J=="alt"||J=="meta"}function V(J,Q,W){return W||(W=function(){if(!E)for(var B in E={},M)B>95&&B<112||M.hasOwnProperty(B)&&(E[M[B]]=B);return E}()[J]?"keydown":"keypress"),W=="keypress"&&Q.length&&(W="keydown"),W}function te(J,Q){var W,B,U,Y=[];for(W=function(K){return K==="+"?["+"]:(K=K.replace(/\+{2}/g,"+plus")).split("+")}(J),U=0;U<W.length;++U)B=W[U],k[B]&&(B=k[B]),Q&&Q!="keypress"&&D[B]&&(B=D[B],Y.push("shift")),H(B)&&Y.push(B);return{key:B,modifiers:Y,action:Q=V(B,Y,Q)}}function ue(J,Q){return J!==null&&J!==O&&(J===Q||ue(J.parentNode,Q))}function ee(J){var Q=this;if(J=J||O,!(Q instanceof ee))return new ee(J);Q.target=J,Q._callbacks={},Q._directMap={};var W,B={},U=!1,Y=!1,K=!1;function ie(ve){ve=ve||{};var Se,Ae=!1;for(Se in B)ve[Se]?Ae=!0:B[Se]=0;Ae||(K=!1)}function xe(ve,Se,Ae,Xe,rt,Ot){var We,Ze,gt,ce,ae=[],he=Ae.type;if(!Q._callbacks[ve])return[];for(he=="keyup"&&H(ve)&&(Se=[ve]),We=0;We<Q._callbacks[ve].length;++We)if(Ze=Q._callbacks[ve][We],(Xe||!Ze.seq||B[Ze.seq]==Ze.level)&&he==Ze.action&&(he=="keypress"&&!Ae.metaKey&&!Ae.ctrlKey||(gt=Se,ce=Ze.modifiers,gt.sort().join(",")===ce.sort().join(",")))){var Te=!Xe&&Ze.combo==rt,Ue=Xe&&Ze.seq==Xe&&Ze.level==Ot;(Te||Ue)&&Q._callbacks[ve].splice(We,1),ae.push(Ze)}return ae}function ge(ve,Se,Ae,Xe){Q.stopCallback(Se,Se.target||Se.srcElement,Ae,Xe)||ve(Se,Ae)===!1&&(function(rt){rt.preventDefault?rt.preventDefault():rt.returnValue=!1}(Se),function(rt){rt.stopPropagation?rt.stopPropagation():rt.cancelBubble=!0}(Se))}function Pe(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Se=L(ve);Se&&(ve.type!="keyup"||U!==Se?Q.handleKey(Se,function(Ae){var Xe=[];return Ae.shiftKey&&Xe.push("shift"),Ae.altKey&&Xe.push("alt"),Ae.ctrlKey&&Xe.push("ctrl"),Ae.metaKey&&Xe.push("meta"),Xe}(ve),ve):U=!1)}function Be(ve,Se,Ae,Xe){function rt(gt){return function(){K=gt,++B[ve],clearTimeout(W),W=setTimeout(ie,1e3)}}function Ot(gt){ge(Ae,gt,ve),Xe!=="keyup"&&(U=L(gt)),setTimeout(ie,10)}B[ve]=0;for(var We=0;We<Se.length;++We){var Ze=We+1===Se.length?Ot:rt(Xe||te(Se[We+1]).action);je(Se[We],Ze,Xe,ve,We)}}function je(ve,Se,Ae,Xe,rt){Q._directMap[ve+":"+Ae]=Se;var Ot,We=(ve=ve.replace(/\s+/g," ")).split(" ");We.length>1?Be(ve,We,Se,Ae):(Ot=te(ve,Ae),Q._callbacks[Ot.key]=Q._callbacks[Ot.key]||[],xe(Ot.key,Ot.modifiers,{type:Ot.action},Xe,ve,rt),Q._callbacks[Ot.key][Xe?"unshift":"push"]({callback:Se,modifiers:Ot.modifiers,action:Ot.action,seq:Xe,level:rt,combo:ve}))}Q._handleKey=function(ve,Se,Ae){var Xe,rt=xe(ve,Se,Ae),Ot={},We=0,Ze=!1;for(Xe=0;Xe<rt.length;++Xe)rt[Xe].seq&&(We=Math.max(We,rt[Xe].level));for(Xe=0;Xe<rt.length;++Xe)if(rt[Xe].seq){if(rt[Xe].level!=We)continue;Ze=!0,Ot[rt[Xe].seq]=1,ge(rt[Xe].callback,Ae,rt[Xe].combo,rt[Xe].seq)}else Ze||ge(rt[Xe].callback,Ae,rt[Xe].combo);var gt=Ae.type=="keypress"&&Y;Ae.type!=K||H(ve)||gt||ie(Ot),Y=Ze&&Ae.type=="keydown"},Q._bindMultiple=function(ve,Se,Ae){for(var Xe=0;Xe<ve.length;++Xe)je(ve[Xe],Se,Ae)},C(J,"keypress",Pe),C(J,"keydown",Pe),C(J,"keyup",Pe)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(s,p,o){var f=o(7),d=o(34),O=o(30),v=o(33),E=f.TypeError;s.exports=function(M,A){var D,k;if(A==="string"&&O(D=M.toString)&&!v(k=d(D,M))||O(D=M.valueOf)&&!v(k=d(D,M))||A!=="string"&&O(D=M.toString)&&!v(k=d(D,M)))return k;throw E("Can't convert object to primitive value")}},function(s,p,o){var f=o(7),d=o(30),O=o(92),v=f.WeakMap;s.exports=d(v)&&/native code/.test(O(v))},function(s,p,o){var f=o(36),d=o(38),O=o(32),v=o(41),E=o(77);s.exports=f?Object.defineProperties:function(M,A){O(M);for(var D,k=v(A),I=E(A),C=I.length,L=0;C>L;)d.f(M,D=I[L++],k[D]);return M}},function(s,p,o){var f=o(7);s.exports=f},function(s,p,o){var f=o(7),d=o(96),O=o(99),v=o(33),E=o(28)("species"),M=f.Array;s.exports=function(A){var D;return d(A)&&(D=A.constructor,(O(D)&&(D===M||d(D.prototype))||v(D)&&(D=D[E])===null)&&(D=void 0)),D===void 0?M:D}},function(s,p,o){var f=o(113),d=o(97);s.exports=f?{}.toString:function(){return"[object "+d(this)+"]"}},function(s,p,o){var f=o(142).IteratorPrototype,d=o(60),O=o(69),v=o(78),E=o(80),M=function(){return this};s.exports=function(A,D,k,I){var C=D+" Iterator";return A.prototype=d(f,{next:O(+!I,k)}),v(A,C,!1,!0),E[C]=M,A}},function(s,p,o){var f=o(7),d=o(30),O=f.String,v=f.TypeError;s.exports=function(E){if(typeof E=="object"||d(E))return E;throw v("Can't set "+O(E)+" as a prototype")}},function(s,p,o){var f=o(16),d=o(7),O=o(15),v=o(95),E=o(42),M=o(144),A=o(117),D=o(119),k=o(30),I=o(33),C=o(18),L=o(120),H=o(78),V=o(148);s.exports=function(te,ue,ee){var J=te.indexOf("Map")!==-1,Q=te.indexOf("Weak")!==-1,W=J?"set":"add",B=d[te],U=B&&B.prototype,Y=B,K={},ie=function(ve){var Se=O(U[ve]);E(U,ve,ve=="add"?function(Ae){return Se(this,Ae===0?0:Ae),this}:ve=="delete"?function(Ae){return!(Q&&!I(Ae))&&Se(this,Ae===0?0:Ae)}:ve=="get"?function(Ae){return Q&&!I(Ae)?void 0:Se(this,Ae===0?0:Ae)}:ve=="has"?function(Ae){return!(Q&&!I(Ae))&&Se(this,Ae===0?0:Ae)}:function(Ae,Xe){return Se(this,Ae===0?0:Ae,Xe),this})};if(v(te,!k(B)||!(Q||U.forEach&&!C(function(){new B().entries().next()}))))Y=ee.getConstructor(ue,te,J,W),M.enable();else if(v(te,!0)){var xe=new Y,ge=xe[W](Q?{}:-0,1)!=xe,Pe=C(function(){xe.has(1)}),Be=L(function(ve){new B(ve)}),je=!Q&&C(function(){for(var ve=new B,Se=5;Se--;)ve[W](Se,Se);return!ve.has(-0)});Be||((Y=ue(function(ve,Se){D(ve,U);var Ae=V(new B,ve,Y);return Se!=null&&A(Se,Ae[W],{that:Ae,AS_ENTRIES:J}),Ae})).prototype=U,U.constructor=Y),(Pe||je)&&(ie("delete"),ie("has"),J&&ie("get")),(je||ge)&&ie(W),Q&&U.clear&&delete U.clear}return K[te]=Y,f({global:!0,forced:Y!=B},K),H(Y,te),Q||ee.setStrong(Y,te,J),Y}},function(s,p,o){var f=o(18),d=o(33),O=o(51),v=o(184),E=Object.isExtensible,M=f(function(){});s.exports=M||v?function(A){return!!d(A)&&(!v||O(A)!="ArrayBuffer")&&(!E||E(A))}:E},function(s,p,o){var f=o(18);s.exports=f(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(s,p,o){var f=o(18);s.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,p,o){var f=o(38).f,d=o(60),O=o(149),v=o(64),E=o(119),M=o(117),A=o(116),D=o(150),k=o(36),I=o(144).fastKey,C=o(58),L=C.set,H=C.getterFor;s.exports={getConstructor:function(V,te,ue,ee){var J=V(function(Y,K){E(Y,Q),L(Y,{type:te,index:d(null),first:void 0,last:void 0,size:0}),k||(Y.size=0),K!=null&&M(K,Y[ee],{that:Y,AS_ENTRIES:ue})}),Q=J.prototype,W=H(te),B=function(Y,K,ie){var xe,ge,Pe=W(Y),Be=U(Y,K);return Be?Be.value=ie:(Pe.last=Be={index:ge=I(K,!0),key:K,value:ie,previous:xe=Pe.last,next:void 0,removed:!1},Pe.first||(Pe.first=Be),xe&&(xe.next=Be),k?Pe.size++:Y.size++,ge!=="F"&&(Pe.index[ge]=Be)),Y},U=function(Y,K){var ie,xe=W(Y),ge=I(K);if(ge!=="F")return xe.index[ge];for(ie=xe.first;ie;ie=ie.next)if(ie.key==K)return ie};return O(Q,{clear:function(){for(var Y=W(this),K=Y.index,ie=Y.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete K[ie.index],ie=ie.next;Y.first=Y.last=void 0,k?Y.size=0:this.size=0},delete:function(Y){var K=this,ie=W(K),xe=U(K,Y);if(xe){var ge=xe.next,Pe=xe.previous;delete ie.index[xe.index],xe.removed=!0,Pe&&(Pe.next=ge),ge&&(ge.previous=Pe),ie.first==xe&&(ie.first=ge),ie.last==xe&&(ie.last=Pe),k?ie.size--:K.size--}return!!xe},forEach:function(Y){for(var K,ie=W(this),xe=v(Y,arguments.length>1?arguments[1]:void 0);K=K?K.next:ie.first;)for(xe(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(Y){return!!U(this,Y)}}),O(Q,ue?{get:function(Y){var K=U(this,Y);return K&&K.value},set:function(Y,K){return B(this,Y===0?0:Y,K)}}:{add:function(Y){return B(this,Y=Y===0?0:Y,Y)}}),k&&f(Q,"size",{get:function(){return W(this).size}}),J},setStrong:function(V,te,ue){var ee=te+" Iterator",J=H(te),Q=H(ee);A(V,te,function(W,B){L(this,{type:ee,target:W,state:J(W),kind:B,last:void 0})},function(){for(var W=Q(this),B=W.kind,U=W.last;U&&U.removed;)U=U.previous;return W.target&&(W.last=U=U?U.next:W.state.first)?B=="keys"?{value:U.key,done:!1}:B=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}:(W.target=void 0,{value:void 0,done:!0})},ue?"entries":"values",!ue,!0),D(te)}}},function(s,p,o){var f=o(79).forEach,d=o(121)("forEach");s.exports=d?[].forEach:function(O){return f(this,O,arguments.length>1?arguments[1]:void 0)}},function(s,p,o){var f=o(7),d=o(64),O=o(34),v=o(40),E=o(189),M=o(145),A=o(99),D=o(45),k=o(63),I=o(146),C=o(118),L=f.Array;s.exports=function(H){var V=v(H),te=A(this),ue=arguments.length,ee=ue>1?arguments[1]:void 0,J=ee!==void 0;J&&(ee=d(ee,ue>2?arguments[2]:void 0));var Q,W,B,U,Y,K,ie=C(V),xe=0;if(!ie||this==L&&M(ie))for(Q=D(V),W=te?new this(Q):L(Q);Q>xe;xe++)K=J?ee(V[xe],xe):V[xe],k(W,xe,K);else for(Y=(U=I(V,ie)).next,W=te?new this:[];!(B=O(Y,U)).done;xe++)K=J?E(U,ee,[B.value,xe],!0):B.value,k(W,xe,K);return W.length=xe,W}},function(s,p,o){var f=o(32),d=o(147);s.exports=function(O,v,E,M){try{return M?v(f(E)[0],E[1]):v(E)}catch(A){d(O,"throw",A)}}},function(s,p,o){var f=o(18),d=o(7).RegExp;s.exports=f(function(){var O=d(".","s");return!(O.dotAll&&O.exec(`
`)&&O.flags==="s")})},function(s,p,o){var f=o(18),d=o(7).RegExp;s.exports=f(function(){var O=d("(?<a>b)","g");return O.exec("b").groups.a!=="b"||"b".replace(O,"$<a>c")!=="bc"})},function(s,p,o){var f=o(16),d=o(15),O=o(56),v=o(40),E=o(45),M=o(39),A=o(18),D=o(193),k=o(121),I=o(194),C=o(195),L=o(70),H=o(196),V=[],te=d(V.sort),ue=d(V.push),ee=A(function(){V.sort(void 0)}),J=A(function(){V.sort(null)}),Q=k("sort"),W=!A(function(){if(L)return L<70;if(!(I&&I>3)){if(C)return!0;if(H)return H<603;var B,U,Y,K,ie="";for(B=65;B<76;B++){switch(U=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(K=0;K<47;K++)V.push({k:U+K,v:Y})}for(V.sort(function(xe,ge){return ge.v-xe.v}),K=0;K<V.length;K++)U=V[K].k.charAt(0),ie.charAt(ie.length-1)!==U&&(ie+=U);return ie!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:ee||!J||!Q||!W},{sort:function(B){B!==void 0&&O(B);var U=v(this);if(W)return B===void 0?te(U):te(U,B);var Y,K,ie=[],xe=E(U);for(K=0;K<xe;K++)K in U&&ue(ie,U[K]);for(D(ie,function(ge){return function(Pe,Be){return Be===void 0?-1:Pe===void 0?1:ge!==void 0?+ge(Pe,Be)||0:M(Pe)>M(Be)?1:-1}}(B)),Y=ie.length,K=0;K<Y;)U[K]=ie[K++];for(;K<xe;)delete U[K++];return U}})},function(s,p,o){var f=o(114),d=Math.floor,O=function(M,A){var D=M.length,k=d(D/2);return D<8?v(M,A):E(M,O(f(M,0,k),A),O(f(M,k),A),A)},v=function(M,A){for(var D,k,I=M.length,C=1;C<I;){for(k=C,D=M[C];k&&A(M[k-1],D)>0;)M[k]=M[--k];k!==C++&&(M[k]=D)}return M},E=function(M,A,D,k){for(var I=A.length,C=D.length,L=0,H=0;L<I||H<C;)M[L+H]=L<I&&H<C?k(A[L],D[H])<=0?A[L++]:D[H++]:L<I?A[L++]:D[H++];return M};s.exports=O},function(s,p,o){var f=o(55).match(/firefox\/(\d+)/i);s.exports=!!f&&+f[1]},function(s,p,o){var f=o(55);s.exports=/MSIE|Trident/.test(f)},function(s,p,o){var f=o(55).match(/AppleWebKit\/(\d+)\./);s.exports=!!f&&+f[1]},function(s,p,o){var f=o(7),d=o(159),O=f.TypeError;s.exports=function(v){if(d(v))throw O("The method doesn't accept regular expressions");return v}},function(s,p,o){var f=o(28)("match");s.exports=function(d){var O=/./;try{"/./"[d](O)}catch{try{return O[f]=!1,"/./"[d](O)}catch{}}return!1}},function(s,p,o){o(16)({target:"Number",stat:!0},{isNaN:function(f){return f!=f}})},function(s,p,o){var f=o(73).PROPER,d=o(18),O=o(162);s.exports=function(v){return d(function(){return!!O[v]()||"​᠎"[v]()!=="​᠎"||f&&O[v].name!==v})}},function(s,p,o){var f=o(15),d=o(40),O=Math.floor,v=f("".charAt),E=f("".replace),M=f("".slice),A=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,D=/\$([$&'`]|\d{1,2})/g;s.exports=function(k,I,C,L,H,V){var te=C+k.length,ue=L.length,ee=D;return H!==void 0&&(H=d(H),ee=A),E(V,ee,function(J,Q){var W;switch(v(Q,0)){case"$":return"$";case"&":return k;case"`":return M(I,0,C);case"'":return M(I,te);case"<":W=H[M(Q,1,-1)];break;default:var B=+Q;if(B===0)return J;if(B>ue){var U=O(B/10);return U===0?J:U<=ue?L[U-1]===void 0?v(Q,1):L[U-1]+v(Q,1):J}W=L[B-1]}return W===void 0?"":W})}},function(s,p,o){var f=o(36),d=o(15),O=o(34),v=o(18),E=o(77),M=o(112),A=o(84),D=o(40),k=o(85),I=Object.assign,C=Object.defineProperty,L=d([].concat);s.exports=!I||v(function(){if(f&&I({b:1},I(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var H={},V={},te=Symbol(),ue="abcdefghijklmnopqrst";return H[te]=7,ue.split("").forEach(function(ee){V[ee]=ee}),I({},H)[te]!=7||E(I({},V)).join("")!=ue})?function(H,V){for(var te=D(H),ue=arguments.length,ee=1,J=M.f,Q=A.f;ue>ee;)for(var W,B=k(arguments[ee++]),U=J?L(E(B),J(B)):E(B),Y=U.length,K=0;Y>K;)W=U[K++],f&&!O(Q,B,W)||(te[W]=B[W]);return te}:I},function(s,p,o){var f=o(7),d=o(15),O=o(56),v=o(33),E=o(35),M=o(98),A=f.Function,D=d([].concat),k=d([].join),I={},C=function(L,H,V){if(!E(I,H)){for(var te=[],ue=0;ue<H;ue++)te[ue]="a["+ue+"]";I[H]=A("C,a","return new C("+k(te,",")+")")}return I[H](L,V)};s.exports=A.bind||function(L){var H=O(this),V=H.prototype,te=M(arguments,1),ue=function(){var ee=D(te,M(arguments));return this instanceof ue?C(H,ee.length,ee):H.apply(L,ee)};return v(V)&&(ue.prototype=V),ue}},function(s,p,o){var f=o(35);s.exports=function(d){return d!==void 0&&(f(d,"value")||f(d,"writable"))}},function(s,p,o){var f=o(15),d=o(44),O=o(39),v=/"/g,E=f("".replace);s.exports=function(M,A,D,k){var I=O(d(M)),C="<"+A;return D!==""&&(C+=" "+D+'="'+E(O(k),v,"&quot;")+'"'),C+">"+I+"</"+A+">"}},function(s,p,o){var f=o(18);s.exports=function(d){return f(function(){var O=""[d]('"');return O!==O.toLowerCase()||O.split('"').length>3})}},function(s,p,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(s,p,o){var f,d,O,v,E=o(16),M=o(71),A=o(7),D=o(46),k=o(34),I=o(209),C=o(42),L=o(149),H=o(102),V=o(78),te=o(150),ue=o(56),ee=o(30),J=o(33),Q=o(119),W=o(92),B=o(117),U=o(120),Y=o(164),K=o(168).set,ie=o(210),xe=o(213),ge=o(214),Pe=o(170),Be=o(215),je=o(58),ve=o(95),Se=o(28),Ae=o(216),Xe=o(128),rt=o(70),Ot=Se("species"),We="Promise",Ze=je.getterFor(We),gt=je.set,ce=je.getterFor(We),ae=I&&I.prototype,he=I,Te=ae,Ue=A.TypeError,ze=A.document,wt=A.process,Tt=Pe.f,St=Tt,yt=!!(ze&&ze.createEvent&&A.dispatchEvent),Me=ee(A.PromiseRejectionEvent),st="unhandledrejection",le=!1,it=ve(We,function(){var oe=W(he),me=oe!==String(he);if(!me&&rt===66||M&&!Te.finally)return!0;if(rt>=51&&/native code/.test(oe))return!1;var Ve=new he(function(ft){ft(1)}),$e=function(ft){ft(function(){},function(){})};return(Ve.constructor={})[Ot]=$e,!(le=Ve.then(function(){})instanceof $e)||!me&&Ae&&!Me}),Lt=it||!U(function(oe){he.all(oe).catch(function(){})}),on=function(oe){var me;return!(!J(oe)||!ee(me=oe.then))&&me},zt=function(oe,me){if(!oe.notified){oe.notified=!0;var Ve=oe.reactions;ie(function(){for(var $e=oe.value,ft=oe.state==1,Ut=0;Ve.length>Ut;){var Gn,Jn,Nn,Ln=Ve[Ut++],at=ft?Ln.ok:Ln.fail,mt=Ln.resolve,xt=Ln.reject,Rt=Ln.domain;try{at?(ft||(oe.rejection===2&&Ct(oe),oe.rejection=1),at===!0?Gn=$e:(Rt&&Rt.enter(),Gn=at($e),Rt&&(Rt.exit(),Nn=!0)),Gn===Ln.promise?xt(Ue("Promise-chain cycle")):(Jn=on(Gn))?k(Jn,Gn,mt,xt):mt(Gn)):xt($e)}catch(sn){Rt&&!Nn&&Rt.exit(),xt(sn)}}oe.reactions=[],oe.notified=!1,me&&!oe.rejection&&fn(oe)})}},Zt=function(oe,me,Ve){var $e,ft;yt?(($e=ze.createEvent("Event")).promise=me,$e.reason=Ve,$e.initEvent(oe,!1,!0),A.dispatchEvent($e)):$e={promise:me,reason:Ve},!Me&&(ft=A["on"+oe])?ft($e):oe===st&&ge("Unhandled promise rejection",Ve)},fn=function(oe){k(K,A,function(){var me,Ve=oe.facade,$e=oe.value;if(_n(oe)&&(me=Be(function(){Xe?wt.emit("unhandledRejection",$e,Ve):Zt(st,Ve,$e)}),oe.rejection=Xe||_n(oe)?2:1,me.error))throw me.value})},_n=function(oe){return oe.rejection!==1&&!oe.parent},Ct=function(oe){k(K,A,function(){var me=oe.facade;Xe?wt.emit("rejectionHandled",me):Zt("rejectionhandled",me,oe.value)})},Dn=function(oe,me,Ve){return function($e){oe(me,$e,Ve)}},q=function(oe,me,Ve){oe.done||(oe.done=!0,Ve&&(oe=Ve),oe.value=me,oe.state=2,zt(oe,!0))},pe=function(oe,me,Ve){if(!oe.done){oe.done=!0,Ve&&(oe=Ve);try{if(oe.facade===me)throw Ue("Promise can't be resolved itself");var $e=on(me);$e?ie(function(){var ft={done:!1};try{k($e,me,Dn(pe,ft,oe),Dn(q,ft,oe))}catch(Ut){q(ft,Ut,oe)}}):(oe.value=me,oe.state=1,zt(oe,!1))}catch(ft){q({done:!1},ft,oe)}}};if(it&&(Te=(he=function(oe){Q(this,Te),ue(oe),k(f,this);var me=Ze(this);try{oe(Dn(pe,me),Dn(q,me))}catch(Ve){q(me,Ve)}}).prototype,(f=function(oe){gt(this,{type:We,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(Te,{then:function(oe,me){var Ve=ce(this),$e=Ve.reactions,ft=Tt(Y(this,he));return ft.ok=!ee(oe)||oe,ft.fail=ee(me)&&me,ft.domain=Xe?wt.domain:void 0,Ve.parent=!0,$e[$e.length]=ft,Ve.state!=0&&zt(Ve,!1),ft.promise},catch:function(oe){return this.then(void 0,oe)}}),d=function(){var oe=new f,me=Ze(oe);this.promise=oe,this.resolve=Dn(pe,me),this.reject=Dn(q,me)},Pe.f=Tt=function(oe){return oe===he||oe===O?new d(oe):St(oe)},!M&&ee(I)&&ae!==Object.prototype)){v=ae.then,le||(C(ae,"then",function(oe,me){var Ve=this;return new he(function($e,ft){k(v,Ve,$e,ft)}).then(oe,me)},{unsafe:!0}),C(ae,"catch",Te.catch,{unsafe:!0}));try{delete ae.constructor}catch{}H&&H(ae,Te)}E({global:!0,wrap:!0,forced:it},{Promise:he}),V(he,We,!1,!0),te(We),O=D(We),E({target:We,stat:!0,forced:it},{reject:function(oe){var me=Tt(this);return k(me.reject,void 0,oe),me.promise}}),E({target:We,stat:!0,forced:M||it},{resolve:function(oe){return xe(M&&this===O?he:this,oe)}}),E({target:We,stat:!0,forced:Lt},{all:function(oe){var me=this,Ve=Tt(me),$e=Ve.resolve,ft=Ve.reject,Ut=Be(function(){var Gn=ue(me.resolve),Jn=[],Nn=0,Ln=1;B(oe,function(at){var mt=Nn++,xt=!1;Ln++,k(Gn,me,at).then(function(Rt){xt||(xt=!0,Jn[mt]=Rt,--Ln||$e(Jn))},ft)}),--Ln||$e(Jn)});return Ut.error&&ft(Ut.value),Ve.promise},race:function(oe){var me=this,Ve=Tt(me),$e=Ve.reject,ft=Be(function(){var Ut=ue(me.resolve);B(oe,function(Gn){k(Ut,me,Gn).then(Ve.resolve,$e)})});return ft.error&&$e(ft.value),Ve.promise}})},function(s,p,o){var f=o(7);s.exports=f.Promise},function(s,p,o){var f,d,O,v,E,M,A,D,k=o(7),I=o(64),C=o(50).f,L=o(168).set,H=o(169),V=o(211),te=o(212),ue=o(128),ee=k.MutationObserver||k.WebKitMutationObserver,J=k.document,Q=k.process,W=k.Promise,B=C(k,"queueMicrotask"),U=B&&B.value;U||(f=function(){var Y,K;for(ue&&(Y=Q.domain)&&Y.exit();d;){K=d.fn,d=d.next;try{K()}catch(ie){throw d?v():O=void 0,ie}}O=void 0,Y&&Y.enter()},H||ue||te||!ee||!J?!V&&W&&W.resolve?((A=W.resolve(void 0)).constructor=W,D=I(A.then,A),v=function(){D(f)}):ue?v=function(){Q.nextTick(f)}:(L=I(L,k),v=function(){L(f)}):(E=!0,M=J.createTextNode(""),new ee(f).observe(M,{characterData:!0}),v=function(){M.data=E=!E})),s.exports=U||function(Y){var K={fn:Y,next:void 0};O&&(O.next=K),d||(d=K,v()),O=K}},function(s,p,o){var f=o(55),d=o(7);s.exports=/ipad|iphone|ipod/i.test(f)&&d.Pebble!==void 0},function(s,p,o){var f=o(55);s.exports=/web0s(?!.*chrome)/i.test(f)},function(s,p,o){var f=o(32),d=o(33),O=o(170);s.exports=function(v,E){if(f(v),d(E)&&E.constructor===v)return E;var M=O.f(v);return(0,M.resolve)(E),M.promise}},function(s,p,o){var f=o(7);s.exports=function(d,O){var v=f.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,O))}},function(s,p){s.exports=function(o){try{return{error:!1,value:o()}}catch(f){return{error:!0,value:f}}}},function(s,p){s.exports=typeof window=="object"},function(s,p,o){var f=o(40),d=o(75),O=o(45);s.exports=function(v){for(var E=f(this),M=O(E),A=arguments.length,D=d(A>1?arguments[1]:void 0,M),k=A>2?arguments[2]:void 0,I=k===void 0?M:d(k,M);I>D;)E[D++]=v;return E}},function(s,p,o){var f=o(16),d=o(7),O=o(15),v=o(59),E=o(160),M=o(219),A=o(18),D=d.RangeError,k=d.String,I=Math.floor,C=O(M),L=O("".slice),H=O(1 .toFixed),V=function(J,Q,W){return Q===0?W:Q%2==1?V(J,Q-1,W*J):V(J*J,Q/2,W)},te=function(J,Q,W){for(var B=-1,U=W;++B<6;)U+=Q*J[B],J[B]=U%1e7,U=I(U/1e7)},ue=function(J,Q){for(var W=6,B=0;--W>=0;)B+=J[W],J[W]=I(B/Q),B=B%Q*1e7},ee=function(J){for(var Q=6,W="";--Q>=0;)if(W!==""||Q===0||J[Q]!==0){var B=k(J[Q]);W=W===""?B:W+C("0",7-B.length)+B}return W};f({target:"Number",proto:!0,forced:A(function(){return H(8e-5,3)!=="0.000"||H(.9,0)!=="1"||H(1.255,2)!=="1.25"||H(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!A(function(){H({})})},{toFixed:function(J){var Q,W,B,U,Y=E(this),K=v(J),ie=[0,0,0,0,0,0],xe="",ge="0";if(K<0||K>20)throw D("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return k(Y);if(Y<0&&(xe="-",Y=-Y),Y>1e-21)if(W=(Q=function(Pe){for(var Be=0,je=Pe;je>=4096;)Be+=12,je/=4096;for(;je>=2;)Be+=1,je/=2;return Be}(Y*V(2,69,1))-69)<0?Y*V(2,-Q,1):Y/V(2,Q,1),W*=4503599627370496,(Q=52-Q)>0){for(te(ie,0,W),B=K;B>=7;)te(ie,1e7,0),B-=7;for(te(ie,V(10,B,1),0),B=Q-1;B>=23;)ue(ie,1<<23),B-=23;ue(ie,1<<B),te(ie,1,1),ue(ie,2),ge=ee(ie)}else te(ie,0,W),te(ie,1<<-Q,0),ge=ee(ie)+C("0",K);return ge=K>0?xe+((U=ge.length)<=K?"0."+C("0",K-U)+ge:L(ge,0,U-K)+"."+L(ge,U-K)):xe+ge}})},function(s,p,o){var f=o(7),d=o(59),O=o(39),v=o(44),E=f.RangeError;s.exports=function(M){var A=O(v(this)),D="",k=d(M);if(k<0||k==1/0)throw E("Wrong number of repetitions");for(;k>0;(k>>>=1)&&(A+=A))1&k&&(D+=A);return D}},function(s,p,o){var f=o(36),d=o(15),O=o(77),v=o(41),E=d(o(84).f),M=d([].push),A=function(D){return function(k){for(var I,C=v(k),L=O(C),H=L.length,V=0,te=[];H>V;)I=L[V++],f&&!E(C,I)||M(te,D?[I,C[I]]:C[I]);return te}};s.exports={entries:A(!0),values:A(!1)}},function(s,p){s.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(s,p,o){o.r(p),o.d(p,"observer",function(){return ii}),o.d(p,"LogicFlow",function(){return $v}),o.d(p,"h",function(){return le.g}),o.d(p,"LogicFlowUtil",function(){return f}),o.d(p,"BaseNode",function(){return na}),o.d(p,"RectNode",function(){return By}),o.d(p,"CircleNode",function(){return Uy}),o.d(p,"PolygonNode",function(){return $y}),o.d(p,"DiamondNode",function(){return Jy}),o.d(p,"EllipseNode",function(){return rv}),o.d(p,"TextNode",function(){return av}),o.d(p,"HtmlNode",function(){return lv}),o.d(p,"BaseEdge",function(){return rf}),o.d(p,"LineEdge",function(){return Ev}),o.d(p,"PolylineEdge",function(){return Mv}),o.d(p,"BezierEdge",function(){return Nv}),o.d(p,"Arrow",function(){return Rw}),o.d(p,"BaseEdgeModel",function(){return Ol}),o.d(p,"BezierEdgeModel",function(){return Yh}),o.d(p,"LineEdgeModel",function(){return Hc}),o.d(p,"PolylineEdgeModel",function(){return Du}),o.d(p,"BaseNodeModel",function(){return ta}),o.d(p,"CircleNodeModel",function(){return Zh}),o.d(p,"DiamondNodeModel",function(){return ny}),o.d(p,"EllipseNodeModel",function(){return ay}),o.d(p,"PolygonNodeModel",function(){return py}),o.d(p,"RectNodeModel",function(){return vy}),o.d(p,"TextNodeModel",function(){return _y}),o.d(p,"HtmlNodeModel",function(){return xy}),o.d(p,"EditConfigModel",function(){return Bs}),o.d(p,"GraphModel",function(){return _g}),o.d(p,"SnaplineModel",function(){return om}),o.d(p,"Keyboard",function(){return Gm}),o.d(p,"get",function(){return Gg}),o.d(p,"defaults",function(){return Wg}),o.d(p,"ElementState",function(){return cn}),o.d(p,"ModelType",function(){return Wt}),o.d(p,"ElementType",function(){return zn}),o.d(p,"EventType",function(){return pt}),o.d(p,"formateAnchorConnectValidateData",function(){return Pu});var f={};o.r(f),o.d(f,"createUuid",function(){return mi}),o.d(f,"refreshGraphId",function(){return Eu}),o.d(f,"StepDrag",function(){return To}),o.d(f,"setupEdgeModel",function(){return yn}),o.d(f,"isBboxOverLapping",function(){return wp}),o.d(f,"filterRepeatPoints",function(){return Ca}),o.d(f,"getSimplePolyline",function(){return Yc}),o.d(f,"getExpandedBBox",function(){return Ru}),o.d(f,"pointDirection",function(){return xp}),o.d(f,"getExpandedBBoxPoint",function(){return Iu}),o.d(f,"mergeBBox",function(){return Sl}),o.d(f,"getBBoxOfPoints",function(){return xi}),o.d(f,"getPointsFromBBox",function(){return $i}),o.d(f,"isPointOutsideBBox",function(){return Lu}),o.d(f,"getBBoxXCrossPoints",function(){return Ep}),o.d(f,"getBBoxYCrossPoints",function(){return jp}),o.d(f,"getBBoxCrossPointsByPoint",function(){return Zn}),o.d(f,"estimateDistance",function(){return ir}),o.d(f,"costByPoints",function(){return Sp}),o.d(f,"heuristicCostEstimate",function(){return Wc}),o.d(f,"rebuildPath",function(){return Pp}),o.d(f,"removeClosePointFromOpenList",function(){return Ap}),o.d(f,"isSegmentsIntersected",function(){return Ki}),o.d(f,"isSegmentCrossingBBox",function(){return Vc}),o.d(f,"getNextNeighborPoints",function(){return Pl}),o.d(f,"pathFinder",function(){return qi}),o.d(f,"getBoxByOriginNode",function(){return Al}),o.d(f,"pointFilter",function(){return $c}),o.d(f,"getPolylinePoints",function(){return Kc}),o.d(f,"getLongestEdge",function(){return Mp}),o.d(f,"isSegmentsInNode",function(){return Ml}),o.d(f,"isSegmentsCrossNode",function(){return kl}),o.d(f,"getCrossPointInRect",function(){return Tl}),o.d(f,"segmentDirection",function(){return zu}),o.d(f,"points2PointsList",function(){return Ei}),o.d(f,"getSimplePoints",function(){return qc}),o.d(f,"getBytesLength",function(){return Zc}),o.d(f,"getTextWidth",function(){return Cl}),o.d(f,"getAppendAttributes",function(){return kp}),o.d(f,"getBezierControlPoints",function(){return Rl}),o.d(f,"getBezierPoints",function(){return ar}),o.d(f,"getEndTangent",function(){return Il}),o.d(f,"getClosestPointOfPolyline",function(){return Ll}),o.d(f,"pickEdgeConfig",function(){return Jc}),o.d(f,"twoPointDistance",function(){return Bu}),o.d(f,"createEdgeGenerator",function(){return Tp}),o.d(f,"snapToGrid",function(){return gi}),o.d(f,"getGridOffset",function(){return Dc}),o.d(f,"sampleCubic",function(){return jl}),o.d(f,"getThetaOfVector",function(){return Tr}),o.d(f,"degrees",function(){return Vi}),o.d(f,"Vector",function(){return X}),o.d(f,"Point",function(){return ne}),o.d(f,"Matrix",function(){return Si}),o.d(f,"RotateMatrix",function(){return Uu}),o.d(f,"ScaleMatrix",function(){return Vl}),o.d(f,"TranslateMatrix",function(){return Pi});var d=o(1),O=o(10);if(!O.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=o(43),E=Object(v.b)("observerBatching");function M(t){t()}var A=!1;function D(){return A}function k(t){return Object(d.t)(t)}var I,C=1e4,L=new Set;function H(){I===void 0&&(I=setTimeout(V,1e4))}function V(){I=void 0;var t=Date.now();L.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,L.delete(e))}),L.size>0&&H()}var te=!1,ue=[],ee={};function J(t){return"observer"+t}function Q(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=ee),D();var r,a=function(x){return function(){te?ue.push(x):x()}}((n.useForceUpdate||v.d)()),i=O.d.useRef(null);if(!i.current){var c=new d.c(J(e),function(){h.mounted?a():(c.dispose(),i.current=null)}),h=function(x){return{cleanAt:Date.now()+C,reaction:x}}(c);i.current=h,r=i,L.add(r),H()}var g=i.current.reaction;return O.d.useDebugValue(g,k),O.d.useEffect(function(){var x;return x=i,L.delete(x),i.current?i.current.mounted=!0:(i.current={reaction:new d.c(J(e),function(){a()}),cleanAt:1/0},a()),function(){i.current.reaction.dispose(),i.current=null}},[]),function(x){te=!0,ue=[];try{var j=x();te=!1;var T=ue.length>0?ue:void 0;return O.d.useLayoutEffect(function(){T&&T.forEach(function(R){return R()})},[T]),j}finally{te=!1}}(function(){var x,j;if(g.track(function(){try{x=t()}catch(T){j=T}}),j)throw j;return x})}var W=function(){return W=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},W.apply(this,arguments)};function B(t,e){var n,r,a,i=W({forwardRef:!1},e),c=t.displayName||t.name,h=function(g,x){return Q(function(){return t(g,x)},c)};return h.displayName=c,n=i.forwardRef?Object(O.f)(Object(O.e)(h)):Object(O.f)(h),r=t,a=n,Object.keys(r).forEach(function(g){U[g]||Object.defineProperty(a,g,Object.getOwnPropertyDescriptor(r,g))}),n.displayName=c,n}var U={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:Q(r)}function K(t,e,n,r,a){var i=e==="children"?"render":"children",c=typeof t[e]=="function",h=typeof t[i]=="function";return c&&h?new Error("MobX Observer: Do not use children and render in the same time in`"+n):c||h?null:new Error("Invalid prop `"+a+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:K,render:K},Y.displayName="Observer";var ie;(ie=O.g)||(ie=M),Object(d.n)({reactionScheduler:ie}),Object(v.a)()[E]=!0;var xe=0,ge={};function Pe(t){return ge[t]||(ge[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+xe+")";return xe++,n}(t)),ge[t]}function Be(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(e,n[a])||!je(t[n[a]],e[n[a]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Se=Pe("patchMixins"),Ae=Pe("patchedDefinition");function Xe(t,e){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];e.locks++;try{var c;return t!=null&&(c=t.apply(this,a)),c}finally{e.locks--,e.locks===0&&e.methods.forEach(function(h){h.apply(n,a)})}}function rt(t,e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Xe.call.apply(Xe,[this,t,e].concat(r))}}function Ot(t,e,n){var r=function(h,g){var x=h[Se]=h[Se]||{},j=x[g]=x[g]||{};return j.locks=j.locks||0,j.methods=j.methods||[],j}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(t,e);if(!a||!a[Ae]){var i=t[e],c=We(t,e,a?a.enumerable:void 0,r,i);Object.defineProperty(t,e,c)}}function We(t,e,n,r,a){var i,c=rt(a,r);return(i={})[Ae]=!0,i.get=function(){return c},i.set=function(h){if(this===t)c=rt(h,r);else{var g=We(this,e,n,r,h);Object.defineProperty(this,e,g)}},i.configurable=!0,i.enumerable=n,i}var Ze=d.a||"$mobx",gt=Pe("isMobXReactObserver"),ce=Pe("isUnmounted"),ae=Pe("skipRender"),he=Pe("isForcingUpdate");function Te(t){var e=t.prototype;if(t[gt]?Ue(e):t[gt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==O.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==wt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=wt;Tt(e,"props"),Tt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},Ot(e,"componentWillUnmount",function(){var r;(r=this.render[Ze])===null||r===void 0||r.dispose(),this[ce]=!0,!this.render[Ze]&&Ue(this)}),t}function Ue(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ve(this,ae,!1),ve(this,he,!1);var n=Ue(this),r=t.bind(this),a=!1,i=new d.c(n+".render()",function(){if(!a&&(a=!0,e[ce]!==!0)){var h=!0;try{ve(e,he,!0),e[ae]||O.a.prototype.forceUpdate.call(e),h=!1}finally{ve(e,he,!1),h&&i.dispose()}}});function c(){a=!1;var h=void 0,g=void 0;if(i.track(function(){try{g=Object(d.d)(!1,r)}catch(x){h=x}}),h)throw h;return g}return i.reactComponent=this,c[Ze]=i,this.render=c,c.call(this)}function wt(t,e){return this.state!==e||!Be(this.props,t)}function Tt(t,e){var n=Pe("reactProp_"+e+"_valueHolder"),r=Pe("reactProp_"+e+"_atomHolder");function a(){return this[r]||ve(this,r,Object(d.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=!1;return d.f&&d.e&&(i=Object(d.f)(!0)),a.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(i),this[n]},set:function(i){this[he]||Be(this[n],i)?ve(this,n,i):(ve(this,n,i),ve(this,ae,!0),a.call(this).reportChanged(),ve(this,ae,!1))}})}var St=typeof Symbol=="function"&&Symbol.for,yt=St?Symbol.for("react.forward_ref"):typeof O.e=="function"&&Object(O.e)(function(t){return null}).$$typeof,Me=St?Symbol.for("react.memo"):typeof O.f=="function"&&Object(O.f)(function(t){return null}).$$typeof;function st(t){if(t.isMobxInjector,Me&&t.$$typeof===Me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(yt&&t.$$typeof===yt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(O.e)(function(){var n=arguments;return Object(O.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(O.a,t)?Te(t):B(t)}if(!O.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var le=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var it=function(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},Lt=function(){this.__data__=[],this.size=0},on=function(t,e){return t===e||t!=t&&e!=e},zt=function(t,e){for(var n=t.length;n--;)if(on(t[n][0],e))return n;return-1},Zt=Array.prototype.splice,fn=function(t){var e=this.__data__,n=zt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},_n=function(t){var e=this.__data__,n=zt(e,t);return n<0?void 0:e[n][1]},Ct=function(t){return zt(this.__data__,t)>-1},Dn=function(t,e){var n=this.__data__,r=zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}q.prototype.clear=Lt,q.prototype.delete=fn,q.prototype.get=_n,q.prototype.has=Ct,q.prototype.set=Dn;var pe=q,oe=function(){this.__data__=new pe,this.size=0},me=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},$e=function(t){return this.__data__.has(t)},ft=o(31),Ut=ft.a.Symbol,Gn=Object.prototype,Jn=Gn.hasOwnProperty,Nn=Gn.toString,Ln=Ut?Ut.toStringTag:void 0,at=function(t){var e=Jn.call(t,Ln),n=t[Ln];try{t[Ln]=void 0;var r=!0}catch{}var a=Nn.call(t);return r&&(e?t[Ln]=n:delete t[Ln]),a},mt=Object.prototype.toString,xt=function(t){return mt.call(t)},Rt=Ut?Ut.toStringTag:void 0,sn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Rt&&Rt in Object(t)?at(t):xt(t)},jn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},go,no=function(t){if(!jn(t))return!1;var e=sn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},bo=ft.a["__core-js_shared__"],ai=(go=/[^.]+$/.exec(bo&&bo.keys&&bo.keys.IE_PROTO||""))?"Symbol(src)_1."+go:"",Ss=function(t){return!!ai&&ai in t},$a=Function.prototype.toString,Nr=function(t){if(t!=null){try{return $a.call(t)}catch{}try{return t+""}catch{}}return""},Li=/^\[object .+?Constructor\]$/,lt=Function.prototype,Ps=Object.prototype,Ka=lt.toString,qa=Ps.hasOwnProperty,hr=RegExp("^"+Ka.call(qa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xr=function(t){return!(!jn(t)||Ss(t))&&(no(t)?hr:Li).test(Nr(t))},sa=function(t,e){return t==null?void 0:t[e]},Wr=function(t,e){var n=sa(t,e);return xr(n)?n:void 0},Cr=Wr(ft.a,"Map"),Vr=Wr(Object,"create"),Za=function(){this.__data__=Vr?Vr(null):{},this.size=0},Ja=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},tc=Object.prototype.hasOwnProperty,zi=function(t){var e=this.__data__;if(Vr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return tc.call(e,t)?e[t]:void 0},nc=Object.prototype.hasOwnProperty,Qa=function(t){var e=this.__data__;return Vr?e[t]!==void 0:nc.call(e,t)},As=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Vr&&e===void 0?"__lodash_hash_undefined__":e,this};function Lo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lo.prototype.clear=Za,Lo.prototype.delete=Ja,Lo.prototype.get=zi,Lo.prototype.has=Qa,Lo.prototype.set=As;var rc=Lo,mo=function(){this.size=0,this.__data__={hash:new rc,map:new(Cr||pe),string:new rc}},eu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},la=function(t,e){var n=t.__data__;return eu(e)?n[typeof e=="string"?"string":"hash"]:n.map},tu=function(t){var e=la(this,t).delete(t);return this.size-=e?1:0,e},nu=function(t){return la(this,t).get(t)},Ms=function(t){return la(this,t).has(t)},oc=function(t,e){var n=la(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function un(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}un.prototype.clear=mo,un.prototype.delete=tu,un.prototype.get=nu,un.prototype.has=Ms,un.prototype.set=oc;var an=un,ic=function(t,e){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!Cr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(t,e),this.size=n.size,this};function ui(t){var e=this.__data__=new pe(t);this.size=e.size}ui.prototype.clear=oe,ui.prototype.delete=me,ui.prototype.get=Ve,ui.prototype.has=$e,ui.prototype.set=ic;var _o=ui,ru=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ac=function(t){return this.__data__.has(t)};function kn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new an;++e<n;)this.add(t[e])}kn.prototype.add=kn.prototype.push=ru,kn.prototype.has=ac;var ou=kn,Bi=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},iu=function(t,e){return t.has(e)},fa=function(t,e,n,r,a,i){var c=1&n,h=t.length,g=e.length;if(h!=g&&!(c&&g>h))return!1;var x=i.get(t),j=i.get(e);if(x&&j)return x==e&&j==t;var T=-1,R=!0,G=2&n?new ou:void 0;for(i.set(t,e),i.set(e,t);++T<h;){var Z=t[T],re=e[T];if(r)var ye=c?r(re,Z,T,e,t,i):r(Z,re,T,t,e,i);if(ye!==void 0){if(ye)continue;R=!1;break}if(G){if(!Bi(e,function(de,we){if(!iu(G,we)&&(Z===de||a(Z,de,n,r,i)))return G.push(we)})){R=!1;break}}else if(Z!==re&&!a(Z,re,n,r,i)){R=!1;break}}return i.delete(t),i.delete(e),R},Qn=ft.a.Uint8Array,au=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n},uc=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},uu=Ut?Ut.prototype:void 0,pa=uu?uu.valueOf:void 0,ci=function(t,e,n,r,a,i,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Qn(t),new Qn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return on(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=au;case"[object Set]":var g=1&r;if(h||(h=uc),t.size!=e.size&&!g)return!1;var x=c.get(t);if(x)return x==e;r|=2,c.set(t,e);var j=fa(h(t),h(e),r,a,i,c);return c.delete(t),j;case"[object Symbol]":if(pa)return pa.call(t)==pa.call(e)}return!1},ro=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},vn=Array.isArray,cc=function(t,e,n){var r=e(t);return vn(t)?r:ro(r,n(t))},yr=function(t,e){for(var n=-1,r=t==null?0:t.length,a=0,i=[];++n<r;){var c=t[n];e(c,n,t)&&(i[a++]=c)}return i},sc=function(){return[]},lc=Object.prototype.propertyIsEnumerable,cr=Object.getOwnPropertySymbols,vr=cr?function(t){return t==null?[]:(t=Object(t),yr(cr(t),function(e){return lc.call(t,e)}))}:sc,cu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},tn=function(t){return t!=null&&typeof t=="object"},Yn=function(t){return tn(t)&&sn(t)=="[object Arguments]"},da=Object.prototype,fc=da.hasOwnProperty,su=da.propertyIsEnumerable,ha=Yn(function(){return arguments}())?Yn:function(t){return tn(t)&&fc.call(t,"callee")&&!su.call(t,"callee")},oo=ha,Oo=o(48),si=/^(?:0|[1-9]\d*)$/,gr=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&si.test(t))&&t>-1&&t%1==0&&t<e},wo=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Jt={};Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Arguments]"]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object Boolean]"]=Jt["[object DataView]"]=Jt["[object Date]"]=Jt["[object Error]"]=Jt["[object Function]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt["[object Object]"]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object WeakMap]"]=!1;var br=function(t){return tn(t)&&wo(t.length)&&!!Jt[sn(t)]},io=function(t){return function(e){return t(e)}},$n=o(49),ya=$n.a&&$n.a.isTypedArray,Fi=ya?io(ya):br,lu=Object.prototype.hasOwnProperty,Sn=function(t,e){var n=vn(t),r=!n&&oo(t),a=!n&&!r&&Object(Oo.a)(t),i=!n&&!r&&!a&&Fi(t),c=n||r||a||i,h=c?cu(t.length,String):[],g=h.length;for(var x in t)!e&&!lu.call(t,x)||c&&(x=="length"||a&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||gr(x,g))||h.push(x);return h},va=Object.prototype,xo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||va)},Rr=function(t,e){return function(n){return t(e(n))}},fu=Rr(Object.keys,Object),ks=Object.prototype.hasOwnProperty,pu=function(t){if(!xo(t))return fu(t);var e=[];for(var n in Object(t))ks.call(t,n)&&n!="constructor"&&e.push(n);return e},Cn=function(t){return t!=null&&wo(t.length)&&!no(t)},zo=function(t){return Cn(t)?Sn(t):pu(t)},ao=function(t){return cc(t,zo,vr)},sr=Object.prototype.hasOwnProperty,du=function(t,e,n,r,a,i){var c=1&n,h=ao(t),g=h.length;if(g!=ao(e).length&&!c)return!1;for(var x=g;x--;){var j=h[x];if(!(c?j in e:sr.call(e,j)))return!1}var T=i.get(t),R=i.get(e);if(T&&R)return T==e&&R==t;var G=!0;i.set(t,e),i.set(e,t);for(var Z=c;++x<g;){var re=t[j=h[x]],ye=e[j];if(r)var de=c?r(ye,re,j,e,t,i):r(re,ye,j,t,e,i);if(!(de===void 0?re===ye||a(re,ye,n,r,i):de)){G=!1;break}Z||(Z=j=="constructor")}if(G&&!Z){var we=t.constructor,Ce=e.constructor;we==Ce||!("constructor"in t)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof Ce=="function"&&Ce instanceof Ce||(G=!1)}return i.delete(t),i.delete(e),G},Er=Wr(ft.a,"DataView"),Bo=Wr(ft.a,"Promise"),ga=Wr(ft.a,"Set"),uo=Wr(ft.a,"WeakMap"),jr="[object Map]",mr="[object Promise]",Ir="[object Set]",co="[object WeakMap]",Oe="[object DataView]",De=Nr(Er),Re=Nr(Cr),Qe=Nr(Bo),Bt=Nr(ga),$t=Nr(uo),gn=sn;(Er&&gn(new Er(new ArrayBuffer(1)))!=Oe||Cr&&gn(new Cr)!=jr||Bo&&gn(Bo.resolve())!=mr||ga&&gn(new ga)!=Ir||uo&&gn(new uo)!=co)&&(gn=function(t){var e=sn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Nr(n):"";if(r)switch(r){case De:return Oe;case Re:return jr;case Qe:return mr;case Bt:return Ir;case $t:return co}return e});var _=gn,w="[object Arguments]",P="[object Array]",z="[object Object]",$=Object.prototype.hasOwnProperty,fe=function(t,e,n,r,a,i){var c=vn(t),h=vn(e),g=c?P:_(t),x=h?P:_(e),j=(g=g==w?z:g)==z,T=(x=x==w?z:x)==z,R=g==x;if(R&&Object(Oo.a)(t)){if(!Object(Oo.a)(e))return!1;c=!0,j=!1}if(R&&!j)return i||(i=new _o),c||Fi(t)?fa(t,e,n,r,a,i):ci(t,e,g,n,r,a,i);if(!(1&n)){var G=j&&$.call(t,"__wrapped__"),Z=T&&$.call(e,"__wrapped__");if(G||Z){var re=G?t.value():t,ye=Z?e.value():e;return i||(i=new _o),a(re,ye,n,r,i)}}return!!R&&(i||(i=new _o),du(t,e,n,r,a,i))},Ee=function t(e,n,r,a,i){return e===n||(e==null||n==null||!tn(e)&&!tn(n)?e!=e&&n!=n:fe(e,n,r,a,t,i))},Fe=function(t,e,n,r){var a=n.length,i=a,c=!r;if(t==null)return!i;for(t=Object(t);a--;){var h=n[a];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<i;){var g=(h=n[a])[0],x=t[g],j=h[1];if(c&&h[2]){if(x===void 0&&!(g in t))return!1}else{var T=new _o;if(r)var R=r(x,j,g,t,e,T);if(!(R===void 0?Ee(j,x,3,r,T):R))return!1}}return!0},ut=function(t){return t==t&&!jn(t)},Yt=function(t){for(var e=zo(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,ut(a)]}return e},et=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},pn=function(t){var e=Yt(t);return e.length==1&&e[0][2]?et(e[0][0],e[0][1]):function(n){return n===t||Fe(n,t,e)}},Ft=function(t){return typeof t=="symbol"||tn(t)&&sn(t)=="[object Symbol]"},nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lr=/^\w*$/,On=function(t,e){if(vn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ft(t))||Lr.test(t)||!nn.test(t)||e!=null&&t in Object(e)};function _r(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var c=t.apply(this,r);return n.cache=i.set(a,c)||i,c};return n.cache=new(_r.Cache||an),n}_r.Cache=an;var Eo=_r,jo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xi=/\\(\\)?/g,hu=function(t){var e=Eo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jo,function(n,r,a,i){e.push(a?i.replace(Xi,"$1"):r||n)}),e}),Fo=Ut?Ut.prototype:void 0,ba=Fo?Fo.toString:void 0,lr=function t(e){if(typeof e=="string")return e;if(vn(e))return it(e,t)+"";if(Ft(e))return ba?ba.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Hi=function(t){return t==null?"":lr(t)},li=function(t,e){return vn(t)?t:On(t,e)?[t]:hu(Hi(t))},Xo=function(t){if(typeof t=="string"||Ft(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Ho=function(t,e){for(var n=0,r=(e=li(e,t)).length;t!=null&&n<r;)t=t[Xo(e[n++])];return n&&n==r?t:void 0},ma=function(t,e,n){var r=t==null?void 0:Ho(t,e);return r===void 0?n:r},$d=function(t,e){return t!=null&&e in Object(t)},Kd=function(t,e,n){for(var r=-1,a=(e=li(e,t)).length,i=!1;++r<a;){var c=Xo(e[r]);if(!(i=t!=null&&n(t,c)))break;t=t[c]}return i||++r!=a?i:!!(a=t==null?0:t.length)&&wo(a)&&gr(c,a)&&(vn(t)||oo(t))},gf=function(t,e){return t!=null&&Kd(t,e,$d)},pc=function(t,e){return On(t)&&ut(e)?et(Xo(t),e):function(n){var r=ma(n,t);return r===void 0&&r===e?gf(n,t):Ee(e,r,3)}},_a=function(t){return t},Ts=function(t){return function(e){return e==null?void 0:e[t]}},qd=function(t){return function(e){return Ho(e,t)}},bf=function(t){return On(t)?Ts(Xo(t)):qd(t)},Ds=function(t){return typeof t=="function"?t:t==null?_a:typeof t=="object"?vn(t)?pc(t[0],t[1]):pn(t):bf(t)},mf=function(t){return function(e,n,r){for(var a=-1,i=Object(e),c=r(e),h=c.length;h--;){var g=c[t?h:++a];if(n(i[g],g,i)===!1)break}return e}}(),Kn=function(t,e){return function(n,r){if(n==null)return n;if(!Cn(n))return t(n,r);for(var a=n.length,i=e?a:-1,c=Object(n);(e?i--:++i<a)&&r(c[i],i,c)!==!1;);return n}}(function(t,e){return t&&mf(t,e,zo)}),fr=function(t,e){var n=-1,r=Cn(t)?Array(t.length):[];return Kn(t,function(a,i,c){r[++n]=e(a,i,c)}),r},dc=function(t,e){return(vn(t)?it:fr)(t,Ds(e))};Object(d.n)({isolateGlobalState:!0});var hc=function(){try{var t=Wr(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yc=function(t,e,n){e=="__proto__"&&hc?hc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Zd=Object.prototype.hasOwnProperty,Oa=function(t,e,n){var r=t[e];Zd.call(t,e)&&on(r,n)&&(n!==void 0||e in t)||yc(t,e,n)},So=function(t,e,n,r){var a=!n;n||(n={});for(var i=-1,c=e.length;++i<c;){var h=e[i],g=r?r(n[h],t[h],h,n,t):void 0;g===void 0&&(g=t[h]),a?yc(n,h,g):Oa(n,h,g)}return n},Ns=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Ui=Math.max,wa=function(t,e,n){return e=Ui(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Ui(r.length-e,0),c=Array(i);++a<i;)c[a]=r[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=r[a];return h[e]=n(c),Ns(t,this,h)}},yu=function(t){return function(){return t}},vc=hc?function(t,e){return hc(t,"toString",{configurable:!0,enumerable:!1,value:yu(e),writable:!0})}:_a,xa=Date.now,Jd=function(t){var e=0,n=0;return function(){var r=xa(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},_f=Jd(vc),Qd=function(t,e){return _f(wa(t,e,_a),t+"")},eh=function(t,e,n){if(!jn(n))return!1;var r=typeof e;return!!(r=="number"?Cn(n)&&gr(e,n.length):r=="string"&&e in n)&&on(n[e],t)},Of=function(t){return Qd(function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,c=a>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(a--,i):void 0,c&&eh(n[0],n[1],c)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var h=n[r];h&&t(e,h,r,i)}return e})},gc=Object.prototype.hasOwnProperty,qn=Of(function(t,e){if(xo(e)||Cn(e))So(e,zo(e),t);else for(var n in e)gc.call(e,n)&&Oa(t,n,e[n])}),wf=function(t,e,n,r){if(!jn(t))return t;for(var a=-1,i=(e=li(e,t)).length,c=i-1,h=t;h!=null&&++a<i;){var g=Xo(e[a]),x=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return t;if(a!=c){var j=h[g];(x=r?r(j,g,h):void 0)===void 0&&(x=jn(j)?j:gr(e[a+1])?[]:{})}Oa(h,g,x),h=h[g]}return t},F=function(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var c=e[r],h=Ho(t,c);n(h,c)&&wf(i,li(c,t),h)}return i},Ea=function(t,e){return F(t,e,function(n,r){return gf(t,r)})},vu=Ut?Ut.isConcatSpreadable:void 0,$r=function(t){return vn(t)||oo(t)||!!(vu&&t&&t[vu])},en=function t(e,n,r,a,i){var c=-1,h=e.length;for(r||(r=$r),i||(i=[]);++c<h;){var g=e[c];n>0&&r(g)?n>1?t(g,n-1,r,a,i):ro(i,g):a||(i[i.length]=g)}return i},Gi=function(t){return t!=null&&t.length?en(t,1):[]},dn,Po,fi,Kr,Cs,Rs,xf,Ef,bc,ja,gu,jf,Is,Ao,mc,pi,zr,Ls,zs,Uo=function(t){return _f(wa(t,void 0,Gi),t+"")}(function(t,e){return t==null?{}:Ea(t,e)});function wn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rn(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var cn,er,Wt,zn,pt,bn,_c={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Go=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Bs=(Po=Rn((dn=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),wn(this,"isSilentMode",Po,this),wn(this,"stopZoomGraph",fi,this),wn(this,"stopScrollGraph",Kr,this),wn(this,"stopMoveGraph",Cs,this),wn(this,"adjustEdge",Rs,this),wn(this,"adjustEdgeMiddle",xf,this),wn(this,"adjustEdgeStartAndEnd",Ef,this),wn(this,"adjustNodePosition",bc,this),wn(this,"hideAnchors",ja,this),wn(this,"allowRotation",gu,this),wn(this,"hoverOutline",jf,this),wn(this,"nodeSelectedOutline",Is,this),wn(this,"edgeSelectedOutline",Ao,this),wn(this,"nodeTextEdit",mc,this),wn(this,"edgeTextEdit",pi,this),wn(this,"nodeTextDraggable",zr,this),wn(this,"edgeTextDraggable",Ls,this),wn(this,"autoExpand",zs,this),Pf(this,"multipleSelectKey",""),Pf(this,"defaultConfig",{}),qn(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);qn(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,i=r.textEdit,c={};if(a===!1&&qn(c,this.defaultConfig),a===!0&&a!==this.isSilentMode){var h=Uo(_c,Go);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},qn(c,h)}i===!1&&qn(c,{nodeTextEdit:!1,edgeTextEdit:!1});var g=Uo(r,Go);return qn(c,g)}},{key:"getConfig",value:function(){return Uo(this,Go)}}])&&Sf(e.prototype,n),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fi=Rn(dn.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kr=Rn(dn.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cs=Rn(dn.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rs=Rn(dn.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xf=Rn(dn.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ef=Rn(dn.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bc=Rn(dn.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ja=Rn(dn.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gu=Rn(dn.prototype,"allowRotation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jf=Rn(dn.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Is=Rn(dn.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ao=Rn(dn.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mc=Rn(dn.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pi=Rn(dn.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zr=Rn(dn.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ls=Rn(dn.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zs=Rn(dn.prototype,"autoExpand",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rn(dn.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(dn.prototype,"updateEditConfig"),dn.prototype),dn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(cn||(cn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(er||(er={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Wt||(Wt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(zn||(zn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(pt||(pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(bn||(bn={}));var Pn,Tn,Af,Mf,Oc,Sa,Fs,Pa,wc;function Aa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Xs(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xs(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qr(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Pn||(Pn={}));var kf={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Tf=(Tn=function(){function t(r,a){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),Wo(this,"MINI_SCALE_SIZE",.2),Wo(this,"MAX_SCALE_SIZE",16),Yo(this,"SCALE_X",Af,this),Yo(this,"SKEW_Y",Mf,this),Yo(this,"SKEW_X",Oc,this),Yo(this,"SCALE_Y",Sa,this),Yo(this,"TRANSLATE_X",Fs,this),Yo(this,"TRANSLATE_Y",Pa,this),Yo(this,"ZOOM_SIZE",wc,this),Wo(this,"eventCenter",void 0),Wo(this,"translateLimitMinX",void 0),Wo(this,"translateLimitMinY",void 0),Wo(this,"translateLimitMaxX",void 0),Wo(this,"translateLimitMaxY",void 0),this.eventCenter=r;var i=a.stopMoveGraph,c=i!==void 0&&i;this.updateTranslateLimits(c)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=Aa(r,2),i=a[0],c=a[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(c-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=Aa(r,2),i=a[0],c=a[1];return[i*this.SCALE_X+this.TRANSLATE_X,c*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,i){var c=Aa(r,2),h=c[0],g=c[1];return[h+a/this.SCALE_X,g+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,c=this.SCALE_Y;return r===!0?(i+=this.ZOOM_SIZE,c+=this.ZOOM_SIZE):r===!1?(i-=this.ZOOM_SIZE,c-=this.ZOOM_SIZE):typeof r=="number"&&(i=r,c=r),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(i-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(c-this.SCALE_Y)*a[1]),this.SCALE_X=i,this.SCALE_Y=c,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(pt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+a<=this.translateLimitMaxY&&this.TRANSLATE_Y+a>=this.translateLimitMinY&&(this.TRANSLATE_Y+=a),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,i,c){var h=Aa(this.CanvasPointToHtmlPoint([r,a]),2),g=i/2-h[0],x=c/2-h[1];this.TRANSLATE_X+=g,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var a=Aa(Array.isArray(r)&&r.length===4?r:kf[r.toString()],4);this.translateLimitMinX=a[0],this.translateLimitMinY=a[1],this.translateLimitMaxX=a[2],this.translateLimitMaxY=a[3]}}],n&&th(e.prototype,n),t}(),Af=qr(Tn.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mf=qr(Tn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oc=qr(Tn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sa=qr(Tn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Fs=qr(Tn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pa=qr(Tn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wc=qr(Tn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),qr(Tn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"zoom"),Tn.prototype),qr(Tn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"resetZoom"),Tn.prototype),qr(Tn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"translate"),Tn.prototype),qr(Tn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(Tn.prototype,"focusOn"),Tn.prototype),Tn),xc=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Df=function(t,e){return t&&So(e,zo(e),t)},Nf=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Cf=Object.prototype.hasOwnProperty,Hs=function(t){if(!jn(t))return Nf(t);var e=xo(t),n=[];for(var r in t)(r!="constructor"||!e&&Cf.call(t,r))&&n.push(r);return n},Ma=function(t){return Cn(t)?Sn(t,!0):Hs(t)},Us=function(t,e){return t&&So(e,Ma(e),t)},Ec=o(107),Vt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},nh=function(t,e){return So(t,vr(t),e)},Gs=Rr(Object.getPrototypeOf,Object),ka=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ro(e,vr(t)),t=Gs(t);return e}:sc,Rf=function(t,e){return So(t,ka(t),e)},rh=function(t){return cc(t,Ma,ka)},oh=Object.prototype.hasOwnProperty,Zr=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&oh.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ys=function(t){var e=new t.constructor(t.byteLength);return new Qn(e).set(new Qn(t)),e},jc=function(t,e){var n=e?Ys(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Ws=/\w*$/,If=function(t){var e=new t.constructor(t.source,Ws.exec(t));return e.lastIndex=t.lastIndex,e},Vs=Ut?Ut.prototype:void 0,Sr=Vs?Vs.valueOf:void 0,di=function(t){return Sr?Object(Sr.call(t)):{}},Sc=function(t,e){var n=e?Ys(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Lf=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ys(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return jc(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Sc(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return If(t);case"[object Symbol]":return di(t)}},bu=Object.create,zf=function(){function t(){}return function(e){if(!jn(e))return{};if(bu)return bu(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Pc=function(t){return typeof t.constructor!="function"||xo(t)?{}:zf(Gs(t))},Bf=function(t){return tn(t)&&_(t)=="[object Map]"},Ac=$n.a&&$n.a.isMap,$s=Ac?io(Ac):Bf,hi=function(t){return tn(t)&&_(t)=="[object Set]"},Ff=$n.a&&$n.a.isSet,yi=Ff?io(Ff):hi,Ks="[object Arguments]",qs="[object Function]",Zs="[object Object]",mn={};mn[Ks]=mn["[object Array]"]=mn["[object ArrayBuffer]"]=mn["[object DataView]"]=mn["[object Boolean]"]=mn["[object Date]"]=mn["[object Float32Array]"]=mn["[object Float64Array]"]=mn["[object Int8Array]"]=mn["[object Int16Array]"]=mn["[object Int32Array]"]=mn["[object Map]"]=mn["[object Number]"]=mn["[object Object]"]=mn["[object RegExp]"]=mn["[object Set]"]=mn["[object String]"]=mn["[object Symbol]"]=mn["[object Uint8Array]"]=mn["[object Uint8ClampedArray]"]=mn["[object Uint16Array]"]=mn["[object Uint32Array]"]=!0,mn["[object Error]"]=mn[qs]=mn["[object WeakMap]"]=!1;var Xf=function t(e,n,r,a,i,c){var h,g=1&n,x=2&n,j=4&n;if(r&&(h=i?r(e,a,i,c):r(e)),h!==void 0)return h;if(!jn(e))return e;var T=vn(e);if(T){if(h=Zr(e),!g)return Vt(e,h)}else{var R=_(e),G=R==qs||R=="[object GeneratorFunction]";if(Object(Oo.a)(e))return Object(Ec.a)(e,g);if(R==Zs||R==Ks||G&&!i){if(h=x||G?{}:Pc(e),!g)return x?Rf(e,Us(h,e)):nh(e,Df(h,e))}else{if(!mn[R])return i?e:{};h=Lf(e,R,g)}}c||(c=new _o);var Z=c.get(e);if(Z)return Z;c.set(e,h),yi(e)?e.forEach(function(ye){h.add(t(ye,n,r,ye,e,c))}):$s(e)&&e.forEach(function(ye,de){h.set(de,t(ye,n,r,de,e,c))});var re=T?void 0:(j?x?rh:ao:x?Ma:zo)(e);return xc(re||e,function(ye,de){re&&(ye=e[de=ye]),Oa(h,de,t(ye,n,r,de,e,c))}),h},xn=function(t){return Xf(t,5)},Mc=function(t,e,n){(n!==void 0&&!on(t[e],n)||n===void 0&&!(e in t))&&yc(t,e,n)},Pr=function(t){return tn(t)&&Cn(t)},Mo=Function.prototype,kc=Object.prototype,Yi=Mo.toString,Hf=kc.hasOwnProperty,Uf=Yi.call(Object),Gf=function(t){if(!tn(t)||sn(t)!="[object Object]")return!1;var e=Gs(t);if(e===null)return!0;var n=Hf.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Yi.call(n)==Uf},vi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},mu=function(t){return So(t,Ma(t))},Yf=function(t,e,n,r,a,i,c){var h=vi(t,n),g=vi(e,n),x=c.get(g);if(x)Mc(t,n,x);else{var j=i?i(h,g,n+"",t,e,c):void 0,T=j===void 0;if(T){var R=vn(g),G=!R&&Object(Oo.a)(g),Z=!R&&!G&&Fi(g);j=g,R||G||Z?vn(h)?j=h:Pr(h)?j=Vt(h):G?(T=!1,j=Object(Ec.a)(g,!0)):Z?(T=!1,j=Sc(g,!0)):j=[]:Gf(g)||oo(g)?(j=h,oo(h)?j=mu(h):jn(h)&&!no(h)||(j=Pc(g))):T=!1}T&&(c.set(g,j),a(j,g,r,i,c),c.delete(g)),Mc(t,n,j)}},Wf=function t(e,n,r,a,i){e!==n&&mf(n,function(c,h){if(i||(i=new _o),jn(c))Yf(e,n,h,r,t,a,i);else{var g=a?a(vi(e,h),c,h+"",e,n,i):void 0;g===void 0&&(g=c),Mc(e,h,g)}},Ma)},_u=Of(function(t,e,n){Wf(t,e,n)}),Vf={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Ou=function(t){var e=xn(Vf);return t&&(e=_u(e,t)),e};o(82),o(166);function Js(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Tc=function(){function t(){var r,a,i;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i}var e,n;return e=t,(n=[{key:"on",value:function(r,a,i){var c=this;return r==null||r.split(",").forEach(function(h){h=h.trim(),c._events[h]||(c._events[h]=[]),c._events[h].push({callback:a,once:!!i})}),this}},{key:"once",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){return c=c.trim(),i.on(c,a,!0)})}},{key:"emit",value:function(r,a){var i=this;r==null||r.split(",").forEach(function(c){var h=i._events[c]||[],g=i._events["*"]||[],x=function(j){for(var T=j.length,R=0;R<T;R++)if(j[R]){var G=j[R],Z=G.callback;G.once&&(j.splice(R,1),j.length===0&&delete i._events[c],T--,R--),Z.apply(i,[a])}};x(h),x(g)})}},{key:"off",value:function(r,a){var i=this;return r||(this._events={}),r.split(",").forEach(function(c){if(a){for(var h=i._events[c]||[],g=h.length,x=0;x<g;x++)h[x].callback===a&&(h.splice(x,1),g--,x--);h.length===0&&delete i._events[c]}else delete i._events[c]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Js(e.prototype,n),t}();function gi(t,e){return e*Math.round(t/e)||t}function Dc(t,e){return t%e}function Nc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cc(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qs=function(t,e,n){var r=Nc(t,2),a=r[0],i=r[1],c=Nc(e,2),h=c[0],g=c[1],x=Nc(n,2),j=x[0],T=x[1];return a>h&&a<j&&i>g&&i<T},el=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var Vo=function(t){return function(e,n,r){var a=Object(e);if(!Cn(e)){var i=Ds(n);e=zo(e),n=function(h){return i(a[h],h,a)}}var c=t(e,n,r);return c>-1?a[i?e[c]:c]:void 0}},$f=function(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1},Kf=/\s/,ih=function(t){for(var e=t.length;e--&&Kf.test(t.charAt(e)););return e},qf=/^\s+/,$o=function(t){return t&&t.slice(0,ih(t)+1).replace(qf,"")},tl=/^[-+]0x[0-9a-f]+$/i,nl=/^0b[01]+$/i,rl=/^0o[0-7]+$/i,Rc=parseInt,bi=function(t){if(typeof t=="number")return t;if(Ft(t))return NaN;if(jn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$o(t);var n=nl.test(t);return n||rl.test(t)?Rc(t.slice(2),n?2:8):tl.test(t)?NaN:+t},Mt=1/0,Ic=function(t){return t?(t=bi(t))===Mt||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},ol=function(t){var e=Ic(t),n=e%1;return e==e?n?e-n:e:0},Wi=Math.max,wu,il=Vo(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var a=n==null?0:ol(n);return a<0&&(a=Wi(r+a,0)),$f(t,Ds(e),a)}),pr=new Uint8Array(16);function Zf(){if(!wu&&!(wu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wu(pr)}for(var Jf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ah=function(t){return typeof t=="string"&&Jf.test(t)},En=[],nr=0;nr<256;++nr)En.push((nr+256).toString(16).substr(1));var al=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase();if(!ah(n))throw TypeError("Stringified UUID is invalid");return n},xu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Zf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return al(r)},mi=function(){return xu()},Eu=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,a){return r[a.id]=e+xu(),a.id=r[a.id],r},{});return t.edges.forEach(function(r){r.id=e+xu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Ta=(o(105),o(127),o(207),function(t,e,n){var r=t.x,a=t.y,i=e.x,c=e.y,h=n.x,g=n.y,x=(g-c)/(h-i),j=c-x*i;return r>=i&&r<=h&&a>=c&&a<=g&&Math.abs(a-x*r+j)<Number.EPSILON});function Lc(t){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function ul(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ul(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,sl,Da,zc,ll,fl,ju,pl,so,_i,dl,Qf,ep,tp,hl,yl,vl,gl,np,rp,op,Ar=function(t){return t.anchors},Bc=function(t,e){for(var n,r=e.nodes,a=r.length-1;a>=0;a--){var i=r[a];if(ch(t,i)){var c=i.getTargetAnchor(t);if(c){var h={node:i,anchorIndex:c.index,anchor:c.anchor};n&&!ip(i,n.node,e)||(n=h)}}}return n},ip=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},lo=function(t,e,n,r){return Math.hypot(t-n,e-r)},ko=function(t,e){var n=!1,r=Br(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},ch=function(t,e){var n=!1,r=Br(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Br=function(t){var e=t.x,n=t.y,r=t.width,a=t.height;return{minX:e-r/2,minY:n-a/2,maxX:e+r/2,maxY:n+a/2,x:e,y:n,width:r,height:a,centerX:e,centerY:n}},ap=function(t,e,n){var r,a=function(c){var h=c,g=h.x,x=h.y,j=h.width,T=h.height,R=h.radius;return[{x:g-j/2+R,y:x-T/2+R,r:R},{x:g+j/2-R,y:x-T/2+R,r:R},{x:g-j/2+R,y:x+T/2-R,r:R},{x:g+j/2-R,y:x+T/2-R,r:R}]}(n),i=Number.MAX_SAFE_INTEGER;return a.forEach(function(c){var h=lo(t.x,t.y,c.x,c.y);h<i&&(i=h,r=c)}),Su(t,e,r)},Su=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.r;if(e===bn.HORIZONTAL){var g=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)),x=i+Math.sqrt(h*h-(t.y-c)*(t.y-c));r={x:Math.abs(g-t.x)<Math.abs(x-t.x)?g:x,y:t.y}}else if(e===bn.VERTICAL){var j=c-Math.sqrt(h*h-(t.x-i)*(t.x-i)),T=c+Math.sqrt(h*h-(t.x-i)*(t.x-i)),R=Math.abs(j-t.y)<Math.abs(T-t.y)?j:T;r={x:t.x,y:R}}return r},bl=function(t,e){var n=e,r=!1,a=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,c=n.y-n.height/2+n.radius,h=n.y+n.height/2-n.radius,g=n.x,x=n.y,j=n.width,T=n.height;return t.y===x+T/2||t.y===x-T/2?r=t.x>a&&t.x<i:t.x!==g+j/2&&t.x!==g-j/2||(r=t.y>c&&t.y<h),r},up=function(t,e,n){var r,a=n,i=a.x,c=a.y,h=a.rx,g=a.ry;if(e===bn.HORIZONTAL){var x=i-Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g)),j=i+Math.sqrt(h*h-(t.y-c)*(t.y-c)*h*h/(g*g));r={x:Math.abs(x-t.x)<Math.abs(j-t.x)?x:j,y:t.y}}else if(e===bn.VERTICAL){var T=c-Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),R=c+Math.sqrt(g*g-(t.x-i)*(t.x-i)*g*g/(h*h)),G=Math.abs(T-t.y)<Math.abs(R-t.y)?T:R;r={x:t.x,y:G}}return r},cp=function(t,e,n){for(var r,a=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,c=[],h=0;h<a.length;h++)c.push({start:a[h],end:a[(h+1)%a.length]});return c.forEach(function(g){var x=g.start,j=g.end,T=x,R=j;x.x>j.x&&(T=j,R=x);var G={x:t.x,y:t.y};if(T.x===R.x&&e===bn.HORIZONTAL&&(G={x:T.x,y:t.y}),T.y===R.y&&e===bn.VERTICAL&&(G={x:t.x,y:T.y}),T.x!==R.x&&T.y!==R.y){var Z=(R.y-T.y)/(R.x-T.x),re=(T.x*R.y-R.x*T.y)/(T.x-R.x);e===bn.HORIZONTAL?G={x:(t.y-re)/Z,y:t.y}:e===bn.VERTICAL&&(G={x:t.x,y:Z*t.x+re})}if(Ta(G,x,j)){var ye=lo(G.x,G.y,t.x,t.y);ye<i&&(i=ye,r=G)}}),r},sp=function(t,e,n,r){var a=t.x,i=t.y;return e.x>t.x?a=t.x+n/2:e.x<t.x&&(a=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:a,y:i}},lp=function(t){var e=t.rows,n=t.style,r=t.rowsLength,a=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=a,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach(function(h){var g=document.createElement("div");g.textContent=h,i.appendChild(g)}):i.textContent=e,document.body.appendChild(i);var c=i.clientHeight;return document.body.removeChild(i),c},ml=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,a=0;return e&&e.forEach(function(i){var c=Zc(i);a=c>a?c:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},Pu=function(t){return Lc(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},rr=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},Fc=1e3,sh=999,_l=function(){return++Fc};function fp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fp(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Ol=(ke=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Jr(this,"id",""),Bn(this,"type",sl,this),Bn(this,"sourceNodeId",Da,this),Bn(this,"targetNodeId",zc,this),Bn(this,"startPoint",ll,this),Bn(this,"endPoint",fl,this),Bn(this,"text",ju,this),Bn(this,"properties",pl,this),Bn(this,"points",so,this),Bn(this,"pointsList",_i,this),Bn(this,"isSelected",dl,this),Bn(this,"isHovered",Qf,this),Bn(this,"isHitable",ep,this),Bn(this,"draggable",tp,this),Bn(this,"visible",hl,this),Jr(this,"virtual",!1),Bn(this,"isAnimation",yl,this),Bn(this,"isShowAdjustPoint",vl,this),Jr(this,"graphModel",void 0),Bn(this,"zIndex",gl,this),Jr(this,"BaseType",zn.EDGE),Jr(this,"modelType",Wt.EDGE),Bn(this,"state",np,this),Jr(this,"additionStateData",void 0),Jr(this,"sourceAnchorId",""),Jr(this,"targetAnchorId",""),Jr(this,"menu",void 0),Jr(this,"customTextPosition",!1),Bn(this,"style",rp,this),Bn(this,"arrowConfig",op,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||mi()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var h=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=h,qn(this,Jc(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||_l()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Mr(Mr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Mr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return xn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return xn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),a=this.getEdgeAnimationStyle(),i=this.graphModel.theme.arrow,c=this.isAnimation?a.stroke:r.stroke;return Mr(Mr({},r),{},{fill:c,stroke:c},i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a,i){var c,h,g=Ar(r);return i&&(c=il(g,function(x){return x.id===i}))||g.forEach(function(x){var j=Bu(x,a);(h===void 0||j<h)&&(h=j,c=x)}),c}},{key:"getEndAnchor",value:function(r,a){var i,c,h=this,g=Ar(r);return a&&(i=il(g,function(x){return x.id===a}))||g.forEach(function(x){var j=Bu(x,h.startPoint);(c===void 0||j<c)&&(c=j,i=x)}),i}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return c&&(h.text={x:a,y:i,value:c}),this.graphModel.overlapMode===Pn.INCREASE&&(h.zIndex=this.zIndex),h}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=rr(a),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Mr(Mr({},Object(d.I)(this.properties)),rr(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var a=this.arrowConfig,i=a.markerEnd,c=a.markerStart;c&&c==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),i&&i==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,a){this.style=Mr(Mr({},this.style),{},Jr({},r,rr(a)))}},{key:"setStyles",value:function(r){this.style=Mr(Mr({},this.style),rr(r))}},{key:"updateStyles",value:function(r){this.style=Mr({},rr(r))}},{key:"formatText",value:function(r){var a=this.textPosition,i=a.x,c=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||i,y:r.text.y||c,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:i,y:c,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,i=r.y;this.text.x=a,this.text.y=i}},{key:"moveText",value:function(r,a){if(this.text){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,j=i.editable;this.text={value:g,draggable:x,x:c+r,y:h+a,editable:j}}}},{key:"setText",value:function(r){r&&qn(this.text,r)}},{key:"updateText",value:function(r){this.text=Mr(Mr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!a)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){qn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,i=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&pp(e.prototype,n),t}(),sl=Pt(ke.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Da=Pt(ke.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zc=Pt(ke.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=Pt(ke.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fl=Pt(ke.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ju=Pt(ke.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),pl=Pt(ke.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),so=Pt(ke.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_i=Pt(ke.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dl=Pt(ke.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qf=Pt(ke.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ep=Pt(ke.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Pt(ke.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hl=Pt(ke.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yl=Pt(ke.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vl=Pt(ke.prototype,"isShowAdjustPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gl=Pt(ke.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),np=Pt(ke.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rp=Pt(ke.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),op=Pt(ke.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Pt(ke.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Pt(ke.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Pt(ke.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Pt(ke.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Pt(ke.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Pt(ke.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Pt(ke.prototype,"changeEdgeId",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Pt(ke.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Pt(ke.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Pt(ke.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Pt(ke.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Pt(ke.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Pt(ke.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Pt(ke.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Pt(ke.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Pt(ke.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Pt(ke.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Pt(ke.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Pt(ke.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Pt(ke.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Pt(ke.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Pt(ke.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Pt(ke.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Pt(ke.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Pt(ke.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Pt(ke.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Pt(ke.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Pt(ke.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Pt(ke.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Pt(ke.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Pt(ke.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Pt(ke.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),Na=Ol;function wl(t){return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function dp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dp(Object(n),!0).forEach(function(r){gp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mu(){return Mu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=vp(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Mu.apply(this,arguments)}function vp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ko(t))!==null;);return t}function Xc(t,e){return Xc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xc(t,e)}function lh(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ko(t);if(e){var a=Ko(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fh(this,n)}}function fh(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ku(t)}function ku(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ko(t){return Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ko(t)}function gp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt,xl,Hc=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Xc(i,c)})(a,t);var e,n,r=lh(a);function a(){var i;hp(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return gp(ku(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.LINE_EDGE),i}return e=a,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return Au(Au({},Mu(Ko(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&yp(e.prototype,n),a}(Na);function Fr(t){return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(t)}function ph(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return bp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return bp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oi(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(){return Qr=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=hh(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Qr.apply(this,arguments)}function hh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hn(t))!==null;);return t}function Tu(t,e){return Tu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tu(t,e)}function qo(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hn(t);if(e){var a=hn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mp(this,n)}}function mp(t,e){if(e&&(Fr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wi(t)}function wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(t)}function An(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function or(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Du=(Dt=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Tu(i,c)})(a,t);var e,n,r=qo(a);function a(){var i;kr(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return An(wi(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.POLYLINE_EDGE),An(wi(i),"draggingPointList",void 0),dh(wi(i),"dbClickPosition",xl,wi(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Qr(hn(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return Xt(Xt({},Qr(hn(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){var i,c=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!c){var h=this.dbClickPosition;return{x:h.x,y:h.y}}var g=Ei(this.points),x=ph(Mp(g),2),j=x[0],T=x[1];return{x:(j.x+T.x)/2,y:(j.y+T.y)/2}}},{key:"getAfterAnchor",value:function(i,c,h){var g,x;return h.forEach(function(j){var T;i===bn.HORIZONTAL?T=Math.abs(c.y-j.y):i===bn.VERTICAL&&(T=Math.abs(c.x-j.x)),(!x||x>T)&&(x=T,g=j)}),g}},{key:"getCrossPoint",value:function(i,c,h){var g;return i===bn.HORIZONTAL?g={x:h.x,y:c.y}:i===bn.VERTICAL&&(g={x:c.x,y:h.y}),g}},{key:"removeCrossPoints",value:function(i,c,h){var g=h.map(function(de){return de});if(i===1){var x=g[i],j=g[c],T=g[i-1];if(Ml(T,x,this.sourceNode)){if(kl(x,j,this.sourceNode)){var R=Tl(x,j,this.sourceNode);R&&(g[i]=R,g.splice(i-1,1),i--,c--)}}else this.sourceNode.anchors.forEach(function(de){(de.x===T.x&&de.x===x.x||de.y===T.y&&de.y===x.y)&&lo(de.x,de.y,x.x,x.y)<lo(T.x,T.y,x.x,x.y)&&(g[i-1]=de)})}if(c===h.length-2){var G=g[i],Z=g[c],re=g[c+1];if(Ml(Z,re,this.targetNode)){if(kl(G,Z,this.targetNode)){var ye=Tl(G,Z,this.targetNode);ye&&(g[c]=ye,g.splice(c+1,1))}}else this.targetNode.anchors.forEach(function(de){(de.x===re.x&&de.x===Z.x||de.y===re.y&&de.y===Z.y)&&lo(de.x,de.y,Z.x,Z.y)<lo(re.x,re.y,Z.x,Z.y)&&(g[c+1]=de)})}return g}},{key:"getDraggingPoints",value:function(i,c,h,g,x){var j=x.map(function(G){return G}),T=this.getAfterAnchor(i,h,g),R=this.getCrossPoint(i,h,T);return c==="start"?(j.unshift(R),j.unshift(T)):(j.push(R),j.push(T)),j}},{key:"updateCrossPoints",value:function(i){var c=i.map(function(Ce){return Ce}),h=i[0],g=i[1],x=i[c.length-2],j=i[c.length-1],T=this.sourceNode,R=this.targetNode,G=T.modelType,Z=R.modelType,re=zu(h,g),ye=c[0];switch(G){case Wt.RECT_NODE:T.radius!==0&&(bl(h,T)||(ye=ap(h,re,T)));break;case Wt.CIRCLE_NODE:ye=Su(h,re,T);break;case Wt.ELLIPSE_NODE:ye=up(h,re,T);break;case Wt.DIAMOND_NODE:case Wt.POLYGON_NODE:ye=cp(h,re,T)}c[0]=ye;var de=zu(x,j),we=c[c.length-1];switch(Z){case Wt.RECT_NODE:R.radius!==0&&(bl(j,R)||(we=ap(j,de,R)));break;case Wt.CIRCLE_NODE:we=Su(j,de,R);break;case Wt.ELLIPSE_NODE:we=up(j,de,R);break;case Wt.DIAMOND_NODE:case Wt.POLYGON_NODE:we=cp(j,de,R)}return c[c.length-1]=we,c}},{key:"getData",value:function(){var i=Qr(hn(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Object.assign({},i,{pointsList:c})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Kc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=Object.assign({},i),this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=Object.assign({},i),this.updatePoints()}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c,this.updatePoints()}},{key:"updatePointsList",value:function(i,c){this.pointsList.forEach(function(x){x.x+=i,x.y+=c});var h=this.pointsList[0];this.startPoint=Object.assign({},h);var g=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},g),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,j=i.endIndex,T=i.direction,R=this.pointsList,G=R;return T===bn.HORIZONTAL?(R[x]={x:h.x,y:h.y+c.y},R[j]={x:g.x,y:g.y+c.y},G=this.pointsList.map(function(Z){return Z})):T===bn.VERTICAL&&(R[x]={x:h.x+c.x,y:h.y},R[j]={x:g.x+c.x,y:g.y},G=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrag(G),this.draggingPointList=G,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[x]),end:Object.assign({},R[j]),startIndex:x,endIndex:j,direction:T}}},{key:"dragAppend",value:function(i,c){this.isDragging=!0;var h=i.start,g=i.end,x=i.startIndex,j=i.endIndex,T=i.direction,R=this.pointsList;if(T===bn.HORIZONTAL){R[x]={x:h.x,y:h.y+c.y},R[j]={x:g.x,y:g.y+c.y};var G=this.pointsList.map(function(Ke){return Ke});if(x!==0&&j!==this.pointsList.length-1&&(G=this.removeCrossPoints(x,j,G)),x===0){var Z={x:h.x,y:h.y+c.y};if(!ko(Z,this.sourceNode)){var re=this.sourceNode.anchors;G=this.getDraggingPoints(T,"start",Z,re,G)}}if(j===this.pointsList.length-1){var ye={x:g.x,y:g.y+c.y};if(!ko(ye,this.targetNode)){var de=this.targetNode.anchors;G=this.getDraggingPoints(T,"end",ye,de,G)}}this.updatePointsAfterDrag(G),this.draggingPointList=G}else if(T===bn.VERTICAL){R[x]={x:h.x+c.x,y:h.y},R[j]={x:g.x+c.x,y:g.y};var we=this.pointsList.map(function(Ke){return Ke});if(x!==0&&j!==this.pointsList.length-1&&(we=this.removeCrossPoints(x,j,we)),x===0){var Ce={x:h.x+c.x,y:h.y};if(!ko(Ce,this.sourceNode)){var Je=this.sourceNode.anchors;we=this.getDraggingPoints(T,"start",Ce,Je,we)}}if(j===this.pointsList.length-1){var qe={x:g.x+c.x,y:g.y};if(!ko(qe,this.targetNode)){var bt=this.targetNode.anchors;we=this.getDraggingPoints(T,"end",qe,bt,we)}}this.updatePointsAfterDrag(we),this.draggingPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[x]),end:Object.assign({},R[j]),startIndex:x,endIndex:j,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var i=$c(Ei(this.points));this.pointsList=i.map(function(g){return g}),this.draggingPointList=[];var c=i[0];this.startPoint=Object.assign({},c);var h=i[i.length-1];this.endPoint=Object.assign({},h)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(i){var c=this.updateCrossPoints(i);this.points=c.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,j=Kc({x:c.x,y:c.y},{x:h.x,y:h.y},g,x,this.offset||0);this.pointsList=j,this.initPoints()}}])&&Fn(e.prototype,n),a}(Na),xl=or(Dt.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or(Dt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"initPoints"),Dt.prototype),or(Dt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updatePoints"),Dt.prototype),or(Dt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updateStartPoint"),Dt.prototype),or(Dt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"moveStartPoint"),Dt.prototype),or(Dt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updateEndPoint"),Dt.prototype),or(Dt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"moveEndPoint"),Dt.prototype),or(Dt.prototype,"updatePointsList",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updatePointsList"),Dt.prototype),or(Dt.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppendStart"),Dt.prototype),or(Dt.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppendSimple"),Dt.prototype),or(Dt.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppend"),Dt.prototype),or(Dt.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"dragAppendEnd"),Dt.prototype),or(Dt.prototype,"updatePointsAfterDrag",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updatePointsAfterDrag"),Dt.prototype),or(Dt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"getAdjustStart"),Dt.prototype),or(Dt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"getAdjustEnd"),Dt.prototype),or(Dt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Dt.prototype,"updateAfterAdjustStartAndEnd"),Dt.prototype),Dt),Zo=function(t){var e=t.start,n=t.end,r=t.offset,a=t.verticalLength,i=t.type,c={leftX:0,leftY:0,rightX:0,rightY:0},h=Math.atan((n.y-e.y)/(n.x-e.x)),g=Math.atan(r/a),x=Math.sqrt(a*a+r*r);return i==="start"?n.x>=e.x?(c.leftX=e.x+x*Math.sin(h+g),c.leftY=e.y-x*Math.cos(h+g),c.rightX=e.x-x*Math.sin(h-g),c.rightY=e.y+x*Math.cos(h-g)):(c.leftX=e.x-x*Math.sin(h+g),c.leftY=e.y+x*Math.cos(h+g),c.rightX=e.x+x*Math.sin(h-g),c.rightY=e.y-x*Math.cos(h-g)):i==="end"&&(n.x>=e.x?(c.leftX=n.x+x*Math.sin(h-g),c.leftY=n.y-x*Math.cos(h-g),c.rightX=n.x-x*Math.sin(h+g),c.rightY=n.y+x*Math.cos(h+g)):(c.leftX=n.x-x*Math.sin(h-g),c.leftY=n.y+x*Math.cos(h-g),c.rightX=n.x+x*Math.sin(h+g),c.rightY=n.y-x*Math.cos(h+g))),c},El={x:1,y:0,z:0};function jl(t,e,n,r,a){for(var i=function(Z){if(Z<0||Z>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-Z,3)+3*e.x*Z*Math.pow(1-Z,2)+3*n.x*Math.pow(Z,2)*(1-Z)+r.x*Math.pow(Z,3),y:t.y*Math.pow(1-Z,3)+3*e.y*Z*Math.pow(1-Z,2)+3*n.y*Math.pow(Z,2)*(1-Z)+r.y*Math.pow(Z,3)}},c=0,h=2,g=r.x,x=r.y,j=r;c<a&&h<50;){var T=j=i(1-h/100),R=T.x,G=T.y;c=lo(g,x,R,G),h++}return j}function Nu(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Tr(t){return r=function(i,c){return i.x*c.y-i.y*c.x}(e=El,n=t),a=Math.acos(function(i,c){var h=[i.x,i.y,i.z];return[c.x,c.y,c.z].reduce(function(g,x,j){return g+x*h[j]})}(Nu(e),Nu(n))),r>=0?a:-a;var e,n,r,a}function Vi(t){return t*(180/Math.PI)}function _p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_p(Object(n),!0).forEach(function(r){Op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Op(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jo(t){return function(e){if(Array.isArray(e))return Gc(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Xr(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ht(t){return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(t)}function Cu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Xr(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xr(t,e){if(t){if(typeof t=="string")return Gc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gc(t,e):void 0}}function Gc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yn=function(t,e){var n;switch(t.type){case"line":default:n=new Hc(t,e);break;case"polyline":n=new Du(t,e)}return n},wp=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Ca=function(t){var e=[],n={};return t.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Yc=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Ca(n)},Ru=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},xp=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?bn.HORIZONTAL:bn.VERTICAL},Iu=function(t,e,n){return xp(n,e)===bn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Sl=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),a=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+a)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:a,maxY:i,height:i-r,width:a-n}},xi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(j){n.push(j.x),r.push(j.y)});var a=Math.min.apply(Math,n),i=Math.max.apply(Math,n),c=Math.min.apply(Math,r),h=Math.max.apply(Math,r),g=i-a,x=h-c;return e&&(g+=e,x+=e),{centerX:(a+i)/2,centerY:(c+h)/2,maxX:i,maxY:h,minX:a,minY:c,x:(a+i)/2,y:(c+h)/2,height:x,width:g}},$i=function(t){var e=t.minX,n=t.minY,r=t.maxX,a=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:a},{x:e,y:a}]},Lu=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Ep=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},jp=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Zn=function(t,e){return Ep(t,e.x).concat(jp(t,e.y))},ir=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Sp=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},Wc=function(t,e,n,r,a){return ir(t,e)+ir(t,n)+Sp(t,[e,n,r,a])},Pp=function t(e,n,r,a,i){i||(i=0),e.unshift(n[a]),r[a]&&r[a]!==a&&i<=100&&t(e,n,r,r[a],i+1)},Ap=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Ki=function(t,e,n,r){var a=e.x-t.x,i=e.y-t.y,c=r.x-n.x,h=r.y-n.y,g=(-i*(t.x-n.x)+a*(t.y-n.y))/(-c*i+a*h),x=(c*(t.y-n.y)-h*(t.x-n.x))/(-c*i+a*h);return g>=0&&g<=1&&x>=0&&x<=1},Vc=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Cu($i(n),4),a=r[0],i=r[1],c=r[2],h=r[3];return Ki(t,e,a,i)||Ki(t,e,a,h)||Ki(t,e,i,c)||Ki(t,e,c,h)},Pl=function(t,e,n,r){var a=[];return t.forEach(function(i){i!==e&&(i.x!==e.x&&i.y!==e.y||Vc(i,e,n)||Vc(i,e,r)||a.push(i))}),Ca(a)},qi=function(t,e,n,r,a,i,c){var h=[],g=[e],x={},j={},T={};j[e.id]=0,T[e.id]=Wc(e,n,e);var R={};t.forEach(function(re){R[re.id]=re});for(var G=function(){var re=void 0,ye=1/0;if(g.forEach(function(we){T[we.id]<ye&&(ye=T[we.id],re=we)}),re===n){var de=[];return Pp(de,R,x,n.id),{v:de}}Ap(g,re),h.push(re),Pl(t,re,r,a).forEach(function(we){if(h.indexOf(we)===-1){g.indexOf(we)===-1&&g.push(we);var Ce=T[re.id]+ir(re,we);j[we.id]&&Ce>=j[we.id]||(x[we.id]=re.id,j[we.id]=Ce,T[we.id]=j[we.id]+Wc(we,n,e,i,c))}})};g.length;){var Z=G();if(Ht(Z)==="object")return Z.v}return[e,n]},Al=function(t){return Br(t)},$c=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],a=t[e+1];n.x===r.x&&r.x===a.x||n.y===r.y&&r.y===a.y?t.splice(e,1):e++}return t},Kc=function(t,e,n,r,a){var i=Al(n),c=Al(r),h=Ru(i,a),g=Ru(c,a),x=Iu(h,i,t),j=Iu(g,c,e);if(wp(h,g)){var T=qc(t,e,x,j);return[t,x].concat(Jo(T),[j,e])}var R=xi([x,j]),G=Sl(h,R),Z=Sl(g,R),re=[];re=(re=re.concat($i(G))).concat($i(Z));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[R,G,Z].forEach(function(we){re=re.concat(Zn(we,ye).filter(function(Ce){return Lu(Ce,h)&&Lu(Ce,g)}))}),[{x:x.x,y:j.y},{x:j.x,y:x.y}].forEach(function(we){Lu(we,h)&&Lu(we,g)&&re.push(we)}),re.unshift(x),re.push(j),re=Ca(re);var de=qi(re,x,j,i,c,t,e);return de.unshift(t),de.push(e),de.length>2&&(de=$c(de)),Ca(de)},Mp=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],a=lo(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var c=t[i],h=t[i+1],g=lo(c.x,c.y,h.x,h.y);g>a&&(a=g,n=c,r=h)}e=[n,r]}return e},Ml=function(t,e,n){var r=ko(t,n),a=ko(e,n);return r&&a},kl=function(t,e,n){var r=ko(t,n),a=ko(e,n);return!(r&&a)&&(r||a)},Tl=function(t,e,n){for(var r,a,i=Br(n),c=$i(i),h=0;h<c.length;h++)Ki(t,e,c[h],c[(h+1)%c.length])&&(a=[c[h],c[(h+1)%c.length]]);return a&&(r=function(g,x,j,T){var R=(x.y-g.y)*(T.x-j.x)-(g.x-x.x)*(j.y-T.y);if(R===0)return!1;var G=((x.x-g.x)*(T.x-j.x)*(j.y-g.y)+(x.y-g.y)*(T.x-j.x)*g.x-(T.y-j.y)*(x.x-g.x)*j.x)/R,Z=-((x.y-g.y)*(T.y-j.y)*(j.x-g.x)+(x.x-g.x)*(T.y-j.y)*g.y-(T.x-j.x)*(x.y-g.y)*j.y)/R;return(G-g.x)*(G-x.x)<=0&&(Z-g.y)*(Z-x.y)<=0&&(G-j.x)*(G-T.x)<=0&&(Z-j.y)*(Z-T.y)<=0&&{x:G,y:Z}}(t,e,a[0],a[1])),r},zu=function(t,e){var n;return t.x===e.x?n=bn.VERTICAL:t.y===e.y&&(n=bn.HORIZONTAL),n},Ei=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var a=Cu(r.split(","),2),i=a[0],c=a[1];n.push({x:Number(i),y:Number(c)})}),n},qc=function(t,e,n,r){var a=[];if(zu(t,n)===zu(e,r))t.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},c=Ta(i,t,n),h=Ta(i,e,r);if(c||h)i={x:r.x,y:n.y};else{var g=Dl(i,t,n),x=Dl(i,e,r);g&&x&&(i={x:r.x,y:n.y})}a.push(i)}return a},Dl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Zc=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Nl=null,Cl=function(t,e){Nl||(Nl=document.createElement("canvas"));var n=Nl.getContext("2d");return n.font=e,n.measureText(t).width},kp=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var a={start:n,end:r,offset:10,verticalLength:5},i=Zo(Uc(Uc({},a),{},{type:"start"})),c=Zo(Uc(Uc({},a),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY,` 
    L`).concat(i.rightX," ").concat(i.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Rl=function(t){var e=t.start,n=t.end,r=t.sourceNode,a=t.targetNode,i=t.offset,c=Br(r),h=Br(a),g=Ru(c,i),x=Ru(h,i);return{sNext:Iu(g,c,e),ePre:Iu(x,h,n)}},ar=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ra(e[0]),Ra(e[1]),Ra(e[2]),Ra(e[3])]},Ra=function(t){var e=Cu(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Il=function(t,e){var n=Cu(t,4);return[jl(n[0],n[1],n[2],n[3],e),t[3]]},Ll=function(t,e){for(var n,r=t.x,a=t.y,i=Ei(e),c=Number.MAX_SAFE_INTEGER,h=[],g=0;g<i.length;g++)h.push({start:i[g],end:i[(g+1)%i.length]});if(h.forEach(function(R){var G=R.start,Z=R.end;if(G.x===Z.x){var re={x:G.x,y:a};if(Ta(re,G,Z)){var ye=Math.abs(G.x-r);ye<c&&(c=ye,n=re)}}else if(G.y===Z.y){var de={x:r,y:G.y};if(Ta(de,G,Z)){var we=Math.abs(G.y-a);we<c&&(c=we,n=de)}}}),!n){var x=h[0],j=x.start,T=x.end;n={x:j.x+(T.x-j.x)/2,y:j.y+(T.y-j.y)/2}}return n},Jc=function(t){return Uo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Bu=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Tp(t,e){return typeof e!="function"?function(n,r,a){return Object.assign({type:t.edgeType},a)}:function(n,r,a){var i=e(n,r,a);return i?typeof i=="string"?Object.assign({},a,{type:i}):Object.assign({type:i},a):{type:t.edgeType}}}o(208);var zl=function(){};function yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var To=function(){function t(r){var a=this,i=r.onDragStart,c=i===void 0?zl:i,h=r.onDragging,g=h===void 0?zl:h,x=r.onDragEnd,j=x===void 0?zl:x,T=r.eventType,R=T===void 0?"":T,G=r.eventCenter,Z=G===void 0?null:G,re=r.step,ye=re===void 0?1:re,de=r.isStopPropagation,we=de===void 0||de,Ce=r.model,Je=Ce===void 0?null:Ce,qe=r.data,bt=qe===void 0?null:qe;(function(Ke,dt){if(!(Ke instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,t),Xn(this,"onDragStart",void 0),Xn(this,"onDragging",void 0),Xn(this,"onDragEnd",void 0),Xn(this,"step",void 0),Xn(this,"isStopPropagation",void 0),Xn(this,"isDragging",!1),Xn(this,"isStartDragging",!1),Xn(this,"startX",0),Xn(this,"startY",0),Xn(this,"sumDeltaX",0),Xn(this,"sumDeltaY",0),Xn(this,"eventType",void 0),Xn(this,"eventCenter",void 0),Xn(this,"model",void 0),Xn(this,"data",void 0),Xn(this,"startTime",void 0),Xn(this,"handleMouseDown",function(Ke){var dt,nt,Kt,Qt=(dt=window)===null||dt===void 0?void 0:dt.document;if(Ke.button===0){a.isStopPropagation&&Ke.stopPropagation(),a.isStartDragging=!0,a.startX=Ke.clientX,a.startY=Ke.clientY,Qt.addEventListener("mousemove",a.handleMouseMove,!1),Qt.addEventListener("mouseup",a.handleMouseUp,!1);var Nt=(nt=a.model)===null||nt===void 0?void 0:nt.getData();(Kt=a.eventCenter)===null||Kt===void 0||Kt.emit(pt["".concat(a.eventType,"_MOUSEDOWN")],{e:Ke,data:a.data||Nt}),a.startTime=new Date().getTime()}}),Xn(this,"handleMouseMove",function(Ke){if(a.isStopPropagation&&Ke.stopPropagation(),a.isStartDragging&&(a.sumDeltaX+=Ke.clientX-a.startX,a.sumDeltaY+=Ke.clientY-a.startY,a.startX=Ke.clientX,a.startY=Ke.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var dt,nt=a.sumDeltaX%a.step,Kt=a.sumDeltaY%a.step,Qt=a.sumDeltaX-nt,Nt=a.sumDeltaY-Kt;a.sumDeltaX=nt,a.sumDeltaY=Kt;var rn,Hn=(dt=a.model)===null||dt===void 0?void 0:dt.getData();a.isDragging||((rn=a.eventCenter)===null||rn===void 0||rn.emit(pt["".concat(a.eventType,"_DRAGSTART")],{e:Ke,data:a.data||Hn}),a.onDragStart({event:Ke})),a.isDragging=!0,Promise.resolve().then(function(){var Un,Or;a.onDragging({deltaX:Qt,deltaY:Nt,event:Ke}),(Un=a.eventCenter)===null||Un===void 0||Un.emit(pt["".concat(a.eventType,"_MOUSEMOVE")],{e:Ke,data:a.data||Hn}),(Or=a.eventCenter)===null||Or===void 0||Or.emit(pt["".concat(a.eventType,"_DRAG")],{e:Ke,data:a.data||Hn})})}}),Xn(this,"handleMouseUp",function(Ke){var dt=window.document;a.isStartDragging=!1,a.isStopPropagation&&Ke.stopPropagation(),Promise.resolve().then(function(){var nt,Kt,Qt;dt.removeEventListener("mousemove",a.handleMouseMove,!1),dt.removeEventListener("mouseup",a.handleMouseUp,!1);var Nt=(nt=a.model)===null||nt===void 0?void 0:nt.getData();(Kt=a.eventCenter)===null||Kt===void 0||Kt.emit(pt["".concat(a.eventType,"_MOUSEUP")],{e:Ke,data:a.data||Nt}),a.isDragging&&(a.isDragging=!1,a.onDragEnd({event:Ke}),(Qt=a.eventCenter)===null||Qt===void 0||Qt.emit(pt["".concat(a.eventType,"_DROP")],{e:Ke,data:a.data||Nt}))})}),Xn(this,"cancelDrag",function(){var Ke,dt=(Ke=window)===null||Ke===void 0?void 0:Ke.document;dt.removeEventListener("mousemove",a.handleMouseMove,!1),dt.removeEventListener("mouseup",a.handleMouseUp,!1),a.onDragEnd({event:null}),a.isDragging=!1}),this.onDragStart=c,this.onDragging=g,this.onDragEnd=j,this.step=ye,this.isStopPropagation=we,this.eventType=R,this.eventCenter=Z,this.model=Je,this.data=bt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&yh(e.prototype,n),t}();function Bl(t){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Fu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fl(t,e,n){return e&&Qc(t.prototype,e),n&&Qc(t,n),t}function Xl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function Hl(t){var e=Dp();return function(){var n,r=l(t);if(e){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vh(this,n)}}function vh(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(t)}function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ul(t){var e=typeof Map=="function"?new Map:void 0;return Ul=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Gl(n,arguments,l(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u(a,n)},Ul(t)}function Gl(t,e,n){return Gl=Dp()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&u(h,i.prototype),h},Gl.apply(null,arguments)}function Dp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(t,e){return u=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){return t instanceof X&&e instanceof X}var N=function(t){Xl(n,t);var e=Hl(n);function n(r,a,i){var c;return Fu(this,n),m(Qo(c=e.call(this,3)),"x",void 0),m(Qo(c),"y",void 0),m(Qo(c),"z",void 0),c[0]=r,c[1]=a,c[2]=i,c.x=r,c.y=a,c.z=i,Object.setPrototypeOf(Qo(c),n.prototype),c}return Fl(n,[{key:"add",value:function(r){if(S(this,r))return new X(this.x+r.x,this.y+r.y);var a=this.z+r.z;return new ne((this.x+r.x)/a,(this.y+r.y)/a)}},{key:"subtract",value:function(r){if(S(this,r))return new X(this.x-r.x,this.y-r.y);var a=this.z-r.z;return a===0?new X(this.x-r.x,this.y-r.y):new ne((this.x-r.x)/a,(this.y-r.y)/a)}}]),n}(Ul(Array)),X=function(t){Xl(n,t);var e=Hl(n);function n(r,a,i){var c;return Fu(this,n),c=e.call(this,r,a,i??0),Object.setPrototypeOf(Qo(c),n.prototype),c}return Fl(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var a=this;return r.reduce(function(i,c,h){return i+c*a[h]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var a=this.crossZ(r),i=Math.acos(this.normalize().dot(r.normalize()));return a>=0?i:-i}}]),n}(N),ne=function(t){Xl(n,t);var e=Hl(n);function n(r,a){var i;return Fu(this,n),i=e.call(this,r,a,1),Object.setPrototypeOf(Qo(i),n.prototype),i}return Fl(n,[{key:"toString",value:function(){return"Point"}}]),n}(N);o(67),o(218);function se(t){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(t)}function _e(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Ne(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ie(t){return function(e){if(Array.isArray(e))return He(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Ne(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ne(t,e){if(t){if(typeof t=="string")return He(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(t,e):void 0}}function He(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e,n){return e&&ht(t.prototype,e),n&&ht(t,n),t}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}function Ge(t){var e=qt();return function(){var n,r=jt(t);if(e){var a=jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return It(this,n)}}function It(t,e){if(e&&(se(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}function tt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t){var e=typeof Map=="function"?new Map:void 0;return kt=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return At(n,arguments,jt(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),vt(a,n)},kt(t)}function At(t,e,n){return At=qt()?Reflect.construct:function(r,a,i){var c=[null];c.push.apply(c,a);var h=new(Function.bind.apply(r,c));return i&&vt(h,i.prototype),h},At.apply(null,arguments)}function qt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(t,e){return vt=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vt(t,e)}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(t)}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var be,fo,Wn,Do,ei,Ia,Xu,Zi,ji,Yl,Wl,Hu,es,Si=function(t){Le(n,t);var e=Ge(n);function n(){var r;ct(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return Mn(tt(r=e.call(this,i.length)),"rows",void 0),Mn(tt(r),"columns",void 0),r.fill(new Array(3)),i.forEach(function(h,g){r[g]=h}),r.columns=i[0].length,r.rows=i.length,Object.setPrototypeOf(tt(r),n.prototype),r}return Et(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Ie(this.map(function(a){return a[r]}))}},{key:"transpose",value:function(){for(var r=[],a=0;a<this.columns;a++)r.push(this.getColumn(a));return At(n,r)}},{key:"cross",value:function(r){var a=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var i=0;i<this.rows;i++)for(var c=this.getRow(i),h=function(x){var j=r.getColumn(x);a[i][x]=c.reduce(function(T,R,G){return T+R*j[G]},0)},g=0;g<r.columns;g++)h(g);return At(n,Ie(a))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new ne(r[0],r[1])})}},{key:"toString",value:function(){var r=_e(this[0],2),a=r[0],i=r[1],c=_e(this[1],2),h=c[0],g=c[1],x=_e(this[2],2),j=x[0],T=x[1];return"matrix(".concat(a," ").concat(i," ").concat(h," ").concat(g," ").concat(j," ").concat(T,")")}},{key:"translate",value:function(r,a){return this.cross(new Pi(r,a))}},{key:"rotate",value:function(r){return this.cross(new Uu(r))}},{key:"scale",value:function(r,a){return this.cross(new Vl(r,a))}}]),n}(kt(Array)),Uu=function(t){Le(n,t);var e=Ge(n);function n(r){var a;return ct(this,n),a=e.call(this,new X(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new X(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new X(0,0,1)),Object.setPrototypeOf(tt(a),n.prototype),a}return Et(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(Si),Vl=function(t){Le(n,t);var e=Ge(n);function n(r,a){var i;return ct(this,n),Mn(tt(i=e.call(this,new X(r,0,0),new X(0,a,0),new X(0,0,1))),"sx",void 0),Mn(tt(i),"sy",void 0),i.sx=r,i.sy=a,Object.setPrototypeOf(tt(i),n.prototype),i}return Et(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(Si),Pi=function(t){Le(n,t);var e=Ge(n);function n(r,a){var i;return ct(this,n),Mn(tt(i=e.call(this,new X(1,0,0),new X(0,1,0),new X(r,a,1))),"tx",void 0),Mn(tt(i),"ty",void 0),i.tx=r,i.ty=a,Object.setPrototypeOf(tt(i),n.prototype),i}return Et(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(Si),Gu={node:!1,edge:!1},u_={node:!0,edge:!0};function vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Np(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vg(Object(n),!0).forEach(function(r){ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ts(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||gg(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ns(t){return function(e){if(Array.isArray(e))return gh(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||gg(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gg(t,e){if(t){if(typeof t=="string")return gh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gh(t,e):void 0}}function gh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cp(t){return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function No(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _t(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var bg,mg=200,_g=(be=function(){function t(r){(function(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,t),ti(this,"rootEl",void 0),No(this,"width",fo,this),No(this,"height",Wn,this),ti(this,"theme",void 0),ti(this,"eventCenter",void 0),ti(this,"modelMap",new Map),ti(this,"topElement",void 0),ti(this,"animation",void 0),ti(this,"idGenerator",void 0),ti(this,"edgeGenerator",void 0),ti(this,"nodeMoveRules",[]),ti(this,"customTrajectory",void 0),No(this,"edgeType",Do,this),No(this,"nodes",ei,this),No(this,"edges",Ia,this),No(this,"overlapMode",Xu,this),No(this,"background",Zi,this),No(this,"transformModel",ji,this),No(this,"editConfigModel",Yl,this),No(this,"gridSize",Wl,this),No(this,"partial",Hu,this),No(this,"fakerNode",es,this);var a,i=r.container,c=r.background,h=c===void 0?{}:c,g=r.grid,x=r.idGenerator,j=r.edgeGenerator,T=r.animation,R=r.customTrajectory;this.background=h,Cp(g)==="object"&&(this.gridSize=g.size),this.rootEl=i,this.editConfigModel=new Bs(r),this.eventCenter=new Tc,this.transformModel=new Tf(this.eventCenter,r),this.theme=Ou(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(a=T)&&typeof a!="boolean"?_u(xn(Gu),a):xn(a===!0?u_:Gu),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=R,this.edgeGenerator=Tp(this,j),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=mi()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,i){return r[a.id]={index:i,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(ns(this.nodes),ns(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,j){return x.zIndex-j.zIndex});for(var a=[],i=[-200,-200],c=[this.width+mg,this.height+mg],h=0;h<r.length;h++){var g=r[h];g.visible&&(!this.partial||g.isSelected||this.isElementInArea(g,i,c,!1,!1))&&a.push(g)}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(i){return i.state===cn.TEXT_EDIT}),a=this.edges.find(function(i){return i.state===cn.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(a){a.isSelected&&r.push(a)}),r}},{key:"getAreaElement",value:function(r,a){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],g=[],x=[];this.nodes.forEach(function(R){return x.push(R)}),this.edges.forEach(function(R){return x.push(R)});for(var j=0;j<x.length;j++){var T=x[j];h&&!T.visible||!this.isElementInArea(T,r,a,i,c)||g.push(T)}return g}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,i=r.y,c=this.rootEl.getBoundingClientRect(),h={x:a-c.left,y:i-c.top},g=ts(this.transformModel.HtmlPointToCanvasPoint([h.x,h.y]),2);return{domOverlayPosition:h,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(r,a,i){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===zn.NODE){for(var g=Br(r=r),x=g.minX,j=g.minY,T=g.maxX,R=g.maxY,G=[{x,y:j},{x:T,y:j},{x:T,y:R},{x,y:R}],Z=h,re=0;re<G.length;re++){var ye=G[re],de=ye.x,we=ye.y,Ce=this.transformModel.CanvasPointToHtmlPoint([de,we]),Je=ts(Ce,2);if(de=Je[0],we=Je[1],Qs([de,we],a,i)!==h){Z=!h;break}}return Z}if(r.BaseType===zn.EDGE){var qe=r=r,bt=qe.startPoint,Ke=qe.endPoint,dt=this.transformModel.CanvasPointToHtmlPoint([bt.x,bt.y]),nt=this.transformModel.CanvasPointToHtmlPoint([Ke.x,Ke.y]),Kt=Qs(dt,a,i),Qt=Qs(nt,a,i);return c?Kt&&Qt:Kt||Qt}return!1}},{key:"graphDataToModel",value:function(r){var a=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=dc(r.nodes,function(i){return a.getModelAfterSnapToGrid(i)}):this.nodes=[],r.edges?this.edges=dc(r.edges,function(i){var c=a.getModel(i.type);if(!c)throw new Error("找不到".concat(i.type,"对应的边。"));return new c(i,a)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(i){var c=i.getData();c&&!i.virtual&&r.push(c)});var a=[];return this.nodes.forEach(function(i){var c=i.getData();c&&!i.virtual&&a.push(c)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],i=0;i<this.nodes.length;i++){var c=this.nodes[i];if(c.isDragging){r=!0;break}a.push(c.getHistoryData())}if(r)return!1;for(var h=!1,g=[],x=0;x<this.edges.length;x++){var j=this.edges[x];if(j.isDragging){h=!0;break}g.push(j.getHistoryData())}return!h&&{nodes:a,edges:g}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],i=0;i<this.edges.length;i++){var c=this.edges[i],h=this.edges[i].sourceNodeId===r,g=this.edges[i].targetNodeId===r;(h||g)&&a.push(c)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,i={nodes:[],edges:[]};return a.forEach(function(c){if(c.BaseType===zn.NODE&&i.nodes.push(c.getData()),c.BaseType===zn.EDGE){var h=c.getData(),g=a.get(h.sourceNodeId)&&a.get(h.targetNodeId);(r||g)&&i.edges.push(h)}}),i}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=mi()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(i){i.sourceNodeId===r&&(i.sourceNodeId=a),i.targetNodeId===r&&(i.targetNodeId=a)}),this.nodesMap[r].model.id=a,this.nodesMap[a]=this.nodesMap[r],a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=mi()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(i){i.id===r&&i.changeEdgeId(a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,i,c,h=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((i=this.edgesMap[r])===null||i===void 0?void 0:i.model);h&&(this.overlapMode===Pn.DEFAULT&&((c=this.topElement)===null||c===void 0||c.setZIndex(),h.setZIndex(9999),this.topElement=h),this.overlapMode===Pn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var i,c,h,g=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);g&&(typeof a=="number"&&(h=a),a==="top"&&(h=_l()),a==="bottom"&&(h=--sh),g.setZIndex(h))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(pt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,i=arguments.length>2?arguments[2]:void 0,c=rr(r);c.id&&this.nodesMap[r.id]&&delete c.id;var h=this.getModelAfterSnapToGrid(c);this.nodes.push(h);var g=h.getData(),x={data:g};return i&&(x.e=i),this.eventCenter.emit(a,x),h}},{key:"getModelAfterSnapToGrid",value:function(r){var a=this.getModel(r.type);if(!a)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));var i=r.x,c=r.y;return i&&c&&(r.x=gi(i,this.gridSize),r.y=gi(c,this.gridSize),Cp(r.text)==="object"&&(r.text.x+=r.x-i,r.text.y+=r.y-c)),new a(r,this)}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),i=a.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var c=this.addNode(i);return c.setSelected(!0),a.setSelected(!1),c.getData()}},{key:"moveNode",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.getMoveDistance(a,i,c),j=ts(x,2);a=j[0],i=j[1],this.moveEdge(r,a,i)}}},{key:"moveNode2Coordinate",value:function(r,a,i){var c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],h=this.nodesMap[r];if(h){var g=h.model,x=g.x,j=g.y,T=a-x,R=i-j;this.moveNode(r,T,R,c)}}},{key:"editText",value:function(r){this.setElementStateById(r,cn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=rr(r),i=a.type;i||(i=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var c=this.getModel(i);if(!c)throw new Error("找不到".concat(i,"对应的边，请确认是否已注册此类型边。"));var h=new c(Np(Np({},a),{},{type:i}),this),g=h.getData();return this.edges.push(h),this.eventCenter.emit(pt.EDGE_ADD,{data:g}),h}},{key:"moveEdge",value:function(r,a,i){for(var c=0;c<this.edges.length;c++){var h=this.edges[c],g=h.textPosition,x=g.x,j=g.y,T=this.edges[c].sourceNodeId===r,R=this.edges[c].targetNodeId===r;T&&h.moveStartPoint(a,i),R&&h.moveEndPoint(a,i),(T||R)&&this.handleEdgeTextMove(h,x,j)}}},{key:"handleEdgeTextMove",value:function(r,a,i){var c;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Wt.POLYLINE_EDGE&&(c=r.text)!==null&&c!==void 0&&c.value){var h=r.text,g=Ll(h,r.points);r.moveText(g.x-h.x,g.y-h.y)}else{var x=r.textPosition,j=x.x,T=x.y;r.moveText(j-a,T-i)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r&&this.edges[i].targetNodeId===a){var c=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(pt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,i=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var i=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(pt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(r,a,i){this.nodes.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(cn.DEFAULT)}),this.edges.forEach(function(c){c.id===r?c.setElementState(a,i):c.setElementState(cn.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(i){i.id===r&&i.updateText(a)}),this.edges.forEach(function(i){i.id===r&&i.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var c=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;c==null||c.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var i=this.getElement(r);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Pn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,i){for(var c=this,h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],g=r.reduce(function(qe,bt){var Ke=c.nodesMap[bt].model.getMoveDistance(a,i,h);return qe[bt]=Ke,qe},{}),x=0;x<this.edges.length;x++){var j=this.edges[x],T=j.textPosition,R=T.x,G=T.y,Z=g[j.sourceNodeId],re=g[j.targetNodeId],ye=void 0,de=void 0;if(Z&&re&&j.modelType===Wt.POLYLINE_EDGE){var we=ts(Z,2);ye=we[0],de=we[1],j.updatePointsList(ye,de)}else{if(Z){var Ce=ts(Z,2);ye=Ce[0],de=Ce[1],j.moveStartPoint(ye,de)}if(re){var Je=ts(re,2);ye=Je[0],de=Je[1],j.moveEndPoint(ye,de)}}(Z||re)&&this.handleEdgeTextMove(j,R,G)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var i=this.getNodeModelById(r);if(i){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));var g=new h(c,this);this.nodes.splice(this.nodesMap[r].index,1,g),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var j=sp(g,x.startPoint,g.width,g.height);x.updateStartPoint(j)}if(x.targetNodeId===r){var T=sp(g,x.endPoint,g.width,g.height);x.updateEndPoint(T)}})}}},{key:"changeEdgeType",value:function(r,a){var i=this.getEdgeModelById(r);if(i&&i.type!==a){var c=i.getData();c.type=a;var h=this.getModel(a);if(!h)throw new Error("找不到".concat(a,"对应的节点，请确认是否已注册此类型节点。"));delete c.pointsList;var g=new h(c,this);this.edges.splice(this.edgesMap[r].index,1,g)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetNodeId===r&&a.push(i)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceNodeId===r&&a.push(i)}),a}},{key:"getAnchorIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.targetAnchorId===r&&a.push(i)}),a}},{key:"getAnchorOutcomingEdge",value:function(r){var a=[];return this.edges.forEach(function(i){i.sourceAnchorId===r&&a.push(i)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.targetNodeId===r&&i.push(a.nodesMap[c.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(r){var a=this,i=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&i.push(a.nodesMap[c.targetNodeId].model)}),i}},{key:"setTheme",value:function(r){this.theme=Ou(Np(Np({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=a||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],i=[];r.forEach(function(T){var R=T.x,G=T.y,Z=T.width,re=T.height,ye=T.getNodeStyle().strokeWidth,de=ye===void 0?0:ye,we=R+Z/2+de,Ce=R-Z/2-de,Je=G+re/2+de,qe=G-re/2-de;a=a.concat([we,Ce].filter(function(bt){return!Number.isNaN(bt)})),i=i.concat([Je,qe].filter(function(bt){return!Number.isNaN(bt)}))});var c=Math.min.apply(Math,ns(a)),h=Math.max.apply(Math,ns(a)),g=Math.min.apply(Math,ns(i)),x=h-c||0,j=Math.max.apply(Math,ns(i))-g||0;return{virtualRectWidth:x,virtualRectHeight:j,virtualRectCenterPositionX:c+x/2,virtualRectCenterPositionY:g+j/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,i=this.height,c=this.rootEl,h=this.transformModel;if(r.length){var g=a||c.clientWidth,x=i||c.clientHeight,j=this.getVirtualRectSize(),T=j.virtualRectCenterPositionX,R=j.virtualRectCenterPositionY;h.focusOn(T,R,g,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,c=this.width,h=this.height,g=this.rootEl,x=this.transformModel;if(i.length){var j=c||g.clientWidth,T=h||g.clientHeight,R=this.getVirtualRectSize(),G=R.virtualRectWidth,Z=R.virtualRectHeight,re=R.virtualRectCenterPositionX,ye=R.virtualRectCenterPositionY,de=(G+a)/j,we=(Z+r)/T,Ce=0;Ce=1/Math.max(de,we);var Je=[j/2,T/2];x.zoom(Ce,Je),x.focusOn(re,ye,j,T)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&c_(e.prototype,n),t}(),fo=_t(be.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=_t(be.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=_t(be.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=_t(be.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ia=_t(be.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xu=_t(be.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pn.DEFAULT}}),Zi=_t(be.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=_t(be.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yl=_t(be.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl=_t(be.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hu=_t(be.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),es=_t(be.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t(be.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"nodesMap"),be.prototype),_t(be.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"edgesMap"),be.prototype),_t(be.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"modelsMap"),be.prototype),_t(be.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"sortElements"),be.prototype),_t(be.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"textEditElement"),be.prototype),_t(be.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"selectElements"),be.prototype),_t(be.prototype,"selectNodes",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"selectNodes"),be.prototype),_t(be.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setFakerNode"),be.prototype),_t(be.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"removeFakerNode"),be.prototype),_t(be.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setModel"),be.prototype),_t(be.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"toFront"),be.prototype),_t(be.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setElementZIndex"),be.prototype),_t(be.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteNode"),be.prototype),_t(be.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"addNode"),be.prototype),_t(be.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"cloneNode"),be.prototype),_t(be.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveNode"),be.prototype),_t(be.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveNode2Coordinate"),be.prototype),_t(be.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"editText"),be.prototype),_t(be.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"addEdge"),be.prototype),_t(be.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveEdge"),be.prototype),_t(be.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeBySourceAndTarget"),be.prototype),_t(be.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeById"),be.prototype),_t(be.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeBySource"),be.prototype),_t(be.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeByTarget"),be.prototype),_t(be.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setElementStateById"),be.prototype),_t(be.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"updateText"),be.prototype),_t(be.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"selectNodeById"),be.prototype),_t(be.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"selectEdgeById"),be.prototype),_t(be.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"selectElementById"),be.prototype),_t(be.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"clearSelectElements"),be.prototype),_t(be.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveNodes"),be.prototype),_t(be.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setDefaultEdgeType"),be.prototype),_t(be.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"changeNodeType"),be.prototype),_t(be.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"changeEdgeType"),be.prototype),_t(be.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeIncomingEdge"),be.prototype),_t(be.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeOutgoingEdge"),be.prototype),_t(be.prototype,"getAnchorIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getAnchorIncomingEdge"),be.prototype),_t(be.prototype,"getAnchorOutcomingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getAnchorOutcomingEdge"),be.prototype),_t(be.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeIncomingNode"),be.prototype),_t(be.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeOutgoingNode"),be.prototype),_t(be.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setTheme"),be.prototype),_t(be.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"resize"),be.prototype),_t(be.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"clearData"),be.prototype),_t(be.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"translateCenter"),be.prototype),_t(be.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"fitView"),be.prototype),_t(be.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"openEdgeAnimation"),be.prototype),_t(be.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"closeEdgeAnimation"),be.prototype),be),s_=_g;function bh(t){return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function mh(){return mh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _h(t,e){return _h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_h(t,e)}function f_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rp(t);if(e){var a=Rp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p_(this,n)}}function p_(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ai(t)}function Ai(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(t)}function Ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Og,d_=ii(bg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&_h(i,c)})(a,t);var e,n,r=f_(a);function a(i){var c;(function(j,T){if(!(j instanceof T))throw new TypeError("Cannot call a class as a function")})(this,a),Ji(Ai(c=r.call(this)),"stepDrag",void 0),Ji(Ai(c),"stepScrollX",0),Ji(Ai(c),"stepScrollY",0),Ji(Ai(c),"onDragging",function(j){var T=j.deltaX,R=j.deltaY;c.setState({isDragging:!0});var G=c.props.graphModel,Z=G.transformModel;G.editConfigModel.stopMoveGraph!==!0&&Z.translate(T,R)}),Ji(Ai(c),"onDragEnd",function(){c.setState({isDragging:!1})}),Ji(Ai(c),"zoomHandler",function(j){var T=c.props,R=T.graphModel,G=R.editConfigModel,Z=R.transformModel,re=R.gridSize,ye=T.graphModel,de=j.deltaX,we=j.deltaY;if(G.stopScrollGraph||j.ctrlKey===!0){if(!G.stopZoomGraph){j.preventDefault();var Ce=ye.getPointByClient({x:j.clientX,y:j.clientY}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y;Z.zoom(j.deltaY<0,[Je,qe])}}else{if(j.preventDefault(),c.stepScrollX+=de,c.stepScrollY+=we,Math.abs(c.stepScrollX)>=re){var bt=c.stepScrollX%re,Ke=c.stepScrollX-bt;Z.translate(-Ke*Z.SCALE_X,0),c.stepScrollX=bt}if(Math.abs(c.stepScrollY)>=re){var dt=c.stepScrollY%re,nt=c.stepScrollY-dt;Z.translate(0,-nt*Z.SCALE_Y),c.stepScrollY=dt}}}),Ji(Ai(c),"clickHandler",function(j){if(j.target.getAttribute("name")==="canvas-overlay"){var T=c.props.graphModel;T.selectElements.size>0&&T.clearSelectElements(),T.eventCenter.emit(pt.BLANK_CLICK,{e:j})}}),Ji(Ai(c),"handleContextMenu",function(j){if(j.target.getAttribute("name")==="canvas-overlay"){j.preventDefault();var T=c.props.graphModel,R=T.getPointByClient({x:j.clientX,y:j.clientY});T.eventCenter.emit(pt.BLANK_CONTEXTMENU,{e:j,position:R})}}),Ji(Ai(c),"mouseDownHandler",function(j){var T=c.props.graphModel,R=T.eventCenter,G=T.editConfigModel,Z=T.transformModel.SCALE_X,re=T.gridSize,ye=j.target,de=!G.adjustEdge&&!G.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||de)&&(G.stopMoveGraph!==!0?(c.stepDrag.setStep(re*Z),c.stepDrag.handleMouseDown(j)):R.emit(pt.BLANK_MOUSEDOWN,{e:j}),c.clickHandler(j))});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new To({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:g,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),c.state={isDragging:!1},c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,h=c.children,g=c.dnd,x=this.state.isDragging;return Object(le.g)("svg",mh({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},g.eventMap()),Object(le.g)("g",{transform:i},h))}}])&&l_(e.prototype,n),a}(le.a))||bg;function Oh(t){return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function h_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wh(t,e){return wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wh(t,e)}function v_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ip(t);if(e){var a=Ip(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g_(this,n)}}function g_(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ip(t)}var b_=ii(Og=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wh(i,c)})(a,t);var e,n,r=v_(a);function a(){return h_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=c.getTools().map(function(x){return Object(le.g)(x,{graphModel:h,logicFlow:c.instance})});return c.components=g,g}},{key:"triggerToolRender",value:function(){var i=this.props,c=i.tool,h=i.graphModel,g=document.querySelector("#ToolOverlay_".concat(h.flowId)),x=c.getInstance();x.components.forEach(function(j){return j(x,g)}),x.components=[]}},{key:"render",value:function(){var i=this.props.graphModel;return Object(le.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(i.flowId)},this.getTools())}}])&&y_(e.prototype,n),a}(le.a))||Og;function xh(t){return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function m_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function __(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eh(t,e){return Eh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Eh(t,e)}function O_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Lp(t);if(e){var a=Lp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w_(this,n)}}function w_(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(t)}var wg,x_=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Eh(i,c)})(a,t);var e,n,r=O_(a);function a(){return m_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.background;return Object(le.g)("div",{className:"lf-background"},Object(le.g)("div",{style:i,className:"lf-background-area"}))}}])&&__(e.prototype,n),a}(le.a);function jh(t){return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function E_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sh(t,e){return Sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sh(t,e)}function S_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zp(t);if(e){var a=zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P_(this,n)}}function P_(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xg(t)}function xg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zp(t)}function A_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Eg=ii(wg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sh(i,c)})(a,t);var e,n,r=S_(a);function a(){var i;E_(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return A_(xg(i=r.call.apply(r,[this].concat(h))),"id",mi()),i}return e=a,(n=[{key:"renderDot",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?2:g,j=i.size,T=i.visible,R=Math.min(Math.max(2,x),j/2),G=1;return T||(G=0),Object(le.g)("rect",{width:R,height:R,rx:R/2,ry:R/2,fill:h,opacity:G})}},{key:"renderMesh",value:function(){var i=this.props,c=i.config,h=c.color,g=c.thickness,x=g===void 0?1:g,j=i.size,T=i.visible,R=Math.min(Math.max(1,x),j/2),G="M ".concat(j," 0 H0 M0 0 V0 ").concat(j),Z=1;return T||(Z=0),Object(le.g)("path",{d:G,stroke:h,strokeWidth:R,opacity:Z})}},{key:"render",value:function(){var i=this.props,c=i.type,h=i.size,g=i.graphModel.transformModel,x=[g.SCALE_X,g.SKEW_Y,g.SKEW_X,g.SCALE_Y,g.TRANSLATE_X,g.TRANSLATE_Y].join(","),j="matrix(".concat(x,")");return Object(le.g)("div",{className:"lf-grid"},Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(le.g)("defs",null,Object(le.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:j,x:"0",y:"0",width:h,height:h},c==="dot"&&this.renderDot(),c==="mesh"&&this.renderMesh())),Object(le.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&j_(e.prototype,n),a}(le.a))||wg;Eg.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function Ph(t){return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function M_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return jg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sg,rs=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=M_(n,2),a=r[0],i=r[1];(a==="style"||Ph(i)!=="object")&&(e[a]=i)}),Object(le.g)("line",e)};function Ah(t){return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Pg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pg(Object(n),!0).forEach(function(r){k_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mh(t,e){return Mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mh(t,e)}function N_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fp(t);if(e){var a=Fp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C_(this,n)}}function C_(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(t)}var Ag,R_=ii(Sg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Mh(i,c)})(a,t);var e,n,r=N_(a);function a(){return T_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,c=i.position,h=i.isShowHorizontal,g=i.isShowVertical,x=i.getStyle(),j=c.x,T=j===void 0?0:j,R=c.y,G=R===void 0?0:R,Z=Bp(Bp({x1:-1e5,y1:G,x2:1e5,y2:G},x),{},{stroke:h?x.stroke:"none"}),re=Bp(Bp({x1:T,y1:-1e5,x2:T,y2:1e5},x),{},{stroke:g?x.stroke:"none"});return Object(le.g)("g",{className:"lf-snapline"},Object(le.g)(rs,Z),Object(le.g)(rs,re))}}])&&D_(e.prototype,n),a}(le.a))||Sg;function kh(t){return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function I_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Mg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function La(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=t.className,c=t.radius,h=e-r/2,g=n-a/2,x={};return Object.entries(t).forEach(function(j){var T=I_(j,2),R=T[0],G=T[1];kh(G)!=="object"&&(x[R]=G)}),x.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",c&&(x.rx=c,x.ry=c),x.x=h,x.y=g,Object(le.g)("rect",x)}function Th(t){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function os(){return os=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(this,arguments)}function kg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kg(Object(n),!0).forEach(function(r){L_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dh(t,e){return Dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dh(t,e)}function F_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xp(t);if(e){var a=Xp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xp(t)}La.defaultProps={className:"",radius:""};var Dg,H_=ii(Ag=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Dh(i,c)})(a,t);var e,n,r=F_(a);function a(){return z_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,c=i.nodes,h=i.editConfigModel,g=h.hoverOutline,x=h.nodeSelectedOutline,j=[];return c.forEach(function(T){if(T.isHovered||T.isSelected){var R=T.isHovered,G=T.isSelected,Z=T.x,re=T.y,ye=T.width,de=T.height;if(x&&G||g&&R){var we=T.getOutlineStyle(),Ce={};if(Object.keys(we).forEach(function(qe){qe!=="hover"&&(Ce[qe]=we[qe])}),R){var Je=we.hover;Ce=Tg(Tg({},Ce),Je)}j.push(Object(le.g)(La,os({transform:T.transform,className:"lf-outline-node",x:Z,y:re,width:ye+10,height:de+10},Ce)))}}}),j}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,c=i.edges,h=i.editConfigModel,g=h.edgeSelectedOutline,x=h.hoverOutline,j=[],T=0;T<c.length;T++){var R=c[T];(g&&R.isSelected||x&&R.isHovered)&&(R.modelType===Wt.LINE_EDGE?j.push(this.getLineOutline(R)):R.modelType===Wt.POLYLINE_EDGE?j.push(this.getPolylineOutline(R)):R.modelType===Wt.BEZIER_EDGE&&j.push(this.getBezierOutline(R)))}return j}},{key:"getLineOutline",value:function(i){var c=i.startPoint,h=i.endPoint,g=(c.x+h.x)/2,x=(c.y+h.y)/2,j=Math.abs(c.x-h.x)+10,T=Math.abs(c.y-h.y)+10,R=i.getOutlineStyle();return Object(le.g)(La,os({className:"lf-outline-edge",x:g,y:x,width:j,height:T},R))}},{key:"getPolylineOutline",value:function(i){var c=i.points,h=Ei(c),g=xi(h,8),x=g.x,j=g.y,T=g.width,R=g.height,G=i.getOutlineStyle();return Object(le.g)(La,os({className:"lf-outline",x,y:j,width:T,height:R},G))}},{key:"getBezierOutline",value:function(i){var c=i.path,h=ar(c),g=xi(h,8),x=g.x,j=g.y,T=g.width,R=g.height,G=i.getOutlineStyle();return Object(le.g)(La,os({className:"lf-outline",x,y:j,width:T,height:R},G))}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&B_(e.prototype,n),a}(le.a))||Ag;function Nh(t){return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function U_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ng(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ng(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ng(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function is(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.r,c=i===void 0?4:i,h=t.className,g={cx:n,cy:a,r:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var j=U_(x,2),T=j[0],R=j[1];Nh(R)!=="object"&&(g[T]=R)}),g.className=h?"lf-basic-shape ".concat(h):"lf-basic-shape",Object(le.g)("circle",g)}function Ch(t){return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function G_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Cg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $l(){return $l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}function Rg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ig(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e,n){return e&&Ig(t.prototype,e),n&&Ig(t,n),t}function zg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rh(t,e)}function Rh(t,e){return Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rh(t,e)}function Bg(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Up(t);if(e){var a=Up(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y_(this,n)}}function Y_(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hp(t)}function Hp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(t)}function Ih(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fg,Xg=function(t){zg(n,t);var e=Bg(n);function n(){var r;return Rg(this,n),Ih(Hp(r=e.call(this)),"dragHandler",void 0),Ih(Hp(r),"onDragging",function(a){var i=a.event,c=r.props,h=c.graphModel,g=c.bezierModel,x=c.type,j=h.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,T=j.x,R=j.y;g.updateAdjustAnchor({x:T,y:R},x),h.eventCenter.emit(pt.EDGE_ADJUST,{data:g.getData()})}),Ih(Hp(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new To({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Lg(n,[{key:"render",value:function(){var r=this,a=this.props.position,i=a.x,c=a.y,h=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(le.g)(is,$l({className:"lf-bezier-adjust-anchor",x:i,y:c},h,{onMouseDown:function(g){r.dragHandler.handleMouseDown(g)}}))}}]),n}(le.a),W_=ii(Dg=function(t){zg(n,t);var e=Bg(n);function n(){return Rg(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getBezierAdjust",value:function(r,a){var i=r.path,c=r.id,h=G_(ar(i),4),g=h[0],x=h[1],j=h[2],T=h[3],R=r.getEdgeStyle().adjustLine,G=[];return G.push(Object(le.g)(rs,$l({x1:g.x,y1:g.y,x2:x.x,y2:x.y},R))),G.push(Object(le.g)(Xg,{position:x,bezierModel:r,graphModel:a,key:"".concat(c,"_ePre"),type:"sNext"})),G.push(Object(le.g)(rs,$l({x1:T.x,y1:T.y,x2:j.x,y2:j.y},R))),G.push(Object(le.g)(Xg,{position:j,bezierModel:r,graphModel:a,key:"".concat(c,"_sNext"),type:"ePre"})),G}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,i=[],c=0;c<a.length;c++){var h=a[c];h.isSelected&&h.modelType===Wt.BEZIER_EDGE&&h.draggable&&i.push(this.getBezierAdjust(h,r))}return i}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(le.a))||Dg;function Lh(t){return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function V_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zh(t,e){return zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zh(t,e)}function K_(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Gp(t);if(e){var a=Gp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q_(this,n)}}function q_(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(t)}var Hg,Z_=ii(Fg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zh(i,c)})(a,t);var e,n,r=K_(a);function a(){return V_(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(le.g)("g",{transform:i},c))}}])&&$_(e.prototype,n),a}(le.a))||Fg;function Bh(t){return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function Fh(){return Fh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function J_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xh(t,e){return Xh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xh(t,e)}function e1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Yp(t);if(e){var a=Yp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return t1(this,n)}}function t1(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(t)}var n1=ii(Hg=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Xh(i,c)})(a,t);var e,n,r=e1(a);function a(){return J_(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getComponent",value:function(i,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",g=this.props.getView,x=g(i.type);return Object(le.g)(x,{key:i.id,model:i,graphModel:c,overlay:h})}},{key:"render",value:function(){var i=this,c=this.props,h=c.graphModel,g=c.tool,x=c.options,j=c.dnd,T=c.snaplineModel,R={};x.width&&(R.width="".concat(h.width,"px")),x.height&&(R.height="".concat(h.height,"px"));var G=x.grid,Z=h.fakerNode,re=h.editConfigModel.adjustEdge;return Object(le.g)("div",{className:"lf-graph","flow-id":h.flowId,style:R},Object(le.g)(d_,{graphModel:h,dnd:j},Object(le.g)("g",{className:"lf-base"},dc(h.sortElements,function(ye){return i.getComponent(ye,h)})),Z?this.getComponent(Z,h):""),Object(le.g)(Z_,{graphModel:h},Object(le.g)(H_,{graphModel:h}),re?Object(le.g)(W_,{graphModel:h}):"",x.snapline!==!1?Object(le.g)(R_,{snaplineModel:T}):""),Object(le.g)(b_,{graphModel:h,tool:g}),x.background&&Object(le.g)(x_,{background:x.background}),x.grid&&Object(le.g)(Eg,Fh({},G,{graphModel:h})))}}],n&&Q_(e.prototype,n),a}(le.a))||Hg,r1=n1;function Ug(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ug(Object(n),!0).forEach(function(r){Qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ug(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i1=function(){function t(r){var a=this;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),Qi(this,"nodeConfig",void 0),Qi(this,"lf",void 0),Qi(this,"fakerNode",void 0),Qi(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),Qi(this,"dragEnter",function(c){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Wp(Wp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),Qi(this,"onDragOver",function(c){if(c.preventDefault(),a.fakerNode){var h=a.clientToLocalPoint({x:c.clientX,y:c.clientY}),g=h.x,x=h.y;a.fakerNode.moveTo(g,x);var j=a.fakerNode.getData();a.lf.setNodeSnapLine(j),a.lf.graphModel.eventCenter.emit(pt.NODE_DND_DRAG,{data:j})}return!1}),Qi(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),Qi(this,"onDrop",function(c){a.lf.graphModel&&c&&a.nodeConfig&&(a.lf.addNode(Wp(Wp({},a.nodeConfig),a.clientToLocalPoint({x:c.clientX,y:c.clientY})),pt.NODE_DND_ADD,c),c.preventDefault(),c.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)});var i=r.lf;this.lf=i}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,i=r.y,c=ma(this.lf.options,["grid","size"]),h=this.lf.graphModel.getPointByClient({x:a,y:i}).canvasOverlayPosition,g=h.x,x=h.y;return{x:gi(g,c),y:gi(x,c)}}},{key:"startDrag",value:function(r){var a=this.lf.graphModel.editConfigModel;a!=null&&a.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&o1(e.prototype,n),t}();function Gg(t){var e=t.container,n=t.grid,r=t.width,a=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof a=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=qn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),qn({},Wg,t)}var ln,Yg,Wg={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Hh(t){return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function Uh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Vg(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Vg(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$g(Object(n),!0).forEach(function(r){Kg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$g(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function u1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kl(){return Kl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=s1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},Kl.apply(this,arguments)}function s1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=za(t))!==null;);return t}function Gh(t,e){return Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gh(t,e)}function l1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=za(t);if(e){var a=za(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f1(this,n)}}function f1(t,e){if(e&&(Hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $p(t)}function $p(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function za(t){return za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},za(t)}function Kg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ni(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Yh=(ln=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Gh(i,c)})(a,t);var e,n,r=l1(a);function a(){var i;u1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Kg($p(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.BEZIER_EDGE),a1($p(i),"path",Yg,$p(i)),i}return e=a,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Kl(za(a.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return Vp(Vp({},Kl(za(a.prototype),"getEdgeStyle",this).call(this)),xn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,c=0;return this.pointsList.forEach(function(h){var g=h.x,x=h.y;i+=g,c+=x}),{x:i/this.pointsList.length,y:c/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Kl(za(a.prototype),"getData",this).call(this),c=this.pointsList.map(function(h){return{x:h.x,y:h.y}});return Vp(Vp({},i),{},{pointsList:c})}},{key:"getControls",value:function(){var i=this.startPoint,c=this.endPoint;return Rl({start:i,end:c,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var c=Uh(i,4),h=c[0],g=c[1],x=c[2],j=c[3];return"M ".concat(h.x," ").concat(h.y,`
    C `).concat(g.x," ").concat(g.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(j.x," ").concat(j.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),c=i.sNext,h=i.ePre;this.updatePath(c,h)}},{key:"updatePath",value:function(i,c){i=xn(i),c=xn(c);var h={x:this.startPoint.x,y:this.startPoint.y},g={x:this.endPoint.x,y:this.endPoint.y};if(!i||!c){var x=this.getControls();i=x.sNext,c=x.ePre}this.pointsList=[h,i,c,g],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=Object.assign({},i),this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=Object.assign({},i),this.updatePoints()}},{key:"moveStartPoint",value:function(i,c){this.startPoint.x+=i,this.startPoint.y+=c;var h=Uh(this.pointsList,3),g=h[1],x=h[2];g.x+=i,g.y+=c,this.updatePath(g,x)}},{key:"moveEndPoint",value:function(i,c){this.endPoint.x+=i,this.endPoint.y+=c;var h=Uh(this.pointsList,3),g=h[1],x=h[2];x.x+=i,x.y+=c,this.updatePath(g,x)}},{key:"updateAdjustAnchor",value:function(i,c){c==="sNext"?this.pointsList[1]=i:c==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var c=i.startPoint,h=i.endPoint,g=i.sourceNode,x=i.targetNode,j=Rl({start:c,end:h,sourceNode:g,targetNode:x,offset:this.offset}),T=j.sNext,R=j.ePre;this.pointsList=[c,T,R,h],this.initPoints()}}])&&c1(e.prototype,n),a}(Na),Yg=ni(ln.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ni(ln.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"initPoints"),ln.prototype),ni(ln.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updatePoints"),ln.prototype),ni(ln.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateStartPoint"),ln.prototype),ni(ln.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateEndPoint"),ln.prototype),ni(ln.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveStartPoint"),ln.prototype),ni(ln.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"moveEndPoint"),ln.prototype),ni(ln.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAdjustAnchor"),ln.prototype),ni(ln.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustStart"),ln.prototype),ni(ln.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"getAdjustEnd"),ln.prototype),ni(ln.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ln.prototype,"updateAfterAdjustStartAndEnd"),ln.prototype),ln),Ye,qg,Zg,Jg,Qg,eb,tb,nb,rb,ob,ib,ab,ub,cb,sb,lb,fb,pb,db,hb,yb,vb,gb,p1=function(t){return t==null};function d1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||bb(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wh(t){return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function bb(t,e){if(t){if(typeof t=="string")return mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mb(t,e):void 0}}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(n),!0).forEach(function(r){eo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gt(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var ea,Ob,ta=(Ye=function(){function t(r,a){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),eo(this,"id",""),Vn(this,"type",qg,this),Vn(this,"x",Zg,this),Vn(this,"y",Jg,this),Vn(this,"text",Qg,this),Vn(this,"properties",eb,this),Vn(this,"_width",tb,this),Vn(this,"_height",nb,this),Vn(this,"anchorsOffset",rb,this),Vn(this,"isSelected",ob,this),Vn(this,"isHovered",ib,this),Vn(this,"isShowAnchor",ab,this),Vn(this,"isDragging",ub,this),Vn(this,"isHitable",cb,this),Vn(this,"draggable",sb,this),Vn(this,"visible",lb,this),Vn(this,"enableRotate",fb,this),eo(this,"virtual",!1),eo(this,"graphModel",void 0),Vn(this,"zIndex",pb,this),Vn(this,"state",db,this),Vn(this,"autoToFront",hb,this),Vn(this,"style",yb,this),Vn(this,"transform",vb,this),Vn(this,"_rotate",gb,this),eo(this,"BaseType",zn.NODE),eo(this,"modelType",Wt.NODE),eo(this,"additionStateData",void 0),eo(this,"targetRules",[]),eo(this,"sourceRules",[]),eo(this,"moveRules",[]),eo(this,"hasSetTargetRules",!1),eo(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var a=this.x,i=a===void 0?0:a,c=this.y,h=c===void 0?0:c;this.transform=new Pi(-i,-h).rotate(r).translate(i,h).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,i=a&&a(r.type),c=this.createId();r.id=c||i||mi()}this.formatText(r),qn(this,function(h){return Uo(h,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Pn.INCREASE&&(this.zIndex=r.zIndex||_l())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,i=r.y,c=r.value,h=this.properties;Object(d.x)(h)&&(h=Object(d.I)(h));var g={id:this.id,type:this.type,x:this.x,y:this.y,properties:h};return this.rotate&&(g.rotate=this.rotate),this.graphModel.overlapMode===Pn.INCREASE&&(g.zIndex=this.zIndex),c&&(g.text={x:a,y:i,value:c}),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return Hr(Hr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return xn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return xn(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return xn(a)}},{key:"getAnchorLineStyle",value:function(r){var a=this.graphModel.theme.anchorLine;return xn(a)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return xn(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,i,c){var h=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var g,x=!0,j=0;j<h.length;j++){var T=h[j];if(!T.validate.call(this,this,r,a,i,c)){x=!1,g=T.message;break}}return{isAllPass:x,msg:g}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,i,c){var h=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var g,x=!0,j=0;j<h.length;j++){var T=h[j];if(!T.validate.call(this,r,this,a,i,c)){x=!1,g=T.message;break}}return{isAllPass:x,msg:g}}},{key:"isAllowMoveNode",value:function(r,a){var i,c=!0,h=!0,g=function(T,R){var G=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!G){if(Array.isArray(T)||(G=bb(T))||R&&T&&typeof T.length=="number"){G&&(T=G);var Z=0,re=function(){};return{s:re,n:function(){return Z>=T.length?{done:!0}:{done:!1,value:T[Z++]}},e:function(Ce){throw Ce},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,de=!0,we=!1;return{s:function(){G=G.call(T)},n:function(){var Ce=G.next();return de=Ce.done,Ce},e:function(Ce){we=!0,ye=Ce},f:function(){try{de||G.return==null||G.return()}finally{if(we)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(g.s();!(i=g.n()).done;){var x=(0,i.value)(this,r,a);if(!x)return!1;if(Wh(x)==="object"){var j=x;if(j.x===!1&&j.y===!1)return!1;c=c&&j.x,h=h&&j.y}}}catch(T){g.e(T)}finally{g.f()}return{x:c,y:h}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,i=this.x,c=this.y;return r&&r.length>0?r.map(function(h,g){return h.length?(h=h,{id:"".concat(a,"_").concat(g),x:i+h[0],y:c+h[1]}):Hr(Hr({},h=h),{},{x:i+h.x,y:c+h.y,id:h.id||"".concat(a,"_").concat(g)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(a,i){for(var c,h=Ar(i),g=Number.MAX_SAFE_INTEGER,x=0;x<h.length;x++){var j=lo(a.x,a.y,h[x].x,h[x].y);j<g&&(g=j,c={index:x,anchor:cl(cl({},h[x]),{},{x:h[x].x,y:h[x].y,id:h[x].id})})}return c}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),a=this.x,i=this.y,c=this.rotate;return r.forEach(function(h){var g=h.x,x=h.y,j=d1(new Si([g,x,1]).translate(-a,-i).rotate(c).translate(a,i)[0],2),T=j[0],R=j[1];h.x=T,h.y=R}),r}},{key:"getAnchorInfo",value:function(r){if(!p1(r))for(var a=0;a<this.anchors.length;a++){var i=this.anchors[a];if(i.id===r)return i}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1;if(i)c=!0,h=!0;else{var g=this.isAllowMoveNode(r,a);typeof g=="boolean"?(c=g,h=g):(c=g.x,h=g.y)}if(c){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(h){var j=this.y+a;this.y=j,this.text&&this.moveText(0,a)}return c||h}},{key:"getMoveDistance",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=!1,h=!1,g=0,x=0;if(i)c=!0,h=!0;else{var j=this.isAllowMoveNode(r,a);typeof j=="boolean"?(c=j,h=j):(c=j.x,h=j.y)}if(c&&r){var T=this.x+r;this.x=T,this.text&&this.moveText(r,0),g=r}if(h&&a){var R=this.y+a;this.y=R,this.text&&this.moveText(0,a),x=a}return[g,x]}},{key:"moveTo",value:function(r,a){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=r-this.x,h=a-this.y;return!(!i&&!this.isAllowMoveNode(c,h)||(this.text&&this.text&&this.moveText(c,h),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var i=this.text,c=i.x,h=i.y,g=i.value,x=i.draggable,j=i.editable;this.text={value:g,editable:j,draggable:x,x:c+r,y:h+a}}},{key:"updateText",value:function(r){this.text=Hr(Hr({},Object(d.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=Hr(Hr({},Object(d.I)(this.properties)),{},eo({},r,rr(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Hr(Hr({},Object(d.I)(this.properties)),rr(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=Hr(Hr({},this.style),{},eo({},r,rr(a)))}},{key:"setStyles",value:function(r){this.style=Hr(Hr({},this.style),rr(r))}},{key:"updateStyles",value:function(r){this.style=Hr({},rr(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){qn(this,r)}}],n&&h1(e.prototype,n),t}(),qg=Gt(Ye.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zg=Gt(Ye.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jg=Gt(Ye.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qg=Gt(Ye.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),eb=Gt(Ye.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),tb=Gt(Ye.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),nb=Gt(Ye.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),rb=Gt(Ye.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ob=Gt(Ye.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ib=Gt(Ye.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ab=Gt(Ye.prototype,"isShowAnchor",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ub=Gt(Ye.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cb=Gt(Ye.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sb=Gt(Ye.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lb=Gt(Ye.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fb=Gt(Ye.prototype,"enableRotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pb=Gt(Ye.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),db=Gt(Ye.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hb=Gt(Ye.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yb=Gt(Ye.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vb=Gt(Ye.prototype,"transform",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gb=Gt(Ye.prototype,"_rotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gt(Ye.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"incoming"),Ye.prototype),Gt(Ye.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(Ye.prototype,"outgoing"),Ye.prototype),Gt(Ye.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"addNodeMoveRules"),Ye.prototype),Gt(Ye.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"move"),Ye.prototype),Gt(Ye.prototype,"getMoveDistance",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getMoveDistance"),Ye.prototype),Gt(Ye.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveTo"),Ye.prototype),Gt(Ye.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveText"),Ye.prototype),Gt(Ye.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateText"),Ye.prototype),Gt(Ye.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setSelected"),Ye.prototype),Gt(Ye.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHovered"),Ye.prototype),Gt(Ye.prototype,"setIsShowAnchor",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setIsShowAnchor"),Ye.prototype),Gt(Ye.prototype,"setEnableRotate",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setEnableRotate"),Ye.prototype),Gt(Ye.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHitable"),Ye.prototype),Gt(Ye.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setElementState"),Ye.prototype),Gt(Ye.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperty"),Ye.prototype),Gt(Ye.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperties"),Ye.prototype),Gt(Ye.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"deleteProperty"),Ye.prototype),Gt(Ye.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyle"),Ye.prototype),Gt(Ye.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyles"),Ye.prototype),Gt(Ye.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStyles"),Ye.prototype),Gt(Ye.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setZIndex"),Ye.prototype),Gt(Ye.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAttributes"),Ye.prototype),Ye);function Vh(t){return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function wb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(n),!0).forEach(function(r){Eb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $h(){return $h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=b1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},$h.apply(this,arguments)}function b1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=as(t))!==null;);return t}function Kh(t,e){return Kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kh(t,e)}function m1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=as(t);if(e){var a=as(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _1(this,n)}}function _1(t,e){if(e&&(Vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kp(t)}function Kp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},as(t)}function Eb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qh(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Dr,jb,Sb,Zh=(ea=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Kh(i,c)})(a,t);var e,n,r=m1(a);function a(){var i;v1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Eb(Kp(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.CIRCLE_NODE),y1(Kp(i),"r",Ob,Kp(i)),i}return e=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=$h(as(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.circle;return xb(xb({},i),xn(c))}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.r;return[{x:i,y:c-h,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+h,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&g1(e.prototype,n),a}(ta),Ob=qh(ea.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),qh(ea.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(ea.prototype,"width"),ea.prototype),qh(ea.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(ea.prototype,"height"),ea.prototype),ea);o(129);function Jh(t){return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function Qh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Pb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(n),!0).forEach(function(r){Tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kb(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function O1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ey(){return ey=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=x1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},ey.apply(this,arguments)}function x1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=cs(t))!==null;);return t}function ty(t,e){return ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ty(t,e)}function E1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cs(t);if(e){var a=cs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j1(this,n)}}function j1(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return us(t)}function us(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cs(t){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cs(t)}function Tb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ss(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Mi,Db,Nb,ny=(Dr=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ty(i,c)})(a,t);var e,n,r=E1(a);function a(){var i;O1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Tb(us(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.DIAMOND_NODE),kb(us(i),"rx",jb,us(i)),kb(us(i),"ry",Sb,us(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=ey(cs(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.diamond;return Mb(Mb({},i),xn(c))}},{key:"points",get:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[[i,c-g],[i+h,c],[i,c+g],[i-h,c]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=Qh(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=Qh(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(c,h){var g=Qh(c,2);return{x:g[0],y:g[1],id:"".concat(i.id,"_").concat(h)}})}}])&&w1(e.prototype,n),a}(ta),jb=ss(Dr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Sb=ss(Dr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ss(Dr.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Dr.prototype,"points"),Dr.prototype),ss(Dr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Dr.prototype,"pointsPosition"),Dr.prototype),ss(Dr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Dr.prototype,"width"),Dr.prototype),ss(Dr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Dr.prototype,"height"),Dr.prototype),Dr);function ry(t){return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function Cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cb(Object(n),!0).forEach(function(r){Lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ib(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function S1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oy(){return oy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=A1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},oy.apply(this,arguments)}function A1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=fs(t))!==null;);return t}function iy(t,e){return iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},iy(t,e)}function M1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fs(t);if(e){var a=fs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k1(this,n)}}function k1(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ls(t)}function ls(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fs(t){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fs(t)}function Lb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var Co,zb,ay=(Mi=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&iy(i,c)})(a,t);var e,n,r=M1(a);function a(){var i;S1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Lb(ls(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.ELLIPSE_NODE),Ib(ls(i),"rx",Db,ls(i)),Ib(ls(i),"ry",Nb,ls(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=oy(fs(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.ellipse;return Rb(Rb({},i),xn(c))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.rx,g=this.ry;return[{x:i,y:c-g,id:"".concat(this.id,"_0")},{x:i+h,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g,id:"".concat(this.id,"_2")},{x:i-h,y:c,id:"".concat(this.id,"_3")}]}}])&&P1(e.prototype,n),a}(ta),Db=qp(Mi.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Nb=qp(Mi.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),qp(Mi.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Mi.prototype,"width"),Mi.prototype),qp(Mi.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Mi.prototype,"height"),Mi.prototype),Mi);function uy(t){return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function cy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Bb(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bb(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fb(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function D1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sy(){return sy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=C1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},sy.apply(this,arguments)}function C1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ps(t))!==null;);return t}function ly(t,e){return ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ly(t,e)}function R1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ps(t);if(e){var a=ps(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I1(this,n)}}function I1(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zp(t)}function Zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ps(t){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ps(t)}function Hb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jp(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var fy,Ub,py=(Co=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ly(i,c)})(a,t);var e,n,r=R1(a);function a(){var i;D1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Hb(Zp(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.POLYGON_NODE),T1(Zp(i),"points",zb,Zp(i)),i}return e=a,(n=[{key:"getNodeStyle",value:function(){var i=sy(ps(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.polygon;return Xb(Xb({},i),xn(c))}},{key:"pointsPosition",get:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return this.points.map(function(x){return{x:x[0]+i-h/2,y:x[1]+c-g/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=cy(h,1)[0];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(h){var g=cy(h,2)[1];g<i&&(i=g),g>c&&(c=g)}),c-i}},{key:"getDefaultAnchor",value:function(){var i=this,c=this.x,h=this.y,g=this.width,x=this.height;return this.points.map(function(j,T){var R=cy(j,2),G=R[0],Z=R[1];return{x:c+G-g/2,y:h+Z-x/2,id:"".concat(i.id,"_").concat(T)}})}}])&&N1(e.prototype,n),a}(ta),zb=Jp(Co.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Jp(Co.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Co.prototype,"pointsPosition"),Co.prototype),Jp(Co.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Co.prototype,"width"),Co.prototype),Jp(Co.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Co.prototype,"height"),Co.prototype),Co);function dy(t){return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function Gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gb(Object(n),!0).forEach(function(r){Wb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function z1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(){return hy=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=F1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},hy.apply(this,arguments)}function F1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ds(t))!==null;);return t}function yy(t,e){return yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yy(t,e)}function X1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ds(t);if(e){var a=ds(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return H1(this,n)}}function H1(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qp(t)}function Qp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ds(t){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ds(t)}function Wb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ba,vy=(fy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&yy(i,c)})(a,t);var e,n,r=X1(a);function a(){var i;z1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Wb(Qp(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.RECT_NODE),L1(Qp(i),"radius",Ub,Qp(i)),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=hy(ds(a.prototype),"getNodeStyle",this).call(this),c=this.graphModel.theme.rect;return Yb(Yb({},i),xn(c))}}])&&B1(e.prototype,n),a}(ta),Ub=function(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}(fy.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fy);function gy(t){return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Vb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vb(Object(n),!0).forEach(function(r){qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function by(){return by=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var r=Y1(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},by.apply(this,arguments)}function Y1(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hs(t))!==null;);return t}function my(t,e){return my=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},my(t,e)}function W1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hs(t);if(e){var a=hs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V1(this,n)}}function V1(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kb(t)}function Kb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hs(t){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hs(t)}function qb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zb(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var _y=(Ba=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&my(i,c)})(a,t);var e,n,r=W1(a);function a(){var i;U1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return qb(Kb(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.TEXT_NODE),i}return e=a,(n=[{key:"getTextStyle",value:function(){var i=by(hs(a.prototype),"getTextStyle",this).call(this),c=this.graphModel.theme.text;return $b($b({},i),xn(c))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return ml({rows:i,fontSize:c,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),c=this.getTextStyle().fontSize;return ml({rows:i,fontSize:c,rowsLength:i.length}).height}}])&&G1(e.prototype,n),a}(ta),Zb(Ba.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Ba.prototype,"width"),Ba.prototype),Zb(Ba.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Ba.prototype,"height"),Ba.prototype),Ba);function Oy(t){return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function $1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wy(t,e)}function q1(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ed(t);if(e){var a=ed(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z1(this,n)}}function Z1(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jb(t)}function Jb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(t)}function J1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ri,Qb,em,tm,xy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&wy(i,c)})(a,t);var e,n,r=q1(a);function a(){var i;$1(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return J1(Jb(i=r.call.apply(r,[this].concat(h))),"modelType",Wt.HTML_NODE),i}return e=a,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,c=this.y,h=this.width,g=this.height;return[{x:i,y:c-g/2,id:"".concat(this.id,"_0")},{x:i+h/2,y:c,id:"".concat(this.id,"_1")},{x:i,y:c+g/2,id:"".concat(this.id,"_2")},{x:i-h/2,y:c,id:"".concat(this.id,"_3")}]}}])&&K1(e.prototype,n),a}(ta);function nm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ey(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ql(t,e,n,r,a){var i={};return Object.keys(r).forEach(function(c){i[c]=r[c]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(c,h){return h(t,e,c)||c},i),a&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(t,e,i),i=null),i}var om=(ri=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),rm(this,"graphModel",void 0),Ey(this,"isShowHorizontal",Qb,this),Ey(this,"isShowVertical",em,this),Ey(this,"position",tm,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?nm(Object(i),!0).forEach(function(c){rm(r,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):nm(Object(i)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(i,c))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var i=r.x,c=r.y,h=!1,g=!1,x=0;x<a.length;x++){var j=a[x];if(j.id!==r.id&&(i===j.x&&(h=!0),c===j.y&&(g=!0),h&&g))break}return{isShowVertical:h,isShowHorizontal:g,position:{x:i,y:c}}}},{key:"getHorizontalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=Br(x);else{var j=this.graphModel.getNodeModelById(g);c=Br(j)}}for(var T=0;T<a.length;T++){var R=a[T];if(R.id!==r.id){var G=Br(R);if(G.minY===c.minY||G.maxY===c.minY){h=!0,i=c.minY;break}if(G.minY===c.maxY||G.maxY===c.maxY){h=!0,i=c.maxY;break}}}return qn({isShowHorizontal:h,position:{y:i}})}},{key:"getVerticalSnapline",value:function(r,a){var i,c,h=!1,g=r.id;if(g){var x=this.graphModel.fakerNode;if(x&&x.id===g)c=Br(x);else{var j=this.graphModel.getNodeModelById(g);c=Br(j)}}for(var T=0;T<a.length;T++){var R=a[T];if(R.id!==r.id){var G=Br(R);if(G.minX===c.minX||G.maxX===c.minX){h=!0,i=c.minX;break}if(G.minX===c.maxX||G.maxX===c.maxX){h=!0,i=c.maxX;break}}}return qn({isShowVertical:h,position:{x:i}})}},{key:"getSnapLinePosition",value:function(r,a){var i=this.getCenterSnapLine(r,a),c=i.isShowHorizontal,h=i.isShowVertical;if(!c){var g=this.getHorizontalSnapline(r,a);g.isShowHorizontal&&(i.isShowHorizontal=g.isShowHorizontal,i.position.y=g.position.y)}if(!h){var x=this.getVerticalSnapline(r,a);x.isShowVertical&&(i.isShowVertical=x.isShowVertical,i.position.x=x.position.x)}return i}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,i=r.isShowVertical,c=r.position;this.position=c,this.isShowHorizontal=a,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,i=this.getSnapLinePosition(r,a);this.setSnaplineInfo(i)}}],n&&Q1(e.prototype,n),t}(),Qb=ql(ri.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),em=ql(ri.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tm=ql(ri.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ql(ri.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(ri.prototype,"clearSnapline"),ri.prototype),ql(ri.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(ri.prototype,"setNodeSnapLine"),ri.prototype),ri),Zl=new Map,im=function(t){var e=mi(),n=window.requestAnimationFrame(function r(){if(t(),Zl.get(e)){var a=window.requestAnimationFrame(r);Zl.set(e,a)}});return Zl.set(e,n),e},td=function(t){var e=Zl.get(t);e&&(window.cancelAnimationFrame(e),Zl.delete(t))};function jy(t){return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function Jl(){return Jl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}function am(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?am(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return um(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return um(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function um(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(t,e){return Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sy(t,e)}function nO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=nd(t);if(e){var a=nd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rO(this,n)}}function rO(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ki(t)}function ki(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nd(t)}function Ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Sy(i,c)})(a,t);var e,n,r=nO(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),Ti(ki(i=r.call(this)),"preTargetNode",void 0),Ti(ki(i),"sourceRuleResults",void 0),Ti(ki(i),"targetRuleResults",void 0),Ti(ki(i),"dragHandler",void 0),Ti(ki(i),"t",void 0),Ti(ki(i),"onDragStart",function(c){var h=c.event,g=i.props,x=g.anchorData,j=g.nodeModel,T=g.graphModel;T.overlapMode,T.selectNodeById(j.id),j.autoToFront&&T.toFront(j.id),T.eventCenter.emit(pt.ANCHOR_DRAGSTART,{data:x,e:h,nodeModel:j}),i.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),Ti(ki(i),"onDragging",function(c){var h=c.event,g=i.props,x=g.graphModel,j=g.nodeModel,T=g.anchorData,R=x.transformModel,G=x.eventCenter,Z=x.width,re=x.height,ye=x.editConfigModel,de=ye.autoExpand,we=ye.stopMoveGraph,Ce=h.clientX,Je=h.clientY,qe=x.getPointByClient({x:Ce,y:Je}),bt=qe.domOverlayPosition,Ke=bt.x,dt=bt.y,nt=qe.canvasOverlayPosition,Kt=nt.x,Qt=nt.y;i.t&&td(i.t);var Nt=[];Ke<10?Nt=[10,0]:Ke+10>Z?Nt=[-10,0]:dt<10?Nt=[0,10]:dt+10>re&&(Nt=[0,-10]),i.setState({endX:Kt,endY:Qt,dragging:!0}),i.moveAnchorEnd(Kt,Qt),Nt.length>0&&!we&&de&&(i.t=im(function(){var rn=eO(Nt,2),Hn=rn[0],Un=rn[1];R.translate(Hn,Un);var Or=i.state,yo=Or.endX,vo=Or.endY;i.setState({endX:yo-Hn,endY:vo-Un}),i.moveAnchorEnd(yo-Hn,vo-Un)})),G.emit(pt.ANCHOR_DRAG,{data:T,e:h,nodeModel:j})}),Ti(ki(i),"onDragEnd",function(c){var h=c.event;i.t&&td(i.t);var g=i.checkEnd(h);i.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var x=i.props,j=x.graphModel,T=x.nodeModel,R=x.anchorData;j.eventCenter.emit(pt.ANCHOR_DRAGEND,{data:R,e:h,nodeModel:T,edgeModel:g})}),Ti(ki(i),"checkEnd",function(c){var h=i.props,g=h.graphModel,x=h.nodeModel,j=h.anchorData,T=j.x,R=j.y,G=j.id,Z=(g.edgeType,i.state),re=Z.endX,ye=Z.endY,de=Z.dragging,we=Bc({x:re,y:ye},g);if(i.preTargetNode&&i.preTargetNode.state!==cn.DEFAULT&&i.preTargetNode.setElementState(cn.DEFAULT),de&&we&&we.node){var Ce=we.node,Je=we.anchor.id,qe="".concat(x.id,"_").concat(Ce.id,"_").concat(Je,"_").concat(G),bt=i.sourceRuleResults.get(qe)||{},Ke=bt.isAllPass,dt=bt.msg,nt=i.targetRuleResults.get(qe)||{},Kt=nt.isAllPass,Qt=nt.msg;if(Ke&&Kt){Ce.setElementState(cn.DEFAULT);var Nt=g.edgeGenerator(x.getData(),g.getNodeModelById(we.node.id).getData()),rn=g.addEdge(Ql(Ql({},Nt),{},{sourceNodeId:x.id,sourceAnchorId:G,startPoint:{x:T,y:R},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}})),Hn=i.props.anchorData;return g.eventCenter.emit(pt.ANCHOR_DROP,{data:Hn,e:c,nodeModel:x,edgeModel:rn}),rn}var Un=Ce.getData();return g.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:Un,msg:Qt||dt||"不允许添加连线"}),null}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},i.dragHandler=new To({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return e=a,(n=[{key:"getAnchorShape",value:function(){var i=this.props,c=i.anchorData,h=i.style,g=i.node.getAnchorShape(c);if(g)return g;var x=c.x,j=c.y,T=Ql(Ql({},h),h.hover);return Object(le.g)("g",null,Object(le.g)(is,Jl({className:"lf-node-anchor-hover"},T,{x,y:j})),Object(le.g)(is,Jl({className:"lf-node-anchor"},h,{x,y:j})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var i=this.props,c=i.graphModel,h=c.getAnchorIncomingEdge,g=c.getAnchorOutcomingEdge,x=i.anchorData.id;return{incomingEdgeList:h(x),outcomingEdgeList:g(x)}}},{key:"moveAnchorEnd",value:function(i,c){var h=this.props,g=h.graphModel,x=h.nodeModel,j=h.anchorData,T=Bc({x:i,y:c},g);if(T){var R=T.node,G=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(cn.DEFAULT),j.id===G)return;this.preTargetNode=R;var Z="".concat(x.id,"_").concat(R.id,"_").concat(G,"_").concat(j.id);if(!this.targetRuleResults.has(Z)){var re=T.anchor,ye=x.isAllowConnectedAsSource(R,j,re),de=R.isAllowConnectedAsTarget(x,j,re);this.sourceRuleResults.set(Z,Pu(ye)),this.targetRuleResults.set(Z,Pu(de))}var we=this.sourceRuleResults.get(Z).isAllPass,Ce=this.targetRuleResults.get(Z).isAllPass;we&&Ce?R.setElementState(cn.ALLOW_CONNECT):R.setElementState(cn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==cn.DEFAULT&&this.preTargetNode.setElementState(cn.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,c=i.startX,h=i.startY,g=i.endX,x=i.endY;return lo(c,h,g,x)>10}},{key:"render",value:function(){var i=this,c=this.state,h=c.startX,g=c.startY,x=c.endX,j=c.endY,T=this.props,R=T.anchorData.edgeAddable,G=T.edgeStyle;return Object(le.g)("g",{className:"lf-anchor"},Object(le.g)("g",{onMouseDown:function(Z){R!==!1&&i.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Ql({sourcePoint:{x:h,y:g},targetPoint:{x,y:j}},G)):Object(le.g)(rs,Jl({x1:h,y1:g,x2:x,y2:j},G,{"pointer-events":"none"}))))}}])&&tO(e.prototype,n),a}(le.a);function cm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cm(Object(n),!0).forEach(function(r){aO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Py(t){return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function uO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return sm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return sm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lm(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.value,c=t.fontSize,h=t.fill,g=h===void 0?"currentColor":h,x=t.overflowMode,j=x===void 0?"default":x,T=t.textWidth,R=T===void 0?"":T,G=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:g};if(Object.entries(t).forEach(function(Je){var qe=uO(Je,2),bt=qe[0],Ke=qe[1];Py(Ke)!=="object"&&(Z[bt]=Ke)}),i){var re=String(i).split(/[\r\n]/g),ye=re.length;if(j!=="default"){var de=G.BaseType,we=G.modelType;if(de===zn.NODE&&we!==Wt.TEXT_NODE||de===zn.EDGE&&R)return function(Je){var qe=Je.value,bt=Je.fontSize,Ke=Je.model,dt=Je.fontFamily,nt=dt===void 0?"":dt,Kt=Je.lineHeight,Qt=Je.wrapPadding,Nt=Qt===void 0?"0, 0":Qt,rn=Je.overflowMode,Hn=Je.x,Un=Je.y,Or=Ke.width,yo=Ke.textHeight,vo=Je.textWidth||Or,Ci=String(qe).split(/[\r\n]/g),Ku=Ci.length,Pd=lp({rows:Ci,style:{fontSize:"".concat(bt,"px"),width:"".concat(vo,"px"),fontFamily:nt,lineHeight:Kt,padding:Nt},rowsLength:Ku,className:"lf-get-text-height"}),qu=Ke.height>Pd?Ke.height:Pd;yo&&(qu=yo);var Ha=rn==="ellipsis";return Ha&&(qu=bt+2),Object(le.g)("g",null,Object(le.g)("foreignObject",{width:vo,height:qu,x:Hn-vo/2,y:Un-qu/2},Object(le.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:qu,width:vo,padding:Nt}},Object(le.g)("div",{className:Ha?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Ha?Ci.join(""):"",style:iO({},Je)},Ci.map(function(Ua){return Object(le.g)("div",{className:"lf-node-text--auto-wrap-inner"},Ua)})))))}(t)}if(ye>1){var Ce=re.map(function(Je,qe){var bt=(qe-(ye-1)/2)*(c+2);return Object(le.g)("tspan",{className:"lf-text-tspan",x:n,y:a+bt},Je)});return Object(le.g)("text",Z,Ce)}return Object(le.g)("text",Z,i)}}function Ay(t){return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function My(){return My=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function cO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return fm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ky(t,e)}function lO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=rd(t);if(e){var a=rd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(t,e){if(e&&(Ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(t)}function Yu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pm=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&ky(i,c)})(a,t);var e,n,r=lO(a);function a(i){var c;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),Yu(Fa(c=r.call(this)),"dragHandler",void 0),Yu(Fa(c),"sumDeltaX",0),Yu(Fa(c),"sumDeltaY",0),Yu(Fa(c),"stepDrag",void 0),Yu(Fa(c),"onDragging",function(g){var x=g.deltaX,j=g.deltaY,T=c.props,R=T.model,G=cO(T.graphModel.transformModel.fixDeltaXY(x,j),2),Z=G[0],re=G[1];R.moveText(Z,re)}),Yu(Fa(c),"dblClickHandler",function(){c.props.editable&&c.props.model.setElementState(cn.TEXT_EDIT)}),Yu(Fa(c),"mouseDownHandle",function(g){var x=c.props,j=x.draggable,T=x.model,R=x.graphModel.editConfigModel.nodeTextDraggable;(j||R)&&(c.stepDrag.model=T,c.stepDrag.handleMouseDown(g))}),i.model;var h=i.draggable;return c.stepDrag=new To({onDragging:c.onDragging,step:1,isStopPropagation:h}),c}return e=a,(n=[{key:"getShape",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.text,x=h.editConfigModel,j=g.value,T=g.x,R=g.y,G=g.editable,Z=g.draggable,re={x:T,y:R,className:"",value:j};G?re.className="lf-element-text":Z||x.nodeTextDraggable?re.className="lf-text-draggable":re.className="lf-text-disabled";var ye=c.getTextStyle();return Object(le.g)(lm,My({},re,ye,{model:c}))}},{key:"render",value:function(){if(this.props.model.text)return Object(le.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&sO(e.prototype,n),a}(le.a),pO=ma(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,dm=o(130);function Ty(t){return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function Dy(){return Dy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(this,arguments)}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e){return Ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ny(t,e)}function hO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=od(t);if(e){var a=od(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ys(t)}function ys(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},od(t)}function ef(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vO=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Ny(i,c)})(a,t);var e,n,r=hO(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),ef(ys(c=r.call(this,i)),"style",{}),ef(ys(c),"defaultAngle",void 0),ef(ys(c),"normal",void 0),ef(ys(c),"stepperDrag",void 0),ef(ys(c),"onDragging",function(h){var g,x=h.event,j=c.props,T=j.graphModel,R=j.nodeModel,G=j.eventCenter,Z=T.selectNodes,re=R.x,ye=R.y,de=x.clientX,we=x.clientY,Ce=T.getPointByClient({x:de,y:we}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,bt=new X(Je-re,qe-ye),Ke=((g=c.normal)===null||g===void 0?void 0:g.angle(bt))-c.defaultAngle,dt=new Pi(-re,-ye).rotate(Ke).translate(re,ye).toString();R.transform=dt,R.rotate=Ke;var nt=Object(dm.map)(Z,function(Qt){return Qt.id});nt.indexOf(R.id)===-1&&(nt=[R.id]);var Kt=Object(dm.reduce)(nt,function(Qt,Nt){var rn=T.getNodeModelById(Nt);return Qt[Nt]=rn==null?void 0:rn.getMoveDistance(0,0,!1),Qt},{});nt.forEach(function(Qt){T.getNodeEdges(Qt).forEach(function(Nt){if(Kt[Nt.sourceNodeId]){var rn=T.getNodeModelById(Nt.sourceNodeId).anchors.find(function(Un){return Un.id===Nt.sourceAnchorId});Nt.updateStartPoint(rn)}if(Kt[Nt.targetNodeId]){var Hn=T.getNodeModelById(Nt.targetNodeId).anchors.find(function(Un){return Un.id===Nt.targetAnchorId});Nt.updateEndPoint(Hn)}})}),G.emit(pt.NODE_ROTATE,{e:x,nodeModel:R})}),c.style=i.style,c.stepperDrag=new To({onDragging:c.onDragging}),c}return e=a,(n=[{key:"render",value:function(){var i=this,c=this.props.nodeModel,h=c.x,g=c.y,x=h+c.width/2+20,j=g-c.height/2-20;return this.normal=new X(1,0),this.defaultAngle=this.normal.angle(new X(x-h,j-g)),c.defaultAngle=this.defaultAngle,Object(le.g)("g",{className:"lf-rotate-control"},Object(le.g)("g",{onMouseDown:function(T){i.stepperDrag.handleMouseDown(T)}},Object(le.g)(is,Dy({},this.style,{cx:x,cy:j}))))}}])&&dO(e.prototype,n),a}(le.a);function Cy(t){return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}var gO=["className"];function id(){return id=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}function bO(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,j={},T=Object.keys(c);for(x=0;x<T.length;x++)g=T[x],h.indexOf(g)>=0||(j[g]=c[g]);return j}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ad(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return hm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ry(t,e)}function mO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ud(t);if(e){var a=ud(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _O(this,n)}}function _O(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ur(t)}function ur(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}function dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var na=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&Ry(c,h)})(i,t);var e,n,r,a=mO(i);function i(c){var h;(function(R,G){if(!(R instanceof G))throw new TypeError("Cannot call a class as a function")})(this,i),dr(ur(h=a.call(this)),"t",void 0),dr(ur(h),"moveOffset",void 0),dr(ur(h),"stepDrag",void 0),dr(ur(h),"contextMenuTime",void 0),dr(ur(h),"mouseUpDrag",void 0),dr(ur(h),"startTime",void 0),dr(ur(h),"clickTimer",void 0),dr(ur(h),"modelDisposer",void 0),dr(ur(h),"onDragStart",function(R){var G=R.event,Z=G.clientX,re=G.clientY,ye=h.props,de=ye.model,we=ye.graphModel.getPointByClient({x:Z,y:re}).canvasOverlayPosition,Ce=we.x,Je=we.y;h.moveOffset={x:de.x-Ce,y:de.y-Je}}),dr(ur(h),"onDragging",function(R){var G=R.event,Z=h.props,re=Z.model,ye=Z.graphModel,de=ye.editConfigModel,we=de.stopMoveGraph,Ce=de.autoExpand,Je=ye.transformModel,qe=ye.selectNodes,bt=ye.width,Ke=ye.height,dt=ye.gridSize;re.isDragging=!0;var nt=G.clientX,Kt=G.clientY,Qt=ye.getPointByClient({x:nt,y:Kt}).canvasOverlayPosition,Nt=Qt.x,rn=Qt.y,Hn=ad(Je.CanvasPointToHtmlPoint([Nt,rn]),2),Un=Hn[0],Or=Hn[1];if(Nt+=h.moveOffset.x,rn+=h.moveOffset.y,Nt=gi(Nt,dt),rn=gi(rn,dt),bt&&Ke){if(!Ce||we||!(Un<0||Or<0||Un>bt||Or>Ke)){var yo=ad(Je.CanvasPointToHtmlPoint([Nt-re.width/2,rn-re.height/2]),2),vo=yo[0],Ci=yo[1],Ku=ad(Je.CanvasPointToHtmlPoint([Nt+re.width/2,rn+re.height/2]),2),Pd=Ku[0],qu=Ku[1],Ha=Math.max(dt,20),Ua=[];vo<0?Ua=[Ha,0]:Pd>ye.width?Ua=[-Ha,0]:Ci<0?Ua=[0,Ha]:qu>ye.height&&(Ua=[0,-Ha]),h.t&&td(h.t);var rx=new Pi(-Nt,-rn).rotate(re.rotate).translate(Nt,rn).toString();re.transform=rx;var Ad=qe.map(function(Md){return Md.id});Ad.indexOf(re.id)===-1&&(Ad=[re.id]),Ua.length>0&&!we&&Ce?h.t=im(function(){var Md=ad(Ua,2),Km=Md[0],qm=Md[1];Je.translate(Km,qm);var ox=-Km/Je.SCALE_X,ix=-qm/Je.SCALE_X;ye.moveNodes(Ad,ox,ix)}):ye.moveNodes(Ad,Nt-re.x,rn-re.y)}}else ye.moveNode2Coordinate(re.id,Nt,rn)}),dr(ur(h),"onDragEnd",function(){h.t&&td(h.t),h.props.model.isDragging=!1}),dr(ur(h),"handleMouseUp",function(){var R=h.props.model;h.mouseUpDrag=R.isDragging}),dr(ur(h),"handleClick",function(R){var G=h.mouseUpDrag===!1;if(h.startTime){var Z=h.props,re=Z.model,ye=Z.graphModel;if(G){var de={data:re.getData(),e:R,position:ye.getPointByClient({x:R.clientX,y:R.clientY}),isSelected:!1,isMultiple:!1},we=R.button===2,Ce=R.detail===2;if(!we){var Je=ye.editConfigModel,qe=el(R,Je);de.isMultiple=qe,re.isSelected&&!Ce&&qe?(de.isSelected=!1,re.setSelected(!1)):(ye.selectNodeById(re.id,qe),de.isSelected=!0,h.toFront()),Ce?(Je.nodeTextEdit&&re.text.editable&&(re.setSelected(!1),ye.setElementStateById(re.id,cn.TEXT_EDIT)),ye.eventCenter.emit(pt.NODE_DBCLICK,de)):(ye.eventCenter.emit(pt.ELEMENT_CLICK,de),ye.eventCenter.emit(pt.NODE_CLICK,de))}}}}),dr(ur(h),"handleContextMenu",function(R){R.preventDefault();var G=h.props,Z=G.model,re=G.graphModel,ye=Z.getData(),de=re.getPointByClient({x:R.clientX,y:R.clientY});re.setElementStateById(Z.id,cn.SHOW_MENU,de.domOverlayPosition),Z.isSelected||re.selectNodeById(Z.id),re.eventCenter.emit(pt.NODE_CONTEXTMENU,{data:ye,e:R,position:de}),h.toFront()}),dr(ur(h),"handleMouseDown",function(R){var G=h.props,Z=G.model,re=G.graphModel;h.startTime=new Date().getTime(),re.editConfigModel.adjustNodePosition&&Z.draggable&&h.stepDrag&&h.stepDrag.handleMouseDown(R)}),dr(ur(h),"setHoverON",function(R){var G=h.props,Z=G.model,re=G.graphModel;if(!Z.isHovered){var ye=Z.getData();Z.setHovered(!0),re.eventCenter.emit(pt.NODE_MOUSEENTER,{data:ye,e:R})}}),dr(ur(h),"setHoverOFF",function(R){var G=h.props,Z=G.model,re=G.graphModel,ye=Z.getData();Z.isHovered&&(Z.setHovered(!1),re.eventCenter.emit(pt.NODE_MOUSELEAVE,{data:ye,e:R}))}),dr(ur(h),"onMouseOut",function(R){pO&&h.setHoverOFF(R)});var g=c.graphModel,x=g.gridSize,j=g.eventCenter,T=c.model;return h.stepDrag=new To({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:j,model:T}),h.modelDisposer=Object(d.F)(function(){return h.props},function(R){R&&R.model&&h.stepDrag.setModel(R.model)}),h}return e=i,r=[{key:"getModel",value:function(c){return c}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(c){return null}},{key:"getAnchors",value:function(){var c=this,h=this.props,g=h.model,x=h.graphModel,j=g.isSelected,T=g.isHitable,R=g.isDragging,G=g.isShowAnchor;return T&&(j||G)&&!R?dc(g.anchors,function(Z,re){var ye=g.getAnchorLineStyle(Z),de=g.getAnchorStyle(Z);return Object(le.g)(oO,{anchorData:Z,node:c,style:de,edgeStyle:ye,anchorIndex:re,nodeModel:g,graphModel:x,setHoverOFF:c.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var c=this.props,h=c.model,g=c.graphModel,x=h.isSelected,j=h.isHitable,T=h.enableRotate,R=h.isHovered,G=h.getRotateControlStyle().style;if(j&&(x||R)&&T)return Object(le.g)(vO,{graphModel:g,nodeModel:h,eventCenter:g.eventCenter,style:G})}},{key:"getText",value:function(){var c=this.props,h=c.model,g=c.graphModel;if(h.state===cn.TEXT_EDIT)return"";if(h.text){var x=g.editConfigModel,j=!1;return(h.text.draggable||x.nodeTextDraggable)&&(j=!0),Object(le.g)(pm,{editable:x.nodeTextEdit&&h.text.editable,model:h,graphModel:g,draggable:j})}}},{key:"getStateClassName",value:function(){var c=this.props.model,h=c.state,g=c.isDragging,x=c.isSelected,j="lf-node";switch(h){case cn.ALLOW_CONNECT:j+=" lf-node-allow";break;case cn.NOT_ALLOW_CONNECT:j+=" lf-node-not-allow";break;default:j+=" lf-node-default"}return g&&(j+=" lf-isDragging"),x&&(j+=" lf-node-selected"),j}},{key:"toFront",value:function(){var c=this.props,h=c.model,g=c.graphModel;h.autoToFront&&g.toFront(h.id)}},{key:"render",value:function(){var c,h=this.props,g=h.model,x=h.graphModel,j=x.editConfigModel,T=j.hideAnchors,R=j.adjustNodePosition,G=j.allowRotation,Z=x.gridSize,re=x.transformModel.SCALE_X,ye=g.isHitable,de=g.draggable,we=g.transform,Ce=g.getOuterGAttributes(),Je=Ce.className,qe=Je===void 0?"":Je,bt=bO(Ce,gO),Ke=Object(le.g)("g",{className:"lf-node-content"},Object(le.g)("g",{transform:we},this.getShape(),this.getText(),G&&this.getRotateControl()),!T&&this.getAnchors());return ye?(R&&de&&this.stepDrag.setStep(Z*re),c=Object(le.g)("g",id({className:"".concat(this.getStateClassName()," ").concat(qe),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},bt),Ke)):c=Object(le.g)("g",id({className:"".concat(this.getStateClassName()," ").concat(qe)},bt),Ke),c}}])&&ym(e.prototype,n),r&&ym(e,r),i}(le.a);function Iy(t){return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function Ly(){return Ly=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function OO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zy(t,e){return zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zy(t,e)}function xO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cd(t);if(e){var a=cd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cd(t)}var By=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&zy(i,c)})(a,t);var e,n,r=xO(a);function a(){return OO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(le.g)(La,Ly({},c,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&wO(e.prototype,n),a}(na);function Fy(t){return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function Xy(){return Xy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xy.apply(this,arguments)}function jO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hy(t,e)}function PO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sd(t);if(e){var a=sd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return AO(this,n)}}function AO(t,e){if(e&&(Fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(t)}var Uy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hy(i,c)})(a,t);var e,n,r=PO(a);function a(){return jO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.r,x=i.getNodeStyle();return Object(le.g)(is,Xy({},x,{x:c,y:h,r:g}))}}])&&SO(e.prototype,n),a}(na);function Gy(t){return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function MO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return vm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gm(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(a){var i=MO(a,2),c=i[0],h=i[1];Gy(h)!=="object"&&(r[c]=h)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(a){return a.join(",")}).join(" "),Object(le.g)("polygon",r)}function Yy(t){return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function Wy(){return Wy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(this,arguments)}function kO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vy(t,e){return Vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vy(t,e)}function DO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ld(t);if(e){var a=ld(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return NO(this,n)}}function NO(t,e){if(e&&(Yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ld(t){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ld(t)}var $y=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Vy(i,c)})(a,t);var e,n,r=DO(a);function a(){return kO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.width,x=i.height,j=i.points,T=i.getNodeStyle(),R={transform:"matrix(1 0 0 1 ".concat(c-g/2," ").concat(h-x/2,")")};return Object(le.g)("g",R,Object(le.g)(gm,Wy({},T,{points:j,x:c,y:h})))}}])&&TO(e.prototype,n),a}(na);function Ky(t){return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function qy(){return qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}function CO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zy(t,e){return Zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zy(t,e)}function IO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fd(t);if(e){var a=fd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return LO(this,n)}}function LO(t,e){if(e&&(Ky(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fd(t)}var Jy=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Zy(i,c)})(a,t);var e,n,r=IO(a);function a(){return CO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(le.g)("g",null,Object(le.g)(gm,qy({},c,{points:i.points,x:i.x,y:i.y})))}}])&&RO(e.prototype,n),a}(na);function Qy(t){return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function zO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return bm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return bm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BO(t){var e=t.x,n=e===void 0?0:e,r=t.y,a=r===void 0?0:r,i=t.rx,c=i===void 0?4:i,h=t.ry,g=h===void 0?4:h,x=t.className,j={cx:n,cy:a,rx:c,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(T){var R=zO(T,2),G=R[0],Z=R[1];Qy(Z)!=="object"&&(j[G]=Z)}),j.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(le.g)("ellipse",j)}function ev(t){return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function tv(){return tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function FO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e){return nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nv(t,e)}function HO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pd(t);if(e){var a=pd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return UO(this,n)}}function UO(t,e){if(e&&(ev(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pd(t)}var rv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&nv(i,c)})(a,t);var e,n,r=HO(a);function a(){return FO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getShape",value:function(){var i=this.props.model,c=i.getNodeStyle();return Object(le.g)(BO,tv({},c,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&XO(e.prototype,n),a}(na);function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function mm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mm(Object(n),!0).forEach(function(r){GO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iv(t,e){return iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},iv(t,e)}function VO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dd(t);if(e){var a=dd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(t)}var av=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&iv(i,c)})(a,t);var e,n,r=VO(a);function a(){return YO(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.width,g=i.height,x=i.x,j=i.y,T=_m(_m({},c.background),{},{x,y:j-1,width:h,height:g});return Object(le.g)(La,T)}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getBackground())}}])&&WO(e.prototype,n),a}(na);function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function cv(){return cv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}function KO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sv(t,e){return sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sv(t,e)}function ZO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hd(t);if(e){var a=hd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return JO(this,n)}}function JO(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tf(t)}function tf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(t)}function yd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&sv(i,c)})(a,t);var e,n,r=ZO(a);function a(){var i;KO(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return yd(tf(i=r.call.apply(r,[this].concat(h))),"ref",void 0),yd(tf(i),"currentProperties",void 0),yd(tf(i),"preProperties",void 0),yd(tf(i),"setRef",function(x){i.ref=x}),i}return e=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,c=i.x,h=i.y,g=i.height,x=i.width,j=i.getNodeStyle();return this.currentProperties=JSON.stringify(i.properties),Object(le.g)("foreignObject",cv({},j,{x:c-x/2,y:h-g/2,width:x,height:g,ref:this.setRef}))}}])&&qO(e.prototype,n),a}(na);function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function pv(){return pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function Om(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Om(Object(n),!0).forEach(function(r){yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Om(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dv(t,e){return dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dv(t,e)}function ew(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vd(t);if(e){var a=vd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tw(this,n)}}function tw(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hv(t)}function hv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vd(t)}function yv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&dv(i,c)})(a,t);var e,n,r=ew(a);function a(i){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,a),yv(hv(c=r.call(this,i)),"setHoverON",function(){c.setState({isHovered:!0})}),yv(hv(c),"setHoverOFF",function(){c.setState({isHovered:!1})}),c.state={isHovered:!1},c}return e=a,(n=[{key:"getBackground",value:function(){var i=this.props.model,c=i.getTextStyle(),h=i.text,g=i.width,x=c.background||{};if(this.state.isHovered&&c.hover&&c.hover.background&&(x=Wu(Wu({},x),c.hover.background)),h&&h.value&&x.fill!=="transparent"){var j,T=c.fontSize,R=c.overflowMode,G=c.lineHeight,Z=c.wrapPadding,re=c.textWidth,ye=h.value,de=h.x,we=h.y,Ce=String(ye).split(/[\r\n]/g),Je=Ce.length;if(R==="autoWrap"&&re){var qe=lp({rows:Ce,style:{fontSize:"".concat(T,"px"),width:"".concat(re,"px"),lineHeight:G,padding:Z},rowsLength:Je,className:"lf-get-text-height"});j=Wu(Wu({},x),{},{x:de-1,y:we-1,width:re,height:qe})}else{Ce&&Ce.forEach(function(Kt){Zc(Kt)});var bt=ml({rows:Ce,fontSize:T,rowsLength:Je}),Ke=bt.width,dt=bt.height;if(R==="ellipsis"&&(Ke=re||g,dt=T+2),typeof x.wrapPadding=="string"){var nt=x.wrapPadding.split(",").filter(function(Kt){return Kt.trim()}).map(function(Kt){return parseFloat(Kt.trim())});nt.length>0&&nt.length<=4&&(nt.length===1?nt=[nt[0],nt[0],nt[0],nt[0]]:nt.length===2?nt=[nt[0],nt[1],nt[0],nt[1]]:nt.length===3&&(nt=[nt[0],nt[1],nt[2],nt[1]]),Ke+=nt[1]+nt[3],dt+=nt[0]+nt[2],de+=(nt[1]-nt[3])/2,we+=(nt[2]-nt[0])/2)}j=Wu(Wu({},x),{},{x:de-1,y:we-1,width:Ke,height:dt})}return Object(le.g)(La,j)}}},{key:"getShape",value:function(){var i=this.props.model,c=i.text,h=c.value,g=c.x,x=c.y;if(h){var j=Wu({x:g,y:x,className:"lf-element-text",value:h},i.getTextStyle());return Object(le.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(le.g)(lm,pv({},j,{model:i})))}}}])&&QO(e.prototype,n),a}(pm);function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}var Di,rw=["text","sourceAnchorId","targetAnchorId"];function wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wm(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ow(t,e){if(t==null)return{};var n,r,a=function(c,h){if(c==null)return{};var g,x,j={},T=Object.keys(c);for(x=0;x<T.length;x++)g=T[x],h.indexOf(g)>=0||(j[g]=c[g]);return j}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function iw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return xm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e){return gv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gv(t,e)}function uw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gd(t);if(e){var a=gd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cw(this,n)}}function cw(t,e){if(e&&(vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return po(t)}function po(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gd(t)}function ho(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Di||(Di={}));var Em=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&gv(i,c)})(a,t);var e,n,r=uw(a);function a(i){var c;(function(j,T){if(!(j instanceof T))throw new TypeError("Cannot call a class as a function")})(this,a),ho(po(c=r.call(this)),"stepDragData",void 0),ho(po(c),"stepDrag",void 0),ho(po(c),"oldEdge",void 0),ho(po(c),"preTargetNode",void 0),ho(po(c),"targetRuleResults",void 0),ho(po(c),"sourceRuleResults",void 0),ho(po(c),"handleMouseDown",function(j){c.stepDrag&&c.stepDrag.handleMouseDown(j)}),ho(po(c),"onDragStart",function(){var j=c.props,T=j.x,R=j.y,G=j.edgeModel,Z=G.startPoint,re=G.endPoint,ye=G.pointsList;c.oldEdge={startPoint:Z,endPoint:re,pointsList:ye},c.setState({endX:T,endY:R,dragging:!0})}),ho(po(c),"onDragging",function(j){var T=j.deltaX,R=j.deltaY,G=c.state,Z=G.endX,re=G.endY,ye=c.props,de=ye.graphModel,we=ye.type,Ce=de.transformModel,Je=de.editConfigModel,qe=iw(Ce.moveCanvasPointByHtml([Z,re],T,R),2),bt=qe[0],Ke=qe[1];c.setState({endX:bt,endY:Ke,dragging:!0});var dt=c.props.edgeModel,nt=Bc({x:Z,y:re},de);if(nt&&nt.node&&c.isAllowAdjust(nt).pass){var Kt,Qt=dt.startPoint,Nt=dt.endPoint,rn=dt.sourceNode,Hn=dt.targetNode;we===Di.SOURCE?Kt={startPoint:{x:nt.anchor.x,y:nt.anchor.y},endPoint:{x:Nt.x,y:Nt.y},sourceNode:nt.node,targetNode:Hn}:we===Di.TARGET&&(Kt={startPoint:{x:Qt.x,y:Qt.y},endPoint:{x:nt.anchor.x,y:nt.anchor.y},sourceNode:rn,targetNode:nt.node}),dt.updateAfterAdjustStartAndEnd(Kt)}else we===Di.SOURCE?dt.updateStartPoint({x:bt,y:Ke}):we===Di.TARGET&&dt.updateEndPoint({x:bt,y:Ke});dt.text.value&&Je.adjustEdge&&dt.setText(Object.assign({},dt.text,dt.textPosition))}),ho(po(c),"onDragEnd",function(j){var T=j.event;try{var R;c.setState({dragging:!1});var G=c.props,Z=G.graphModel,re=G.edgeModel,ye=G.type,de=c.state,we=de.endX,Ce=de.endY,Je=de.dragging,qe=Bc({x:we,y:Ce},Z);if(!Je)return;var bt,Ke=!1;if(qe&&qe.node){var dt=c.isAllowAdjust(qe),nt=dt.pass,Kt=dt.msg,Qt=dt.newTargetNode;if(nt){var Nt=re.getData(),rn=Nt.text,Hn=Nt.sourceAnchorId,Un=Hn===void 0?"":Hn,Or=Nt.targetAnchorId;bt=ra(ra({sourceAnchorId:Un,targetAnchorId:Or===void 0?"":Or},ow(Nt,rw)),{},{text:(rn==null?void 0:rn.value)||""}),ye===Di.SOURCE?(bt=ra(ra({},Z.edgeGenerator(Z.getNodeModelById(qe.node.id).getData(),Z.getNodeModelById(re.targetNodeId).getData(),bt)),{},{sourceNodeId:qe.node.id,sourceAnchorId:qe.anchor.id,startPoint:{x:qe.anchor.x,y:qe.anchor.y},targetNodeId:re.targetNodeId,endPoint:ra({},re.endPoint)}),re.sourceNodeId===qe.node.id&&re.sourceAnchorId===qe.anchor.id&&(Ke=!0)):ye===Di.TARGET&&(bt=ra(ra({},Z.edgeGenerator(Z.getNodeModelById(re.sourceNodeId).getData(),Z.getNodeModelById(qe.node.id).getData(),bt)),{},{sourceNodeId:re.sourceNodeId,startPoint:ra({},re.startPoint),targetNodeId:qe.node.id,targetAnchorId:qe.anchor.id,endPoint:{x:qe.anchor.x,y:qe.anchor.y}}),re.targetNodeId===qe.node.id&&re.targetAnchorId===qe.anchor.id&&(Ke=!0))}else{Ke=!0;var yo=Qt.getData();Z.eventCenter.emit(pt.CONNECTION_NOT_ALLOWED,{data:yo,msg:Kt})}}else Ke=!0;if(Ke)c.recoveryEdge();else{var vo=re.getData();Z.deleteEdgeById(re.id);var Ci=Z.addEdge(ra({},bt));Z.eventCenter.emit(pt.EDGE_EXCHANGE_NODE,{data:{newEdge:Ci.getData(),oldEdge:vo}})}(R=c.preTargetNode)===null||R===void 0||R.setElementState(cn.DEFAULT)}finally{c.props.graphModel.eventCenter.emit(pt.ADJUST_POINT_DRAGEND,{e:T,data:c.stepDragData})}}),ho(po(c),"recoveryEdge",function(){var j=c.props.edgeModel,T=c.oldEdge,R=T.startPoint,G=T.endPoint,Z=T.pointsList;j.updateStartPoint(R),j.updateEndPoint(G),j.modelType!==Wt.LINE_EDGE&&(j.pointsList=Z,j.initPoints())}),ho(po(c),"getAdjustPointStyle",function(){var j=c.props,T=j.graphModel.theme;return j.edgeModel,T.edgeAdjust}),c.state={dragging:!1,endX:0,endY:0},c.targetRuleResults=new Map,c.sourceRuleResults=new Map;var h=i.type,g=i.edgeModel,x=i.graphModel.eventCenter;return c.stepDragData={type:h,edgeData:g.getData()},c.stepDrag=new To({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:c.stepDragData}),c}return e=a,(n=[{key:"isAllowAdjust",value:function(i){var c=this.props,h=c.edgeModel,g=h.id,x=h.sourceNode,j=h.targetNode,T=h.sourceAnchorId,R=h.targetAnchorId,G=c.type,Z=null,re=null,ye=null,de=null;if(G===Di.SOURCE?(Z=i.node,re=j,ye=i.anchor,de=j.getAnchorInfo(R)):(Z=x,re=i.node,de=i.anchor,ye=x.getAnchorInfo(T)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(cn.DEFAULT),this.preTargetNode=i.node,de.id===ye.id)return{pass:!1,msg:"",newTargetNode:re};var we="".concat(Z.id,"_").concat(re.id,"_").concat(ye.id,"_").concat(de.id);if(!this.targetRuleResults.has(we)){var Ce=Z.isAllowConnectedAsSource(re,ye,de,g),Je=re.isAllowConnectedAsTarget(Z,ye,de,g);this.sourceRuleResults.set(we,Pu(Ce)),this.targetRuleResults.set(we,Pu(Je))}var qe=this.sourceRuleResults.get(we),bt=qe.isAllPass,Ke=qe.msg,dt=this.targetRuleResults.get(we),nt=dt.isAllPass,Kt=dt.msg,Qt=bt&&nt?cn.ALLOW_CONNECT:cn.NOT_ALLOW_CONNECT;return G===Di.SOURCE?Z.setElementState(Qt):re.setElementState(Qt),{pass:bt&&nt,msg:Kt||Ke,newTargetNode:re}}},{key:"render",value:function(){var i=this.props,c=i.x,h=i.y,g=i.getAdjustPointShape,x=i.edgeModel,j=this.state.dragging;return Object(le.g)("g",{pointerEvents:j?"none":"",onMouseDown:this.handleMouseDown},j?"":g(c,h,x))}}])&&aw(e.prototype,n),a}(le.a);function bv(t){return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function nf(){return nf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}function sw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return jm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mv(t,e){return mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mv(t,e)}function pw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=bd(t);if(e){var a=bd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dw(this,n)}}function dw(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}function oi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bd(t)}function Ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rf=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&mv(i,c)})(a,t);var e,n,r=pw(a);function a(){var i;lw(this,a);for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return Ni(oi(i=r.call.apply(r,[this].concat(h))),"startTime",void 0),Ni(oi(i),"contextMenuTime",void 0),Ni(oi(i),"clickTimer",void 0),Ni(oi(i),"textRef",Object(le.f)()),Ni(oi(i),"handleHover",function(x,j){var T=i.props,R=T.model,G=T.graphModel.eventCenter;R.setHovered(x);var Z=x?pt.EDGE_MOUSEENTER:pt.EDGE_MOUSELEAVE,re=R.getData();G.emit(Z,{data:re,e:j})}),Ni(oi(i),"setHoverON",function(x){i.props.model.isHovered||(i.textRef&&i.textRef.current&&i.textRef.current.setHoverON(),i.handleHover(!0,x))}),Ni(oi(i),"setHoverOFF",function(x){i.props.model.isHovered&&(i.textRef&&i.textRef.current&&i.textRef.current.setHoverOFF(),i.handleHover(!1,x))}),Ni(oi(i),"handleContextMenu",function(x){x.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var j=i.props,T=j.model,R=j.graphModel,G=R.getPointByClient({x:x.clientX,y:x.clientY});R.setElementStateById(T.id,cn.SHOW_MENU,G.domOverlayPosition),i.toFront(),T.isSelected||R.selectEdgeById(T.id);var Z=T==null?void 0:T.getData();R.eventCenter.emit(pt.EDGE_CONTEXTMENU,{data:Z,e:x,position:G})}),Ni(oi(i),"handleMouseDown",function(x){x.stopPropagation(),i.startTime=new Date().getTime()}),Ni(oi(i),"handleMouseUp",function(x){if(i.startTime&&!(new Date().getTime()-i.startTime>200||x.button===2)){var j=x.detail===2,T=i.props,R=T.model,G=T.graphModel,Z=R==null?void 0:R.getData(),re=G.getPointByClient({x:x.clientX,y:x.clientY});if(j){var ye=G.editConfigModel,de=G.textEditElement;if(de&&de.id===R.id&&G.setElementStateById(R.id,cn.DEFAULT),ye.edgeTextEdit&&R.text.editable&&G.setElementStateById(R.id,cn.TEXT_EDIT),R.modelType===Wt.POLYLINE_EDGE){var we=R,Ce=G.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,bt=Ll({x:Je,y:qe},we.points);we.dbClickPosition=bt}G.eventCenter.emit(pt.EDGE_DBCLICK,{data:Z,e:x,position:re})}else G.eventCenter.emit(pt.ELEMENT_CLICK,{data:Z,e:x,position:re}),G.eventCenter.emit(pt.EDGE_CLICK,{data:Z,e:x,position:re});var Ke=G.editConfigModel;G.selectEdgeById(R.id,el(x,Ke)),i.toFront()}}),i}return e=a,(n=[{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,c=i.model,h=i.graphModel;if(c.state===cn.TEXT_EDIT)return null;var g=!1,x=h.editConfigModel;return(c.text.draggable||x.edgeTextDraggable)&&(g=!0),Object(le.g)(nw,{ref:this.textRef,editable:x.edgeTextEdit&&c.text.editable,model:c,graphModel:h,draggable:g})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isSelected;return{start:c,end:h,hover:this.state.hover,isSelected:g}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model;return[i.startPoint,i.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var i=this.props.model,c=i.id,h=i.getArrowStyle(),g=h.refY,x=g===void 0?0:g,j=h.refX,T=j===void 0?2:j,R=sw(this.getLastTwoPoints(),2),G=R[0],Z=R[1],re="auto";return G!==null&&Z!==null&&(re=Vi(Tr({x:Z.x-G.x,y:Z.y-G.y,z:0}))),Object(le.g)("g",null,Object(le.g)("defs",null,Object(le.g)("marker",{id:"marker-start-".concat(c),refX:-T,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(le.g)("marker",{id:"marker-end-".concat(c),refX:T,refY:x,overflow:"visible",orient:re,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var i=this.props.model.getArrowStyle();return i.stroke,i.strokeWidth,i.offset,i.verticalLength,Object(le.g)("path",null)}},{key:"getEndArrow",value:function(){var i=this.props.model.getArrowStyle(),c=i.stroke,h=i.strokeWidth,g=i.offset,x=i.verticalLength;return Object(le.g)("path",{stroke:c,fill:c,strokeWidth:h,transform:"rotate(180)",d:"M 0 0 L ".concat(g," -").concat(x," L ").concat(g," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(i,c,h){var g=h.getAdjustPointStyle();return Object(le.g)(is,nf({className:"lf-edge-adjust-point"},g,{x:i,y:c}))}},{key:"getAdjustPoints",value:function(){var i=this.props,c=i.model,h=i.graphModel,g=c.getAdjustStart(),x=c.getAdjustEnd();return Object(le.g)("g",null,Object(le.g)(Em,nf({type:"SOURCE"},g,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})),Object(le.g)(Em,nf({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:c,graphModel:h})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(le.g)("g",null)}},{key:"getAppend",value:function(){return Object(le.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var i=this.props,c=i.graphModel,h=i.model;c.toFront(h.id)}},{key:"render",value:function(){var i=this.props,c=i.model,h=c.isSelected,g=c.isHitable,x=c.isShowAdjustPoint;return i.graphModel.animation,Object(le.g)("g",null,Object(le.g)("g",{className:["lf-edge",!g&&"pointer-none",h&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&h?this.getAdjustPoints():"")}}])&&fw(e.prototype,n),a}(le.a);function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function hw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Sm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var of=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=hw(n,2),a=r[0],i=r[1],c=_v(i);a!=="style"&&c==="object"||(e[a]=i)}),Object(le.g)("path",e)};function Ov(t){return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function wv(){return wv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function yw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xv(t,e){return xv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xv(t,e)}function gw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=md(t);if(e){var a=md(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bw(this,n)}}function bw(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},md(t)}var Ev=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&xv(i,c)})(a,t);var e,n,r=gw(a);function a(){return yw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=i.isAnimation,x=i.arrowConfig,j=i.getEdgeStyle(),T=i.getEdgeAnimationStyle(),R=T.strokeDasharray,G=T.stroke,Z=T.strokeDashoffset,re=T.animationName,ye=T.animationDuration,de=T.animationIterationCount,we=T.animationTimingFunction,Ce=T.animationDirection;return Object(le.g)(rs,wv({},j,{x1:c.x,y1:c.y,x2:h.x,y2:h.y},x,g?{strokeDasharray:R,stroke:G,style:{strokeDashoffset:Z,animationName:re,animationDuration:ye,animationIterationCount:de,animationTimingFunction:we,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model,c=i.startPoint,h=i.endPoint,g=kp({start:c,end:h}),x=g.d,j=g.strokeWidth,T=g.fill,R=g.strokeDasharray,G=g.stroke;return Object(le.g)(of,{d:x,fill:T,strokeWidth:j,stroke:G,strokeDasharray:R})}}])&&vw(e.prototype,n),a}(rf);function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function mw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Pm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _w=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=mw(n,2),a=r[0],i=r[1];(a==="style"||jv(i)!=="object")&&(e[a]=i)}),Object(le.g)("polyline",e)};function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function Am(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Am(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pv(){return Pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function Ow(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Mm(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mm(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ww(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(t,e){return Av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Av(t,e)}function xw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Od(t);if(e){var a=Od(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ew(this,n)}}function Ew(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oa(t)}function oa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Od(t)}function ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Av(i,c)})(a,t);var e,n,r=xw(a);function a(){var i;return function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),ia(oa(i=r.call(this)),"drag",void 0),ia(oa(i),"isDragging",void 0),ia(oa(i),"isShowAdjustPointTemp",void 0),ia(oa(i),"appendInfo",void 0),ia(oa(i),"onDragStart",function(){var c=i.props.model;c.dragAppendStart(),i.isShowAdjustPointTemp=c.isShowAdjustPoint,c.isShowAdjustPoint=!1}),ia(oa(i),"onDragging",function(c){var h=c.deltaX,g=c.deltaY,x=i.props,j=x.model,T=x.graphModel;i.isDragging=!0;var R=T.transformModel,G=T.editConfigModel,Z=Ow(R.fixDeltaXY(h,g),2),re=Z[0],ye=Z[1],de=j,we=G.adjustEdgeMiddle;i.appendInfo=we?de.dragAppendSimple(i.appendInfo,{x:re,y:ye}):de.dragAppend(i.appendInfo,{x:re,y:ye})}),ia(oa(i),"onDragEnd",function(){var c=i.props,h=c.model,g=c.graphModel.eventCenter,x=h;x.dragAppendEnd(),i.isDragging=!1,x.isShowAdjustPoint=i.isShowAdjustPointTemp,i.appendInfo=void 0,g.emit(pt.EDGE_ADJUST,{data:x.getData()})}),ia(oa(i),"beforeDragStart",function(c,h){h.dragAble&&i.drag.handleMouseDown(c),i.appendInfo=h}),i.drag=new To({onDragStart:i.onDragStart,onDragging:i.onDragging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.points,h=i.isAnimation,g=i.arrowConfig,x=i.getEdgeStyle(),j=i.getEdgeAnimationStyle(),T=j.strokeDasharray,R=j.stroke,G=j.strokeDashoffset,Z=j.animationName,re=j.animationDuration,ye=j.animationIterationCount,de=j.animationTimingFunction,we=j.animationDirection;return Object(le.g)(_w,Pv({points:c},x,g,h?{strokeDasharray:T,stroke:R,style:{strokeDashoffset:G,animationName:Z,animationDuration:re,animationIterationCount:ye,animationTimingFunction:de,animationDirection:we}}:{}))}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=i.points,h=i.isSelected,g={start:null,end:null,hover:this.state.hover,isSelected:h},x=Ei(c);return x.length>=2&&(g.start=x[x.length-2],g.end=x[x.length-1]),g}},{key:"getLastTwoPoints",value:function(){var i=this.props.model.points,c=Ei(i);return c.length>=2?[c[c.length-2],c[c.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(i){var c,h=i.start,g=i.end;if(h.x===g.x&&h.y===g.y)c="";else{var x={start:h,end:g,offset:10,verticalLength:5},j=Zo(_d(_d({},x),{},{type:"start"})),T=Zo(_d(_d({},x),{},{type:"end"}));c="M".concat(j.leftX," ").concat(j.leftY,` 
      L`).concat(j.rightX," ").concat(j.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var c=this.getAppendAttributes(i),h=c.d,g=c.strokeWidth,x=c.fill,j=c.strokeDasharray,T=c.stroke;return Object(le.g)(of,{d:h,fill:x,strokeWidth:g,stroke:T,strokeDasharray:j})}},{key:"getAppendWidth",value:function(){for(var i=this,c=this.props,h=c.model,g=c.graphModel,x=h.pointsList,j=h.draggable,T=[],R=x.length,G=function(re){var ye="lf-polyline-append",de={start:{x:x[re].x,y:x[re].y},end:{x:x[re+1].x,y:x[re+1].y},startIndex:re,endIndex:re+1,direction:"",dragAble:!0},we=Object(le.g)("g",{className:ye},i.getAppendShape(de)),Ce=g.editConfigModel,Je=Ce.adjustEdge,qe=Ce.adjustEdgeMiddle;if(Je&&j){var bt=de.startIndex,Ke=de.endIndex,dt=qe&&(bt===0||Ke===R-1);de.dragAble=!dt,de.start.x===de.end.x?(de.dragAble&&(ye+="-ew-resize"),de.direction=bn.VERTICAL):de.start.y===de.end.y&&(de.dragAble&&(ye+="-ns-resize"),de.direction=bn.HORIZONTAL),we=Object(le.g)("g",{className:i.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(nt){return i.beforeDragStart(nt,de)}},Object(le.g)("g",{className:ye},i.getAppendShape(de)))}T.push(we)},Z=0;Z<R-1;Z++)G(Z);return Object(le.g)("g",null,T)}}])&&ww(e.prototype,n),a}(rf);function kv(t){return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function jw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return km(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return km(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function km(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tv(){return Tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}function Sw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dv(t,e){return Dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dv(t,e)}function Aw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wd(t);if(e){var a=wd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mw(this,n)}}function Mw(t,e){if(e&&(kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wd(t)}var Nv=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Dv(i,c)})(a,t);var e,n,r=Aw(a);function a(){return Sw(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"getEdge",value:function(){var i=this.props.model,c=i.getEdgeStyle(),h=i.path,g=i.isAnimation,x=i.arrowConfig,j=i.getEdgeAnimationStyle(),T=j.strokeDasharray,R=j.stroke,G=j.strokeDashoffset,Z=j.animationName,re=j.animationDuration,ye=j.animationIterationCount,de=j.animationTimingFunction,we=j.animationDirection;return Object(le.g)(of,Tv({d:h},c,x,g?{strokeDasharray:T,stroke:R,style:{strokeDashoffset:G,animationName:Z,animationDuration:re,animationIterationCount:ye,animationTimingFunction:de,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(le.g)(of,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,c=this.state.hover,h=i.isSelected,g=i.getArrowStyle().offset,x=i.pointsList.map(function(T){return{x:T.x,y:T.y}}),j=jw(Il(x,g),2);return{start:j[0],end:j[1],hover:c,isSelected:h}}},{key:"getLastTwoPoints",value:function(){var i=this.props.model,c=i.getArrowStyle().offset,h=i.pointsList.map(function(g){return{x:g.x,y:g.y}});return Il(h,c)}}])&&Pw(e.prototype,n),a}(rf);function Cv(t){return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function Tm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(t,e){return Rv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rv(t,e)}function Nw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xd(t);if(e){var a=xd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Cw(this,n)}}function Cw(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xd(t)}var Rw=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Rv(i,c)})(a,t);var e,n,r=Nw(a);function a(){return Tw(this,a),r.apply(this,arguments)}return e=a,n=[{key:"getArrowAttributes",value:function(){var i=this.props,c=i.arrowInfo,h=i.style,g=c.start,x=c.end,j={start:g,end:x,offset:h.offset,verticalLength:h.verticalLength,type:"end"},T=Zo(j),R=T.leftX,G=T.leftY,Z=T.rightX,re=T.rightY;return function(ye){for(var de=1;de<arguments.length;de++){var we=arguments[de]!=null?arguments[de]:{};de%2?Tm(Object(we),!0).forEach(function(Ce){kw(ye,Ce,we[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(we)):Tm(Object(we)).forEach(function(Ce){Object.defineProperty(ye,Ce,Object.getOwnPropertyDescriptor(we,Ce))})}return ye}({d:"M".concat(R," ").concat(G," L").concat(x.x," ").concat(x.y," L").concat(Z," ").concat(re," z")},h)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),c=i.d,h=i.strokeWidth,g=i.stroke,x=i.fill;return Object(le.g)(of,{d:c,fill:x,strokeWidth:h,stroke:g})}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&Dw(e.prototype,n),a}(le.a),Dm=function(t,e){return Ee(t,e)},Iw=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Iv=function(){return ft.a.Date.now()},Lw=Math.max,zw=Math.min,Bw=function(t,e,n){var r,a,i,c,h,g,x=0,j=!1,T=!1,R=!0;if(typeof t!="function")throw new TypeError("Expected a function");function G(Ce){var Je=r,qe=a;return r=a=void 0,x=Ce,c=t.apply(qe,Je)}function Z(Ce){return x=Ce,h=setTimeout(ye,e),j?G(Ce):c}function re(Ce){var Je=Ce-g;return g===void 0||Je>=e||Je<0||T&&Ce-x>=i}function ye(){var Ce=Iv();if(re(Ce))return de(Ce);h=setTimeout(ye,function(Je){var qe=e-(Je-g);return T?zw(qe,i-(Je-x)):qe}(Ce))}function de(Ce){return h=void 0,R&&r?G(Ce):(r=a=void 0,c)}function we(){var Ce=Iv(),Je=re(Ce);if(r=arguments,a=this,g=Ce,Je){if(h===void 0)return Z(g);if(T)return clearTimeout(h),h=setTimeout(ye,e),G(g)}return h===void 0&&(h=setTimeout(ye,e)),c}return e=bi(e)||0,jn(n)&&(j=!!n.leading,i=(T="maxWait"in n)?Lw(bi(n.maxWait)||0,e):i,R="trailing"in n?!!n.trailing:R),we.cancel=function(){h!==void 0&&clearTimeout(h),x=0,r=g=a=h=void 0},we.flush=function(){return h===void 0?c:de(Iv())},we},Fw=o(172);function Xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nm,Cm,Rm,Hw=function(){function t(r){(function(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Xa(this,"undos",[]),Xa(this,"redos",[]),Xa(this,"callbacks",[]),Xa(this,"stopWatch",null),Xa(this,"curData",null),Xa(this,"maxSize",50),Xa(this,"waitTime",100),Xa(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Dm(Iw(this.undos),r)||(this.undos.push(r),Dm(this.curData,r)||(this.redos=[]),this.eventCenter.emit(pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=xn(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=xn(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Fw.a)(r,Bw(function(){var i=r.modelToHistoryData();i&&a.add(i)},this.waitTime))}}])&&Xw(e.prototype,n),t}();function Lv(t){return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function Uw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Im(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Im(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Im(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lm(Object(n),!0).forEach(function(r){$u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zv(t,e){return zv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zv(t,e)}function Gw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ed(t);if(e){var a=Ed(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Yw(this,n)}}function Yw(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vs(t)}function vs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ed(t)}function $u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bm,Fm,Xm,Bv=ii((Rm=Cm=function(t){(function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),h&&zv(c,h)})(i,t);var e,n,r,a=Gw(i);function i(){var c;return function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,i),$u(vs(c=a.call(this)),"ref",Object(le.f)()),$u(vs(c),"__prevText",{type:"",text:"",id:""}),$u(vs(c),"keyupHandler",function(h){var g=c.props.graphModel.textEditElement;h.key==="Enter"&&h.altKey&&g.setElementState(0)}),$u(vs(c),"inputHandler",function(h){var g=h.target.innerText,x=c.props.graphModel.textEditElement;c.__prevText={type:x.type,text:g.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),$u(vs(c),"keydownHandler",function(h){h.stopPropagation()}),c.state={style:{left:0,top:0}},c}return e=i,r=[{key:"getDerivedStateFromProps",value:function(c){var h,g=c.graphModel,x=g.transformModel,j=g.theme,T=j.inputText,R=g.textEditElement;if(R){var G;if((G=R.text)===null||G===void 0||!G.value)if(R.BaseType===zn.EDGE){var Z=(R=R).text,re=R.textPosition,ye=re.x,de=re.y;Z.x=ye,Z.y=de,R.setText(Z)}else R=R;var we={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(R.BaseType===zn.EDGE){var Ce=j.edgeText,Je=Ce.overflowMode,qe=Ce.lineHeight,bt=Ce.wrapPadding,Ke=Ce.textWidth;Ke&&Je==="autoWrap"&&(h=Vu(Vu({},we),{},{width:Ke,minWidth:Ke,lineHeight:qe,padding:bt}))}else if(R.BaseType===zn.NODE){var dt=j.nodeText,nt=dt.overflowMode,Kt=dt.lineHeight,Qt=dt.wrapPadding,Nt=dt.textWidth,rn=R,Hn=rn.width,Un=rn.modelType,Or=rn.textWidth||Nt||Hn;(Un!==Wt.TEXT_NODE&&nt==="autoWrap"||Un===Wt.TEXT_NODE&&Nt)&&(h=Vu(Vu({},we),{},{width:Or,minWidth:Or,lineHeight:Kt,padding:Qt}))}var yo=R.text,vo=yo.x,Ci=yo.y,Ku=Uw(x.CanvasPointToHtmlPoint([vo,Ci]),2);return{style:Vu(Vu({left:Ku[0],top:Ku[1]},h),T)}}}}],(n=[{key:"componentDidUpdate",value:function(){var c=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var h=this.__prevText,g=h.text,x=h.id;c.updateText(x,g),c.eventCenter.emit(pt.TEXT_UPDATE,Vu({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(c){if(window.getSelection!==void 0&&document.createRange!==void 0){var h=document.createRange();h.selectNodeContents(c),h.collapse(!1);var g=window.getSelection();g.removeAllRanges(),g.addRange(h)}}},{key:"render",value:function(){var c,h=this.props.graphModel.textEditElement,g=this.state.style;return h?Object(le.g)("div",{contentEditable:!0,className:"lf-text-input",style:g,ref:this.ref,key:h.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(c=h.text)===null||c===void 0?void 0:c.value):null}}])&&zm(e.prototype,n),r&&zm(e,r),i}(le.a),$u(Cm,"toolName","textEdit"),Nm=Rm))||Nm,Ww=function(t){return t.modelType===Wt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,a=(n.x+r.x)/2,i=(n.y+r.y)/2,c=Math.abs(n.x-r.x)+10,h=Math.abs(n.y-r.y)+10;return{x:a-c/2,y:i-h/2,x1:a+c/2,y1:i+h/2}}(t):t.modelType===Wt.POLYLINE_EDGE?function(e){var n=e.points,r=Ei(n),a=xi(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):t.modelType===Wt.BEZIER_EDGE?function(e){var n=e.path,r=ar(n),a=xi(r,8),i=a.x,c=a.y,h=a.width,g=a.height;return{x:i-h/2,y:c-g/2,x1:i+h/2,y1:c+g/2}}(t):void 0};function Fv(t){return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function Hm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,c,h=[],g=!0,x=!1;try{for(a=a.call(n);!(g=(i=a.next()).done)&&(h.push(i.value),!r||h.length!==r);g=!0);}catch(j){x=!0,c=j}finally{try{g||a.return==null||a.return()}finally{if(x)throw c}}return h}}(t,e)||Um(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vw(t){return function(e){if(Array.isArray(e))return Xv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Um(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Um(t,e){if(t){if(typeof t=="string")return Xv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xv(t,e):void 0}}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hv(t,e){return Hv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hv(t,e)}function Kw(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jd(t);if(e){var a=jd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return qw(this,n)}}function qw(t,e){if(e&&(Fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return af(t)}function af(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jd(t)}function uf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uv=ii((Xm=Fm=function(t){(function(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),c&&Hv(i,c)})(a,t);var e,n,r=Kw(a);function a(i){var c;(function(j,T){if(!(j instanceof T))throw new TypeError("Cannot call a class as a function")})(this,a),uf(af(c=r.call(this)),"stepDrag",void 0),uf(af(c),"handleMouseDown",function(j){c.stepDrag.handleMouseDown(j)}),uf(af(c),"onDragging",function(j){var T=j.deltaX,R=j.deltaY,G=c.props.graphModel,Z=G.getSelectElements(!0);G.moveNodes(Z.nodes.map(function(re){return re.id}),T,R)}),uf(af(c),"handleContextMenu",function(j){j.preventDefault();var T=c.props,R=T.graphModel,G=T.graphModel,Z=G.eventCenter,re=G.selectElements,ye=R.getPointByClient({x:j.clientX,y:j.clientY}),de={nodes:[],edges:[]};Vw(re.values()).forEach(function(we){we.BaseType===zn.NODE&&de.nodes.push(we.getData()),we.BaseType===zn.EDGE&&de.edges.push(we.getData())}),Z.emit(pt.SELECTION_CONTEXTMENU,{data:de,e:j,position:ye})});var h=i.graphModel,g=h.gridSize,x=h.eventCenter;return c.stepDrag=new To({onDragging:c.onDragging,step:g,eventType:"SELECTION",eventCenter:x}),c}return e=a,(n=[{key:"render",value:function(){var i=this.props.graphModel,c=i.selectElements,h=i.transformModel;if(!(c.size<=1)){var g=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;c.forEach(function(re){var ye={x:0,y:0,x1:0,y1:0};re.BaseType===zn.NODE&&(ye=function(de){var we=de.x,Ce=de.y,Je=de.width,qe=de.height;return{x:we-Je/2,y:Ce-qe/2,x1:we+Je/2,y1:Ce+qe/2}}(re)),re.BaseType===zn.EDGE&&(ye=Ww(re)),g=Math.min(g,ye.x),x=Math.min(x,ye.y),j=Math.max(j,ye.x1),T=Math.max(T,ye.y1)});var R=Hm(h.CanvasPointToHtmlPoint([g,x]),2);g=R[0],x=R[1];var G=Hm(h.CanvasPointToHtmlPoint([j,T]),2);j=G[0],T=G[1];var Z={left:"".concat(g-10,"px"),top:"".concat(x-10,"px"),width:"".concat(j-g+20,"px"),height:"".concat(T-x+20,"px")};return Object(le.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&$w(e.prototype,n),a}(le.a),uf(Fm,"toolName","multipleSelect"),Bm=Xm))||Bm;function Zw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jw=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Sd(this,"tools",void 0),Sd(this,"components",void 0),Sd(this,"toolMap",new Map),Sd(this,"instance",void 0),this.instance=r,this.isDisabledTool(Bv.toolName)||this.registerTool(Bv.toolName,Bv),this.isDisabledTool(Uv.toolName)||this.registerTool(Uv.toolName,Uv);var a=r.graphModel;a.eventCenter.on("".concat(pt.GRAPH_TRANSFORM,",").concat(pt.NODE_CLICK,",").concat(pt.BLANK_CLICK," "),function(){var i=a.textEditElement,c=a.editConfigModel,h=c.edgeTextEdit,g=c.nodeTextEdit;(h||g)&&i&&a.textEditElement.setElementState(cn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Zw(e.prototype,n),t}(),Qw=o(173),ex=o.n(Qw);function tx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gm=function(){function t(r){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Gv(this,"mousetrap",void 0),Gv(this,"options",void 0),Gv(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new ex.a(this.target),r.keyboard.enabled&&!a.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(vn(a))a.forEach(function(g){var x=g.keys,j=g.callback,T=g.action;return r.on(x,j,T)});else{var i=a.keys,c=a.callback,h=a.action;this.on(i,c,h)}}},{key:"on",value:function(r,a,i){this.mousetrap.bind(this.getKeys(r),a,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(i){return a.formatKey(i)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&tx(e.prototype,n),t}(),nx=Gm,aa=null;function Ym(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Wm(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var gs=40,Yv=40;function Wv(t){return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function Vm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vm(Object(n),!0).forEach(function(r){In(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vv=Symbol("plugin register by Logicflow.use"),$v=function(){function t(a){var i,c,h=this;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),In(this,"container",void 0),In(this,"width",void 0),In(this,"height",void 0),In(this,"graphModel",void 0),In(this,"history",void 0),In(this,"viewMap",new Map),In(this,"tool",void 0),In(this,"keyboard",void 0),In(this,"dnd",void 0),In(this,"options",void 0),In(this,"snaplineModel",void 0),In(this,"components",[]),In(this,"plugins",void 0),In(this,"extension",{}),In(this,"adapterIn",void 0),In(this,"adapterOut",void 0),In(this,"getView",function(g){return h.viewMap.get(g)}),a=Gg(a),this.options=a,this.container=this.initContainer(a.container),this.plugins=a.plugins,this.graphModel=new s_(cf({},a)),this.tool=new Jw(this),this.history=new Hw(this.graphModel.eventCenter),this.dnd=new i1({lf:this}),this.keyboard=new nx({lf:this,keyboard:a.keyboard}),a.snapline!==!1&&(this.snaplineModel=new om(this.graphModel),i=this.graphModel.eventCenter,c=this.snaplineModel,i.on("node:mousemove",function(g){var x=g.data;c.setNodeSnapLine(x)}),i.on("node:mouseup",function(){c.clearSnapline()})),function(g,x){var j=g.keyboard,T=j.options.keyboard;j.on(["cmd + c","ctrl + c"],function(){if(Yv=gs,!T.enabled||x.textEditElement)return!0;var R=g.options.guards,G=x.getSelectElements(!1);return R&&R.beforeClone&&!R.beforeClone(G)||G.nodes.length===0&&G.edges.length===0?(aa=null,!0):((aa=G).nodes.forEach(function(Z){return Ym(Z,gs)}),aa.edges.forEach(function(Z){return Wm(Z,gs)}),!1)}),j.on(["cmd + v","ctrl + v"],function(){if(!T.enabled||x.textEditElement)return!0;if(aa&&(aa.nodes||aa.edges)){g.clearSelectElements();var R=g.addElements(aa,Yv);if(!R)return!0;R.nodes.forEach(function(G){return g.selectElementById(G.id,!0)}),R.edges.forEach(function(G){return g.selectElementById(G.id,!0)}),aa.nodes.forEach(function(G){return Ym(G,gs)}),aa.edges.forEach(function(G){return Wm(G,gs)}),Yv+=gs}return!1}),j.on(["cmd + z","ctrl + z"],function(){return!T.enabled||!!x.textEditElement||(g.undo(),!1)}),j.on(["cmd + y","ctrl + y"],function(){return!T.enabled||!!x.textEditElement||(g.redo(),!1)}),j.on(["backspace"],function(){if(!T.enabled||x.textEditElement)return!0;var R=x.getSelectElements(!0);return g.clearSelectElements(),R.edges.forEach(function(G){return g.deleteEdge(G.id)}),R.nodes.forEach(function(G){return g.deleteNode(G.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var h={BaseEdge:rf,BaseEdgeModel:Ol,BaseNode:na,BaseNodeModel:ta,RectNode:By,RectNodeModel:vy,CircleNode:Uy,CircleNodeModel:Zh,PolygonNode:$y,PolygonNodeModel:py,TextNode:av,TextNodeModel:_y,LineEdge:Ev,LineEdgeModel:Hc,DiamondNode:Jy,DiamondNodeModel:ny,PolylineEdge:Mv,PolylineEdgeModel:Du,BezierEdge:Nv,BezierEdgeModel:Yh,EllipseNode:rv,EllipseNodeModel:ay,HtmlNode:lv,HtmlNodeModel:xy,h:le.g,type:a};this.viewMap.forEach(function(R){var G=R.extendKey;G&&(h[G]=R)}),this.graphModel.modelMap.forEach(function(R){var G=R.extendKey;G&&(h[G]=R)});var g=i(h),x=g.view,j=g.model,T=x;c&&!T.isObervered&&(T.isObervered=!0,T=st(T)),this.setView(a,T),this.graphModel.setModel(a,j)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var i=a.view;a.isObserverView===!1||i.isObervered||(i.isObervered=!0,i=st(i)),this.setView(a.type,i),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(c){a.registerElement(c)})}},{key:"defaultRegister",value:function(){this.registerElement({view:By,model:vy,type:"rect"}),this.registerElement({type:"circle",view:Uy,model:Zh}),this.registerElement({type:"polygon",view:$y,model:py}),this.registerElement({type:"line",view:Ev,model:Hc}),this.registerElement({type:"polyline",view:Mv,model:Du}),this.registerElement({type:"bezier",view:Nv,model:Yh}),this.registerElement({type:"text",view:av,model:_y}),this.registerElement({type:"ellipse",view:rv,model:ay}),this.registerElement({type:"diamond",view:Jy,model:ny}),this.registerElement({type:"html",view:lv,model:xy})}},{key:"selectElementById",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(a,i),!i&&c&&this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var i=this.graphModel.transformModel,c=a.coordinate,h=a.id;if(!c){var g=this.getNodeModelById(h);g&&(c=g.getData());var x=this.getEdgeModelById(h);x&&(c=x.textPosition)}var j=c,T=j.x,R=j.y;i.focusOn(T,R,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,i){this.graphModel.resize(a,i),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,i){this.graphModel.updateText(a,i)}},{key:"deleteElement",value:function(a){var i,c,h,g=this.getModelById(a);return!!g&&(c=(h=(In(i={},zn.NODE,this.deleteNode),In(i,zn.EDGE,this.deleteEdge),i)[g.BaseType])===null||h===void 0?void 0:h.call(this,a))!==null&&c!==void 0&&c}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getData()}},{key:"changeNodeType",value:function(a,i){this.graphModel.changeNodeType(a,i)}},{key:"changeEdgeType",value:function(a,i){this.graphModel.changeEdgeType(a,i)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(a,i,c)}},{key:"deleteNode",value:function(a){var i=this.graphModel.getNodeModelById(a);if(!i)return!1;var c=i.getData(),h=this.options.guards,g=!h||!h.beforeDelete||h.beforeDelete(c);return g&&this.graphModel.deleteNode(a),g}},{key:"cloneNode",value:function(a){var i=this.graphModel.getNodeModelById(a).getData(),c=this.options.guards;if(!c||!c.beforeClone||c.beforeClone(i))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,i){return this.graphModel.changeNodeId(a,i)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){var i;return(i=this.graphModel.getNodeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var i=this.options.guards,c=this.graphModel.edgesMap[a];if(!c)return!1;var h=c.model.getData(),g=!i||!i.beforeDelete||i.beforeDelete(h);return g&&this.graphModel.deleteEdgeById(a),g}},{key:"deleteEdgeByNodeId",value:function(a){var i=a.sourceNodeId,c=a.targetNodeId;i&&c?this.graphModel.deleteEdgeBySourceAndTarget(i,c):i?this.graphModel.deleteEdgeBySource(i):c&&this.graphModel.deleteEdgeByTarget(c)}},{key:"changeEdgeId",value:function(a,i){return this.graphModel.changeEdgeId(a,i)}},{key:"getEdgeModelById",value:function(a){var i;return(i=this.graphModel.edgesMap[a])===null||i===void 0?void 0:i.model}},{key:"getEdgeModels",value:function(a){var i=this.graphModel.edges,c=a.sourceNodeId,h=a.targetNodeId;if(c&&h){var g=[];return i.forEach(function(T){T.sourceNodeId===c&&T.targetNodeId===h&&g.push(T)}),g}if(c){var x=[];return i.forEach(function(T){T.sourceNodeId===c&&x.push(T)}),x}if(h){var j=[];return i.forEach(function(T){T.targetNodeId===h&&j.push(T)}),j}return[]}},{key:"getEdgeDataById",value:function(a){var i;return(i=this.getEdgeModelById(a))===null||i===void 0?void 0:i.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.setProperties(rr(i))}},{key:"deleteProperty",value:function(a,i){var c;(c=this.graphModel.getElement(a))===null||c===void 0||c.deleteProperty(i)}},{key:"getProperties",value:function(a){var i;return(i=this.graphModel.getElement(a))===null||i===void 0?void 0:i.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,i){return this.graphModel.setElementZIndex(a,i)}},{key:"addElements",value:function(a){for(var i=this,c=a.nodes,h=a.edges,g={},x={nodes:[],edges:[]},j=0;j<c.length;j++){var T=c[j],R=T.id,G=this.addNode(T);if(!G)return;R&&(g[R]=G.id),x.nodes.push(G)}return h.forEach(function(Z){var re=Z.sourceNodeId,ye=Z.targetNodeId;g[re]&&(re=g[re]),g[ye]&&(ye=g[ye]);var de=i.graphModel.addEdge(cf(cf({},Z),{},{sourceNodeId:re,targetNodeId:ye}));x.edges.push(de)}),x}},{key:"getAreaElement",value:function(a,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],g=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(a,i,c,h,g).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();if(this.adapterOut){for(var i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];return this.adapterOut.apply(this,[a].concat(c))}return a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){var i=this.graphModel,c=i.editConfigModel,h=i.transformModel;c.updateEditConfig(a),(a==null?void 0:a.stopMoveGraph)!==void 0&&h.updateTranslateLimits(a.stopMoveGraph),a!=null&&a.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,i){return this.graphModel.getPointByClient({x:a,y:i})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=rr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=rr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,i){return this.graphModel.transformModel.zoom(a,i)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,i){this.graphModel.transformModel.translate(a,i)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,i=a.TRANSLATE_X,c=a.TRANSLATE_Y;this.translate(-i,-c)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,i){i===void 0&&(i=a),this.graphModel.fitView(a,i)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,i){this.graphModel.eventCenter.on(a,i)}},{key:"off",value:function(a,i){this.graphModel.eventCenter.off(a,i)}},{key:"once",value:function(a,i){this.graphModel.eventCenter.once(a,i)}},{key:"emit",value:function(a,i){this.graphModel.eventCenter.emit(a,i)}},{key:"initContainer",value:function(a){var i=document.createElement("div");return i.style.position="relative",i.style.width="100%",i.style.height="100%",a.innerHTML="",a.appendChild(i),i}},{key:"installPlugins",value:function(){var a,i=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=(a=this.plugins)!==null&&a!==void 0?a:t.extensions;h.forEach(function(g){var x=null,j=null;g[Vv]?(x=g.extension,j=g.props):x=g;var T=x.pluginName||x.name;c.indexOf(T)===-1&&i.installPlugin(x,j)})}},{key:"installPlugin",value:function(a,i){if(Wv(a)==="object"){var c=a.install,h=a.render;return c&&c.call(a,this,t),h&&this.components.push(h.bind(a)),void(this.extension[a.pluginName]=a)}var g=a,x=new g({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:i});x.render&&this.components.push(x.render.bind(x)),this.extension[g.pluginName]=x}},{key:"updateAttributes",value:function(a,i){this.graphModel.updateAttributes(a,i)}},{key:"createFakerNode",value:function(a){var i=this.graphModel.modelMap.get(a.type);if(i){var c=new i(cf(cf({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(c),c}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,i){this.viewMap.set(a,i)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(rr(a)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(le.j)(Object(le.g)(r1,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a,i){var c,h,g=a.pluginName;g||(g=a.name);var x=(c=this.extensions.get(g))===null||c===void 0?void 0:c.extension;x&&x.destroy&&x.destroy(),this.extensions.set(g,(In(h={},Vv,Vv),In(h,"extension",a),In(h,"props",i),h))}}],n&&$m(e.prototype,n),r&&$m(e,r),t}();function ii(t){return st(t)}In($v,"extensions",new Map),p.default=$v}])})})(qv,qv.exports);var ot=qv.exports;const kd=ax(ot);var hx=function(){function b(){globalThis._ids=this,this._ids=new Set}return b.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var p=Math.random()*16|0,o=s==="x"?p:p&3|8;return o.toString(16)});return y},b.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},b}(),yx=(globalThis==null?void 0:globalThis._ids)||new hx;function Es(){return yx.next()}var R0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),vx=function(b){R0(y,b);function y(s,p){var o=this;return s.id||(s.id="Event_"+Es()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=b.call(this,s,p)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var s=b.prototype.getConnectedTargetRules.call(this),p={message:"起始节点不能作为边的终点",validate:function(){return!1}};return s.push(p),s},y.extendKey="StartEventModel",y}(ot.CircleNodeModel),gx=function(b){R0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}(ot.CircleNode),bx={type:"bpmn:startEvent",view:gx,model:vx},I0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Rd=function(){return Rd=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},Rd.apply(this,arguments)},mx=function(b){I0(y,b);function y(s,p){var o=this;return s.id||(s.id="Event_"+Es()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=b.call(this,s,p)||this,o}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var s=b.prototype.getConnectedSourceRules.call(this),p={message:"结束节点不能作为边的起点",validate:function(){return!1}};return s.push(p),s},y.extendKey="EndEventModel",y}(ot.CircleNodeModel),_x=function(b){I0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var s=this.props.model,p=s.getNodeStyle(),o=s.x,f=s.y,d=s.r,O=b.prototype.getShape.call(this);return ot.h("g",{},O,ot.h("circle",Rd(Rd({},p),{cx:o,cy:f,r:d-5})))},y.extendKey="EndEventView",y}(ot.CircleNode),Ox={type:"bpmn:endEvent",view:_x,model:mx},L0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),pf=function(){return pf=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},pf.apply(this,arguments)},wx=function(b){L0(y,b);function y(s,p){var o=this;return s.id||(s.id="Gateway_"+Es()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),o=b.call(this,s,p)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return y.extendKey="ExclusiveGatewayModel",y}(ot.PolygonNodeModel),xx=function(b){L0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.points,v=s.getNodeStyle();return ot.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(o-d/2)+")"},ot.h("polygon",pf(pf({},v),{x:p,y:o,points:O})),ot.h("path",pf({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},y.extendKey="ExclusiveGatewayNode",y}(ot.PolygonNode),Ex={type:"bpmn:exclusiveGateway",view:xx,model:wx},z0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Id=function(){return Id=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},Id.apply(this,arguments)},jx=function(b){z0(y,b);function y(s,p){var o=this;return s.id||(s.id="Activity_"+Es()),o=b.call(this,s,p)||this,o}return y.extendKey="UserTaskModel",y}(ot.RectNodeModel),Sx=function(b){z0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.getNodeStyle();return ot.h("svg",{x:p-f/2+5,y:o-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},ot.h("path",{fill:O.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return ot.h("g",{},[ot.h("rect",Id(Id({},v),{x:p-f/2,y:o-d/2,rx:O,ry:O,width:f,height:d})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(ot.RectNode),Px={type:"bpmn:userTask",view:Sx,model:jx},B0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Zv=function(){return Zv=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},Zv.apply(this,arguments)},Ax=function(b){B0(y,b);function y(s,p){var o=this;return s.id||(s.id="Activity_"+Es()),o=b.call(this,s,p)||this,o}return y.extendKey="ServiceTaskModel",y}(ot.RectNodeModel),Mx=function(b){B0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.getNodeStyle();return ot.h("svg",{x:p-f/2+5,y:o-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},ot.h("path",{fill:O.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.radius,v=s.getNodeStyle();return ot.h("g",{},[ot.h("rect",Zv({x:p-f/2,y:o-d/2,rx:O,ry:O,width:f,height:d},v)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(ot.RectNode),kx={type:"bpmn:serviceTask",view:Mx,model:Ax},F0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Tx=function(b){F0(y,b);function y(s,p){var o=this;return s.id||(s.id="Flow_"+Es()),o=b.call(this,s,p)||this,o}return y.extendKey="SequenceFlowModel",y}(ot.PolylineEdgeModel),Dx=function(b){F0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(ot.PolylineEdge),Nx={type:"bpmn:sequenceFlow",view:Dx,model:Tx},Jm={width:40,height:40},Qm={width:40,height:40},e0={width:40,height:40},t0={width:100,height:80},n0={width:100,height:80},Cx={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Rx=function(){function b(y){var s=y.lf;s.setTheme(Cx),s.register(bx),s.register(Ox),s.register(Ex),s.register(Px),s.register(kx),s.options.customBpmnEdge||(s.register(Nx),s.setDefaultEdgeType("bpmn:sequenceFlow"))}return b.pluginName="bpmnElement",b}(),Ix=function(){function b(){globalThis._ids=this,this._ids=new Set}return b.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var p=Math.random()*16|0,o=s==="x"?p:p&3|8;return o.toString(16)});return y},b.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},b}(),Lx=(globalThis==null?void 0:globalThis._ids)||new Ix;function r0(){return Lx.next()}function X0(b){return Object.prototype.toString.call(b)}function zx(b){return"  ".repeat(b)}function Ld(b){var y=b;return X0(b)==="[object Object]"?(y={},Object.keys(b).forEach(function(s){var p=s;s.charAt(0)==="-"&&(p=s.substring(1)),y[p]=Ld(b[s])})):Array.isArray(b)&&(y=[],b.forEach(function(s,p){y[p]=Ld(s)})),y}function Bx(b){var y=b;try{typeof y!="string"&&(y=JSON.parse(b))}catch{y=JSON.stringify(Ld(b)).replace(/"/g,"'")}return y}var bs=`	
`;function Dd(b,y,s){var p=zx(s),o="";if(y==="#text")return bs+p+b;if(y==="#cdata-section")return bs+p+"<![CDATA["+b+"]]>";if(y==="#comment")return bs+p+"<!--"+b+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+Bx(b)+'"';if(Array.isArray(b))b.forEach(function(v){o+=Dd(v,y,s+1)});else if(X0(b)==="[object Object]"){var f=Object.keys(b),d="",O="";o+=(s===0?"":bs+p)+"<"+y,f.forEach(function(v){v.charAt(0)==="-"?d+=Dd(b[v],v,s+1):O+=Dd(b[v],v,s+1)}),o+=d+(O!==""?">"+O+(bs+p)+"</"+y+">":" />")}else o+=bs+p+("<"+y+">"+b.toString()+"</"+y+">");return o}function Fx(b){var y="";for(var s in b)y+=Dd(b[s],s,0);return y}var Gr=function(){};Gr.ObjTree=function(){return this};Gr.ObjTree.VERSION="0.23";Gr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Gr.ObjTree.prototype.attr_prefix="-";Gr.ObjTree.prototype.parseXML=function(b){var y;if(window.DOMParser){var s=new DOMParser,p=s.parseFromString(b,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(b),y=s.documentElement);if(y)return this.parseDOM(y)};Gr.ObjTree.prototype.parseHTTP=function(b,y,s){var p={};for(var o in y)p[o]=y[o];if(p.method||(typeof p.postBody>"u"&&typeof p.postbody>"u"&&typeof p.parameters>"u"?p.method="get":p.method="post"),s){p.asynchronous=!0;var f=this,d=s,O=p.onComplete;p.onComplete=function(M){var A;M&&M.responseXML&&M.responseXML.documentElement&&(A=f.parseDOM(M.responseXML.documentElement)),d(A,M),O&&O(M)}}else p.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){p.uri=b;var E=new HTTP.Request(p);E&&(v=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(b,p);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Gr.ObjTree.prototype.parseDOM=function(b){if(b){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(b);if(this.__force_array[b.nodeName]&&(s=[s]),b.nodeType!=11){var p={};p[b.nodeName]=s,s=p}return s}};Gr.ObjTree.prototype.parseElement=function(b){if(b.nodeType!=7){if(b.nodeType==3||b.nodeType==4||b.nodeType==8){var y=b.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:b.nodeValue}var s=null,p={};if(b.attributes&&b.attributes.length){s={};for(var o=0;o<b.attributes.length;o++){var f=b.attributes[o].nodeName;if(typeof f=="string"){var d=b.attributes[o].nodeValue;try{d=JSON.parse(b.attributes[o].nodeValue.replace(/'/g,'"'))}catch{d=b.attributes[o].nodeValue}d&&(f=this.attr_prefix+f,typeof p[f]>"u"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}if(b.childNodes&&b.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<b.childNodes.length&&O;o++){var v=b.childNodes[o].nodeType;v==3||v==4||v==8||(O=!1)}if(O){s||(s="");for(var o=0;o<b.childNodes.length;o++)s+=b.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<b.childNodes.length;o++){var f=b.childNodes[o].nodeName;if(typeof f=="string"){var d=this.parseElement(b.childNodes[o]);d&&(typeof p[f]>"u"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}}else s===null&&(s={});return s}};Gr.ObjTree.prototype.addNode=function(b,y,s,p){this.__force_array[y]?(s==1&&(b[y]=[]),b[y][b[y].length]=p):s==1?b[y]=p:s==2?b[y]=[b[y],p]:b[y][b[y].length]=p};Gr.ObjTree.prototype.writeXML=function(b){var y=this.hash_to_xml(null,b);return this.xmlDecl+y};Gr.ObjTree.prototype.hash_to_xml=function(b,y){var s=[],p=[];for(var o in y)if(y.hasOwnProperty(o)){var f=y[o];o.charAt(0)!=this.attr_prefix?typeof f>"u"||f==null?s[s.length]="<"+o+" />":typeof f=="object"&&f.constructor==Array?s[s.length]=this.array_to_xml(o,f):typeof f=="object"?s[s.length]=this.hash_to_xml(o,f):s[s.length]=this.scalar_to_xml(o,f):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var d=p.join(""),O=s.join("");return typeof b>"u"||b==null||(s.length>0?O.match(/\n/)?O="<"+b+d+`>
`+O+"</"+b+`>
`:O="<"+b+d+">"+O+"</"+b+`>
`:O="<"+b+d+` />
`),O};Gr.ObjTree.prototype.array_to_xml=function(b,y){for(var s=[],p=0;p<y.length;p++){var o=y[p];typeof o>"u"||o==null?s[s.length]="<"+b+" />":typeof o=="object"&&o.constructor==Array?s[s.length]=this.array_to_xml(b,o):typeof o=="object"?s[s.length]=this.hash_to_xml(b,o):s[s.length]=this.scalar_to_xml(b,o)}return s.join("")};Gr.ObjTree.prototype.scalar_to_xml=function(b,y){return b=="#text"?this.xml_escape(y):"<"+b+">"+this.xml_escape(y)+"</"+b+`>
`};Gr.ObjTree.prototype.xml_escape=function(b){return b.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Xx=function(b){return new Gr.ObjTree().parseXML(b)},Hx=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Jv=function(){return Jv=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},Jv.apply(this,arguments)},Wd=function(b,y){var s=typeof Symbol=="function"&&b[Symbol.iterator];if(!s)return b;var p=s.call(b),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},Ii;(function(b){b.START="bpmn:startEvent",b.END="bpmn:endEvent",b.GATEWAY="bpmn:exclusiveGateway",b.USER="bpmn:userTask",b.SYSTEM="bpmn:serviceTask",b.FLOW="bpmn:sequenceFlow"})(Ii||(Ii={}));var H0=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],o0=["properties","startPoint","endPoint","pointsList"];function i0(b){var y=b?o0.concat(b):o0;return function(s){function p(o){var f={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(d){return p(d)}):(Object.entries(o).forEach(function(d){var O=Wd(d,2),v=O[0],E=O[1];typeof E!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?f[v]=E:f["-"+v]=E:y.includes(v)?f["-"+v]=p(E):f[v]=p(E)}),f)}return p(s)}}function zd(b){var y={};return Object.entries(b).forEach(function(s){var p=Wd(s,2),o=p[0],f=p[1];o.indexOf("-")===0?y[o.substring(1)]=Ld(f):typeof f=="string"?y[o]=f:Object.prototype.toString.call(f)==="[object Object]"?y[o]=zd(f):Array.isArray(f)?y[o]=f.map(function(d){return zd(d)}):y[o]=f}),y}function Ux(b,y,s){var p=new Map;y.nodes.forEach(function(f){var d,O={"-id":f.id};if(!((d=f.text)===null||d===void 0)&&d.value&&(O["-name"]=f.text.value),f.properties){var v=i0(s)(f.properties);Object.assign(O,v)}p.set(f.id,O),b[f.type]?Array.isArray(b[f.type])?b[f.type].push(O):b[f.type]=[b[f.type],O]:b[f.type]=O});var o=y.edges.map(function(f){var d,O,v=p.get(f.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(f.id):v["bpmn:incoming"]=[v["bpmn:incoming"],f.id]:v["bpmn:incoming"]=f.id;var E={"-id":f.id,"-sourceRef":f.sourceNodeId,"-targetRef":f.targetNodeId};if(!((d=f.text)===null||d===void 0)&&d.value&&(E["-name"]=(O=f.text)===null||O===void 0?void 0:O.value),f.properties){var M=i0(s)(f.properties);Object.assign(E,M)}return E});y.edges.forEach(function(f){var d=p.get(f.sourceNodeId);d["bpmn:outgoing"]?Array.isArray(d["bpmn:outgoing"])?d["bpmn:outgoing"].push(f.id):d["bpmn:outgoing"]=[d["bpmn:outgoing"],f.id]:d["bpmn:outgoing"]=f.id}),b[Ii.FLOW]=o}function Gx(b,y){b["bpmndi:BPMNEdge"]=y.edges.map(function(s){var p,o=s.id,f=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((p=s.text)===null||p===void 0)&&p.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),b["bpmndi:BPMNShape"]=y.nodes.map(function(s){var p,o=s.id,f=100,d=80,O=s.x,v=s.y,E=Va.shapeConfigMap.get(s.type);E&&(f=E.width,d=E.height),O-=f/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":f,"-height":d}};return!((p=s.text)===null||p===void 0)&&p.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}function Yx(b){var y=[],s=[],p=b["bpmn:definitions"];if(p){var o=p["bpmn:process"];Object.keys(o).forEach(function(f){if(f.indexOf("bpmn:")===0){var d=o[f];if(f===Ii.FLOW){var O=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=Vx(d,O)}else{var v=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(Wx(d,v,f))}}})}return{nodes:y,edges:s}}function Wx(b,y,s){var p=[];if(Array.isArray(b))b.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=a0(O,s,d);p.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===b["-id"]}):o=y;var f=a0(o,s,b);p.push(f)}return p}function a0(b,y,s){var p=Number(b["dc:Bounds"]["-x"]),o=Number(b["dc:Bounds"]["-y"]),f=s["-name"],d=Va.shapeConfigMap.get(y);d&&(p+=d.width/2,o+=d.height/2);var O;Object.entries(s).forEach(function(A){var D=Wd(A,2),k=D[0],I=D[1];H0.indexOf(k)===-1&&(O||(O={}),O[k]=I)}),O&&(O=zd(O));var v;if(f&&(v={x:p,y:o,value:f},b["bpmndi:BPMNLabel"]&&b["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=b["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(E["-x"])+Number(E["-width"])/2,v.y=Number(E["-y"])+Number(E["-height"])/2}var M={id:b["-bpmnElement"],type:y,x:p,y:o,properties:O};return v&&(M.text=v),M}function Vx(b,y){var s=[];if(Array.isArray(b))b.forEach(function(o){var f;Array.isArray(y)?f=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):f=y,s.push(u0(f,o))});else{var p=void 0;Array.isArray(y)?p=y.find(function(o){return o["-bpmnElement"]===b["-id"]}):p=y,s.push(u0(p,b))}return s}function u0(b,y){var s,p=y["-name"];if(p){var o=b["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(v){f<v.length&&(f=v.length)}),s={value:p,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var d;Object.entries(y).forEach(function(v){var E=Wd(v,2),M=E[0],A=E[1];H0.indexOf(M)===-1&&(d||(d={}),d[M]=A)}),d&&(d=zd(d));var O={id:y["-id"],type:Ii.FLOW,pointsList:b["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(O.text=s),O}var Va=function(){function b(y){var s=this,p=y.lf;this.adapterOut=function(o,f){var d=Jv({},s.processAttributes);Ux(d,o,f);var O={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};Gx(O,o);var v=s.definitionAttributes;v["bpmn:process"]=d,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":O};var E={"bpmn:definitions":v};return E},this.adapterIn=function(o){if(o)return Yx(o)},p.adapterIn=function(o){return s.adapterIn(o)},p.adapterOut=function(o,f){return s.adapterOut(o,f)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+r0()},this.definitionAttributes={"-id":"Definitions_"+r0(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return b.prototype.setCustomShape=function(y,s){b.shapeConfigMap.set(y,s)},b.pluginName="bpmn-adapter",b.shapeConfigMap=new Map,b}();Va.shapeConfigMap.set(Ii.START,{width:Jm.width,height:Jm.height});Va.shapeConfigMap.set(Ii.END,{width:Qm.width,height:Qm.height});Va.shapeConfigMap.set(Ii.GATEWAY,{width:e0.width,height:e0.height});Va.shapeConfigMap.set(Ii.SYSTEM,{width:t0.width,height:t0.height});Va.shapeConfigMap.set(Ii.USER,{width:n0.width,height:n0.height});(function(b){Hx(y,b);function y(s){var p=b.call(this,s)||this;p.adapterXmlIn=function(f){var d=Xx(f);return p.adapterIn(d)},p.adapterXmlOut=function(f,d){var O=p.adapterOut(f,d);return Fx(O)};var o=s.lf;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p}return y.pluginName="bpmnXmlAdapter",y})(Va);var $x=function(){function b(){globalThis._ids=this,this._ids=new Set}return b.prototype.generateId=function(){var y="xxxxxxx".replace(/[x]/g,function(s){var p=Math.random()*16|0,o=s==="x"?p:p&3|8;return o.toString(16)});return y},b.prototype.next=function(){for(var y=this.generateId();this._ids.has(y);)y=this.generateId();return this._ids.add(y),y},b}(),Kx=(globalThis==null?void 0:globalThis._ids)||new $x;function qx(){return Kx.next()}ot.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),ot.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ot.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});ot.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});ot.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var sg,tr,U0,Zu,c0,G0,Qv,lg,eg,tg,ng={},Y0=[],Zx=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fg=Array.isArray;function Wa(b,y){for(var s in y)b[s]=y[s];return b}function W0(b){var y=b.parentNode;y&&y.removeChild(b)}function df(b,y,s){var p,o,f,d={};for(f in y)f=="key"?p=y[f]:f=="ref"?o=y[f]:d[f]=y[f];if(arguments.length>2&&(d.children=arguments.length>3?sg.call(arguments,2):s),typeof b=="function"&&b.defaultProps!=null)for(f in b.defaultProps)d[f]===void 0&&(d[f]=b.defaultProps[f]);return Nd(b,d,p,o,null)}function Nd(b,y,s,p,o){var f={type:b,props:y,key:s,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++U0,__i:-1,__u:0};return o==null&&tr.vnode!=null&&tr.vnode(f),f}function pg(b){return b.children}function Os(b,y){this.props=b,this.context=y}function ec(b,y){if(y==null)return b.__?ec(b.__,b.__i+1):null;for(var s;y<b.__k.length;y++)if((s=b.__k[y])!=null&&s.__e!=null)return s.__e;return typeof b.type=="function"?ec(b):null}function V0(b){var y,s;if((b=b.__)!=null&&b.__c!=null){for(b.__e=b.__c.base=null,y=0;y<b.__k.length;y++)if((s=b.__k[y])!=null&&s.__e!=null){b.__e=b.__c.base=s.__e;break}return V0(b)}}function s0(b){(!b.__d&&(b.__d=!0)&&Zu.push(b)&&!Bd.__r++||c0!==tr.debounceRendering)&&((c0=tr.debounceRendering)||G0)(Bd)}function Bd(){var b,y,s,p,o,f,d,O;for(Zu.sort(Qv);b=Zu.shift();)b.__d&&(y=Zu.length,p=void 0,f=(o=(s=b).__v).__e,d=[],O=[],s.__P&&((p=Wa({},o)).__v=o.__v+1,tr.vnode&&tr.vnode(p),q0(s.__P,p,o,s.__n,s.__P.ownerSVGElement!==void 0,32&o.__u?[f]:null,d,f??ec(o),!!(32&o.__u),O),p.__v=o.__v,p.__.__k[p.__i]=p,eE(d,p,O),p.__e!=f&&V0(p)),Zu.length>y&&Zu.sort(Qv));Bd.__r=0}function $0(b,y,s,p,o,f,d,O,v,E,M){var A,D,k,I,C,L=p&&p.__k||Y0,H=y.length;for(s.__d=v,Jx(s,y,L),v=s.__d,A=0;A<H;A++)(k=s.__k[A])!=null&&typeof k!="boolean"&&typeof k!="function"&&(D=k.__i===-1?ng:L[k.__i]||ng,k.__i=A,q0(b,k,D,o,f,d,O,v,E,M),I=k.__e,k.ref&&D.ref!=k.ref&&(D.ref&&dg(D.ref,null,k),M.push(k.ref,k.__c||I,k)),C==null&&I!=null&&(C=I),65536&k.__u||D.__k===k.__k?(v&&!v.isConnected&&(v=ec(D)),v=K0(k,v,b)):typeof k.type=="function"&&k.__d!==void 0?v=k.__d:I&&(v=I.nextSibling),k.__d=void 0,k.__u&=-196609);s.__d=v,s.__e=C}function Jx(b,y,s){var p,o,f,d,O,v=y.length,E=s.length,M=E,A=0;for(b.__k=[],p=0;p<v;p++)d=p+A,(o=b.__k[p]=(o=y[p])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Nd(null,o,null,null,null):fg(o)?Nd(pg,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Nd(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=b,o.__b=b.__b+1,O=Qx(o,s,d,M),o.__i=O,f=null,O!==-1&&(M--,(f=s[O])&&(f.__u|=131072)),f==null||f.__v===null?(O==-1&&A--,typeof o.type!="function"&&(o.__u|=65536)):O!==d&&(O===d+1?A++:O>d?M>v-d?A+=O-d:A--:O<d?O==d-1&&(A=O-d):A=0,O!==p+A&&(o.__u|=65536))):(f=s[d])&&f.key==null&&f.__e&&!(131072&f.__u)&&(f.__e==b.__d&&(b.__d=ec(f)),rg(f,f,!1),s[d]=null,M--);if(M)for(p=0;p<E;p++)(f=s[p])!=null&&!(131072&f.__u)&&(f.__e==b.__d&&(b.__d=ec(f)),rg(f,f))}function K0(b,y,s){var p,o;if(typeof b.type=="function"){for(p=b.__k,o=0;p&&o<p.length;o++)p[o]&&(p[o].__=b,y=K0(p[o],y,s));return y}b.__e!=y&&(s.insertBefore(b.__e,y||null),y=b.__e);do y=y&&y.nextSibling;while(y!=null&&y.nodeType===8);return y}function Qx(b,y,s,p){var o=b.key,f=b.type,d=s-1,O=s+1,v=y[s];if(v===null||v&&o==v.key&&f===v.type&&!(131072&v.__u))return s;if(p>(v!=null&&!(131072&v.__u)?1:0))for(;d>=0||O<y.length;){if(d>=0){if((v=y[d])&&!(131072&v.__u)&&o==v.key&&f===v.type)return d;d--}if(O<y.length){if((v=y[O])&&!(131072&v.__u)&&o==v.key&&f===v.type)return O;O++}}return-1}function l0(b,y,s){y[0]==="-"?b.setProperty(y,s??""):b[y]=s==null?"":typeof s!="number"||Zx.test(y)?s:s+"px"}function Td(b,y,s,p,o){var f;e:if(y==="style")if(typeof s=="string")b.style.cssText=s;else{if(typeof p=="string"&&(b.style.cssText=p=""),p)for(y in p)s&&y in s||l0(b.style,y,"");if(s)for(y in s)p&&s[y]===p[y]||l0(b.style,y,s[y])}else if(y[0]==="o"&&y[1]==="n")f=y!==(y=y.replace(/(PointerCapture)$|Capture$/i,"$1")),y=y.toLowerCase()in b||y==="onFocusOut"||y==="onFocusIn"?y.toLowerCase().slice(2):y.slice(2),b.l||(b.l={}),b.l[y+f]=s,s?p?s.u=p.u:(s.u=lg,b.addEventListener(y,f?tg:eg,f)):b.removeEventListener(y,f?tg:eg,f);else{if(o)y=y.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(y!="width"&&y!="height"&&y!="href"&&y!="list"&&y!="form"&&y!="tabIndex"&&y!="download"&&y!="rowSpan"&&y!="colSpan"&&y!="role"&&y in b)try{b[y]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&y[4]!=="-"?b.removeAttribute(y):b.setAttribute(y,s))}}function f0(b){return function(y){if(this.l){var s=this.l[y.type+b];if(y.t==null)y.t=lg++;else if(y.t<s.u)return;return s(tr.event?tr.event(y):y)}}}function q0(b,y,s,p,o,f,d,O,v,E){var M,A,D,k,I,C,L,H,V,te,ue,ee,J,Q,W,B=y.type;if(y.constructor!==void 0)return null;128&s.__u&&(v=!!(32&s.__u),f=[O=y.__e=s.__e]),(M=tr.__b)&&M(y);e:if(typeof B=="function")try{if(H=y.props,V=(M=B.contextType)&&p[M.__c],te=M?V?V.props.value:M.__:p,s.__c?L=(A=y.__c=s.__c).__=A.__E:("prototype"in B&&B.prototype.render?y.__c=A=new B(H,te):(y.__c=A=new Os(H,te),A.constructor=B,A.render=nE),V&&V.sub(A),A.props=H,A.state||(A.state={}),A.context=te,A.__n=p,D=A.__d=!0,A.__h=[],A._sb=[]),A.__s==null&&(A.__s=A.state),B.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=Wa({},A.__s)),Wa(A.__s,B.getDerivedStateFromProps(H,A.__s))),k=A.props,I=A.state,A.__v=y,D)B.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(B.getDerivedStateFromProps==null&&H!==k&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(H,te),!A.__e&&(A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(H,A.__s,te)===!1||y.__v===s.__v)){for(y.__v!==s.__v&&(A.props=H,A.state=A.__s,A.__d=!1),y.__e=s.__e,y.__k=s.__k,y.__k.forEach(function(U){U&&(U.__=y)}),ue=0;ue<A._sb.length;ue++)A.__h.push(A._sb[ue]);A._sb=[],A.__h.length&&d.push(A);break e}A.componentWillUpdate!=null&&A.componentWillUpdate(H,A.__s,te),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(k,I,C)})}if(A.context=te,A.props=H,A.__P=b,A.__e=!1,ee=tr.__r,J=0,"prototype"in B&&B.prototype.render){for(A.state=A.__s,A.__d=!1,ee&&ee(y),M=A.render(A.props,A.state,A.context),Q=0;Q<A._sb.length;Q++)A.__h.push(A._sb[Q]);A._sb=[]}else do A.__d=!1,ee&&ee(y),M=A.render(A.props,A.state,A.context),A.state=A.__s;while(A.__d&&++J<25);A.state=A.__s,A.getChildContext!=null&&(p=Wa(Wa({},p),A.getChildContext())),D||A.getSnapshotBeforeUpdate==null||(C=A.getSnapshotBeforeUpdate(k,I)),$0(b,fg(W=M!=null&&M.type===pg&&M.key==null?M.props.children:M)?W:[W],y,s,p,o,f,d,O,v,E),A.base=y.__e,y.__u&=-161,A.__h.length&&d.push(A),L&&(A.__E=A.__=null)}catch(U){y.__v=null,v||f!=null?(y.__e=O,y.__u|=v?160:32,f[f.indexOf(O)]=null):(y.__e=s.__e,y.__k=s.__k),tr.__e(U,y,s)}else f==null&&y.__v===s.__v?(y.__k=s.__k,y.__e=s.__e):y.__e=tE(s.__e,y,s,p,o,f,d,v,E);(M=tr.diffed)&&M(y)}function eE(b,y,s){y.__d=void 0;for(var p=0;p<s.length;p++)dg(s[p],s[++p],s[++p]);tr.__c&&tr.__c(y,b),b.some(function(o){try{b=o.__h,o.__h=[],b.some(function(f){f.call(o)})}catch(f){tr.__e(f,o.__v)}})}function tE(b,y,s,p,o,f,d,O,v){var E,M,A,D,k,I,C,L=s.props,H=y.props,V=y.type;if(V==="svg"&&(o=!0),f!=null){for(E=0;E<f.length;E++)if((k=f[E])&&"setAttribute"in k==!!V&&(V?k.localName===V:k.nodeType===3)){b=k,f[E]=null;break}}if(b==null){if(V===null)return document.createTextNode(H);b=o?document.createElementNS("http://www.w3.org/2000/svg",V):document.createElement(V,H.is&&H),f=null,O=!1}if(V===null)L===H||O&&b.data===H||(b.data=H);else{if(f=f&&sg.call(b.childNodes),L=s.props||ng,!O&&f!=null)for(L={},E=0;E<b.attributes.length;E++)L[(k=b.attributes[E]).name]=k.value;for(E in L)k=L[E],E=="children"||(E=="dangerouslySetInnerHTML"?A=k:E==="key"||E in H||Td(b,E,null,k,o));for(E in H)k=H[E],E=="children"?D=k:E=="dangerouslySetInnerHTML"?M=k:E=="value"?I=k:E=="checked"?C=k:E==="key"||O&&typeof k!="function"||L[E]===k||Td(b,E,k,L[E],o);if(M)O||A&&(M.__html===A.__html||M.__html===b.innerHTML)||(b.innerHTML=M.__html),y.__k=[];else if(A&&(b.innerHTML=""),$0(b,fg(D)?D:[D],y,s,p,o&&V!=="foreignObject",f,d,f?f[0]:s.__k&&ec(s,0),O,v),f!=null)for(E=f.length;E--;)f[E]!=null&&W0(f[E]);O||(E="value",I!==void 0&&(I!==b[E]||V==="progress"&&!I||V==="option"&&I!==L[E])&&Td(b,E,I,L[E],!1),E="checked",C!==void 0&&C!==b[E]&&Td(b,E,C,L[E],!1))}return b}function dg(b,y,s){try{typeof b=="function"?b(y):b.current=y}catch(p){tr.__e(p,s)}}function rg(b,y,s){var p,o;if(tr.unmount&&tr.unmount(b),(p=b.ref)&&(p.current&&p.current!==b.__e||dg(p,null,y)),(p=b.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){tr.__e(f,y)}p.base=p.__P=null}if(p=b.__k)for(o=0;o<p.length;o++)p[o]&&rg(p[o],y,s||typeof b.type!="function");s||b.__e==null||W0(b.__e),b.__c=b.__=b.__e=b.__d=void 0}function nE(b,y,s){return this.constructor(b,s)}sg=Y0.slice,tr={__e:function(b,y,s,p){for(var o,f,d;y=y.__;)if((o=y.__c)&&!o.__)try{if((f=o.constructor)&&f.getDerivedStateFromError!=null&&(o.setState(f.getDerivedStateFromError(b)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(b,p||{}),d=o.__d),d)return o.__E=o}catch(O){b=O}throw b}},U0=0,Os.prototype.setState=function(b,y){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wa({},this.state),typeof b=="function"&&(b=b(Wa({},s),this.props)),b&&Wa(s,b),b!=null&&this.__v&&(y&&this._sb.push(y),s0(this))},Os.prototype.forceUpdate=function(b){this.__v&&(this.__e=!0,b&&this.__h.push(b),s0(this))},Os.prototype.render=pg,Zu=[],G0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qv=function(b,y){return b.__v.__b-y.__v.__b},Bd.__r=0,lg=0,eg=f0(!1),tg=f0(!0);var hf=function(){return hf=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},hf.apply(this,arguments)};function hg(b){var y=b.x,s=b.y,p=b.width,o=b.height,f=b.radius,d=b.className,O=y-p/2,v=s-o/2,E=hf(hf({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},b),{x:O,y:v});return ot.h("rect",hf({},E))}hg.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ms;(function(b){b.NODE="node",b.CIRCLE_NODE="circle-node",b.POLYGON_NODE="polygon-node",b.RECT_NODE="rect-node",b.HTML_NODE="html-node",b.TEXT_NODE="text-node",b.ELLIPSE_NODE="ellipse-node",b.DIAMOND_NODE="diamond-node",b.EDGE="edge",b.LINE_EDGE="line-edge",b.POLYLINE_EDGE="polyline-edge",b.BEZIER_EDGE="bezier-edge",b.GRAPH="graph"})(ms||(ms={}));var rE=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Ju=function(){return Ju=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},Ju.apply(this,arguments)},oE=function(b,y){var s=typeof Symbol=="function"&&b[Symbol.iterator];if(!s)return b;var p=s.call(b),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},iE=ot.LogicFlowUtil.StepDrag,aE=function(b){rE(y,b);function y(s){var p=b.call(this)||this;return p.updatePosition=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel,v=O.x,E=O.y;p.nodeModel.x=v+f/2,p.nodeModel.y=E+d/2,p.nodeModel.moveText(f/2,d/2)},p.getResize=function(o){var f=o.index,d=o.deltaX,O=o.deltaY,v=o.width,E=o.height,M=o.PCTResizeInfo,A=o.pct,D=A===void 0?1:A,k={width:v,height:E,deltaX:d,deltaY:O};if(M){var I=4,C=0,L=0;switch(f){case 0:L=(d*-1-O)/I;break;case 1:L=(d-O)/I;break;case 2:L=(d+O)/I;break;case 3:L=(d*-1+O)/I;break}L!==0&&(C=Math.round(L/M.ResizeBasis.basisHeight*1e5)/1e3),M.ResizePCT.widthPCT=Math.max(Math.min(M.ResizePCT.widthPCT+C,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit),M.ResizePCT.hightPCT=Math.max(Math.min(M.ResizePCT.hightPCT+C,M.ScaleLimit.maxScaleLimit),M.ScaleLimit.minScaleLimit);var H=Math.round(M.ResizePCT.widthPCT*M.ResizeBasis.basisWidth/100),V=Math.round(M.ResizePCT.hightPCT*M.ResizeBasis.basisHeight/100);switch(f){case 0:d=v-H,O=E-V;break;case 1:d=H-v,O=E-V;break;case 2:d=H-v,O=V-E;break;case 3:d=v-H,O=V-E;break}return k.width=H,k.height=V,k.deltaX=d/D,k.deltaY=O/D,k}switch(f){case 0:k.width=v-d*D,k.height=E-O*D;break;case 1:k.width=v+d*D,k.height=E-O*D;break;case 2:k.width=v+d*D,k.height=E+O*D;break;case 3:k.width=v-d*D,k.height=E+O*D;break}return k},p.updateEdgePointByAnchors=function(){var o=p.nodeModel,f=o.id,d=o.anchors,O=p.getNodeEdges(f);O.sourceEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.sourceAnchorId});v.updateStartPoint({x:E.x,y:E.y})}),O.targetEdges.forEach(function(v){var E=d.find(function(M){return M.id===v.targetAnchorId});v.updateEndPoint({x:E.x,y:E.y})})},p.updateRect=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel,v=O.id,E=O.x,M=O.y,A=O.width,D=O.height,k=O.radius,I=O.PCTResizeInfo,C=p.index,L=p.getResize({index:C,deltaX:f,deltaY:d,width:A,height:D,PCTResizeInfo:I,pct:1}),H=p.nodeModel,V=H.minWidth,te=H.minHeight,ue=H.maxWidth,ee=H.maxHeight;if(L.width<V||L.width>ue||L.height<te||L.height>ee){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),p.nodeModel.width=L.width,p.nodeModel.height=L.height,p.nodeModel.setProperties({nodeSize:{width:L.width,height:L.height}}),p.getNodeEdges(v);var J={x:E,y:M,width:A,height:D,radius:k},Q={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:k};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:J,afterNode:Q})},p.updateEllipse=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel,v=O.id,E=O.rx,M=O.ry,A=O.x,D=O.y,k=O.PCTResizeInfo,I=p.index,C=E,L=M,H=p.getResize({index:I,deltaX:f,deltaY:d,width:C,height:L,PCTResizeInfo:k,pct:1/2}),V=p.nodeModel,te=V.minWidth,ue=V.minHeight,ee=V.maxWidth,J=V.maxHeight;if(H.width<te/2||H.width>ee/2||H.height<ue/2||H.height>J/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:H.deltaX,deltaY:H.deltaY}),p.nodeModel.rx=H.width,p.nodeModel.ry=H.height,p.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}}),p.getNodeEdges(v);var Q={x:A,y:D},W={rx:H.width,ry:H.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:Ju(Ju({},Q),{rx:E,ry:M}),afterNode:W})},p.updateDiamond=function(o){var f=o.deltaX,d=o.deltaY,O=p.nodeModel;O.id;var v=O.rx,E=O.ry,M=O.x,A=O.y,D=O.PCTResizeInfo,k=p.index,I=v,C=E,L=p.getResize({index:k,deltaX:f,deltaY:d,width:I,height:C,PCTResizeInfo:D,pct:1/2}),H=p.nodeModel,V=H.minWidth,te=H.minHeight,ue=H.maxWidth,ee=H.maxHeight;if(L.width<V/2||L.width>ue/2||L.height<te/2||L.height>ee/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:L.deltaX,deltaY:L.deltaY}),p.nodeModel.rx=L.width,p.nodeModel.ry=L.height,p.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var J={x:M,y:A,rx:v,ry:E},Q={rx:L.width,ry:L.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:J,afterNode:Q})},p.eventEmit=function(o){var f=o.beforeNode,d=o.afterNode,O=p.nodeModel,v=O.id,E=O.modelType,M=O.type,A=Ju({id:v,modelType:E,type:M},f),D=Ju({id:v,modelType:E,type:M},d);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:A,newNodeSize:D})},p.onDragging=function(o){var f,d=o.deltaX,O=o.deltaY,v=p.graphModel.transformModel,E=p.nodeModel.modelType;f=oE(v.fixDeltaXY(d,O),2),d=f[0],O=f[1],E===ms.RECT_NODE||E===ms.HTML_NODE?p.updateRect({deltaX:d,deltaY:O}):E===ms.ELLIPSE_NODE?p.updateEllipse({deltaX:d,deltaY:O}):E===ms.DIAMOND_NODE&&p.updateDiamond({deltaX:d,deltaY:O})},p.onDragEnd=function(){var o=p.graphModel.gridSize,f=o===void 0?1:o,d=f*Math.round(p.nodeModel.x/f),O=f*Math.round(p.nodeModel.y/f);p.nodeModel.moveTo(d,O),p.updateEdgePointByAnchors()},p.index=s.index,p.nodeModel=s.model,p.graphModel=s.graphModel,p.state={},p.dragHandler=new iE({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:1}),p}return y.prototype.getNodeEdges=function(s){for(var p=this.graphModel,o=p.edges,f=[],d=[],O=0;O<o.length;O++){var v=o[O];v.sourceNodeId===s?f.push(v):o[O].targetNodeId===s&&d.push(v)}return{sourceEdges:f,targetEdges:d}},y.prototype.render=function(){var s=this.props,p=s.x,o=s.y,f=s.index,d=s.model,O=d.getControlPointStyle();return df("g",{className:"lf-resize-control-"+f},df(hg,Ju({className:"lf-node-control"},{x:p,y:o},O,{onMouseDown:this.dragHandler.handleMouseDown})))},y}(Os),uE=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Fd=function(){return Fd=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},Fd.apply(this,arguments)},Vd=function(b){uE(y,b);function y(){var s=b.call(this)||this;return s.state={},s}return y.prototype.getResizeControl=function(){var s=this.props,p=s.model,o=s.graphModel,f=p.x,d=p.y,O=p.width,v=p.height,E={minX:f-O/2,minY:d-v/2,maxX:f+O/2,maxY:d+v/2},M=E.minX,A=E.minY,D=E.maxX,k=E.maxY,I=[{x:M,y:A},{x:D,y:A},{x:D,y:k},{x:M,y:k}];return I.map(function(C,L){return df(aE,Fd({index:L},C,{model:p,graphModel:o}))})},y.prototype.getGroupSolid=function(){var s=this.props.model,p=s.x,o=s.y,f=s.width,d=s.height,O=s.getResizeOutlineStyle();return df(hg,Fd({fill:"none"},O,{x:p,y:o,width:f,height:d}))},y.prototype.render=function(){return df("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(Os),Z0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),cE=function(b){Z0(y,b);function y(s,p){var o=b.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return y.prototype.initNodeData=function(s){b.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(s,p){console.log(s,p)},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y}(ot.RectNodeModel),sE=function(b){Z0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Vd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},y}(ot.RectNode),J0={type:"rect",view:sE,model:cE},Q0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(b){Q0(y,b);function y(s,p){var o=b.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return y.prototype.initNodeData=function(s){b.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y})(ot.EllipseNodeModel);(function(b){Q0(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Vd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,p=s.model,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p.isSelected&&!o?this.getControlGroup():"")},y})(ot.EllipseNode);var og=function(){return og=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},og.apply(this,arguments)};function lE(b){var y=b.fillOpacity,s=y===void 0?1:y,p=b.strokeWidth,o=p===void 0?1:p,f=b.strokeOpacity,d=f===void 0?1:f,O=b.fill,v=O===void 0?"transparent":O,E=b.stroke,M=E===void 0?"#000":E,A=b.points,D=b.className,k=D===void 0?"lf-basic-shape":D,I={fill:v,fillOpacity:s,strokeWidth:o,stroke:M,strokeOpacity:d,points:"",className:k};return I.points=A.map(function(C){return C.join(",")}).join(" "),ot.h("polygon",og({},I))}var e_=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),ig=function(){return ig=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},ig.apply(this,arguments)};(function(b){e_(y,b);function y(s,p){var o=b.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.rx=f.rx,o.ry=f.ry),o}return y.prototype.initNodeData=function(s){b.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},y.prototype.getOutlineStyle=function(){var s=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y})(ot.DiamondNodeModel);(function(b){e_(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Vd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){var s=this.props.model,p=s.points,o=s.getNodeStyle();return ot.h("g",null,ot.h(lE,ig({},o,{points:p})))},y.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},y})(ot.DiamondNode);var t_=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(b){t_(y,b);function y(s,p){var o=b.call(this,s,p)||this,f=o.properties.nodeSize;return f&&(o.width=f.width,o.height=f.height),o}return y.prototype.initNodeData=function(s){b.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.enableProportionResize=function(s){if(s===void 0&&(s=!0),s){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:f}}else delete this.PCTResizeInfo},y})(ot.HtmlNodeModel);(function(b){t_(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,o=s.graphModel;return ot.h(Vd,{model:p,graphModel:o})},y.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,o=s.graphModel.editConfigModel.isSilentMode;return ot.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},y})(ot.HtmlNode);var n_=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Xd=function(){return Xd=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},Xd.apply(this,arguments)},fE=function(b,y){var s=typeof Symbol=="function"&&b[Symbol.iterator];if(!s)return b;var p=s.call(b),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},pE=function(){for(var b=[],y=0;y<arguments.length;y++)b=b.concat(fE(arguments[y]));return b},p0=500,d0=300,dE=-1e4;(function(b){n_(y,b);function y(){var s=b!==null&&b.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=p0,s.unfoldedHight=d0,s.childrenLastFoldStatus={},s}return y.prototype.initNodeData=function(s){var p=this;b.prototype.initNodeData.call(this,s);var o=[];Array.isArray(s.children)&&(o=s.children),this.children=new Set(o),this.width=p0,this.height=d0,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=dE,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},y.prototype.getResizeOutlineStyle=function(){var s=b.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},y.prototype.foldGroup=function(s){var p=this;if(s!==this.isFolded){this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var d=p.graphModel.getElement(f),O=d.isFolded;if(d.isGroup&&!d.isFolded&&d.foldGroup(s),d.isGroup&&!s){var v=p.childrenLastFoldStatus[f];v!==void 0&&v!==d.isFolded&&d.foldGroup(v)}p.childrenLastFoldStatus[f]=O,d.visible=!s,o=o.concat(d.incoming.edges.concat(d.outgoing.edges))}),this.foldEdge(s,o)}},y.prototype.getAnchorStyle=function(s){var p=b.prototype.getAnchorStyle.call(this,s);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},y.prototype.foldEdge=function(s,p){var o=this;p.forEach(function(f,d){var O=f.id,v=f.sourceNodeId,E=f.targetNodeId,M=f.startPoint,A=f.endPoint,D=f.type,k=f.text,I=f.getProperties(),C={id:O+"__"+d,sourceNodeId:v,targetNodeId:E,startPoint:M,endPoint:A,type:D,properties:I,text:k==null?void 0:k.value};f.virtual&&o.graphModel.deleteEdgeById(f.id);var L=o.graphModel.group.getNodeGroup(E);L||(L=o.graphModel.getNodeModelById(E));var H=o.graphModel.group.getNodeGroup(v);H||(H=o.graphModel.getNodeModelById(v)),s&&f.visible!==!1&&(o.children.has(v)||o.id===v?(C.startPoint=void 0,C.sourceNodeId=o.id):(C.endPoint=void 0,C.targetNodeId=o.id),(L.id!==o.id||H.id!==o.id)&&o.createVirtualEdge(C),f.visible=!1),!s&&f.visible===!1&&(L&&L.isGroup&&L.isFolded?(C.targetNodeId=L.id,C.endPoint=void 0,o.createVirtualEdge(C)):H&&H.isGroup&&H.isFolded?(C.sourceNodeId=H.id,C.startPoint=void 0,o.createVirtualEdge(C)):f.visible=!0)})},y.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var p=this.graphModel.addEdge(s);p.virtual=!0,p.text.editable=!1,p.isFoldedEdge=!0},y.prototype.isInRange=function(s){var p=s.x1,o=s.y1,f=s.x2,d=s.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&o>=this.y-this.height/2&&d<=this.y+this.height/2},y.prototype.isAllowMoveTo=function(s){var p=s.x1,o=s.y1,f=s.x2,d=s.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:o>=this.y-this.height/2&&d<=this.y+this.height/2}},y.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},y.prototype.addChild=function(s){this.children.add(s),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},y.prototype.removeChild=function(s){this.children.delete(s),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var s=this,p=b.prototype.getData.call(this);p.children=[],this.children.forEach(function(f){var d=s.graphModel.getNodeModelById(f);d&&!d.virtual&&p.children.push(f)});var o=p.properties;return delete o.groupAddable,delete o.isFolded,p},y.prototype.getHistoryData=function(){var s=b.prototype.getData.call(this);s.children=pE(this.children),s.isGroup=!0;var p=s.properties;return delete p.groupAddable,p.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},y.prototype.isAllowAppendIn=function(s){return!0},y.prototype.toBack=function(){this.zIndex--},y})(J0.model);(function(b){n_(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props.model,p=s.resizable,o=s.properties;return p&&!o.isFolded?b.prototype.getControlGroup.call(this):null},y.prototype.getAddableShape=function(){var s=this.props.model,p=s.width,o=s.height,f=s.x,d=s.y,O=s.radius,v=s.properties;if(!v.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,M=this.props.model.getAddableOutlineStyle(),A=p+E+8,D=o+E+8;return ot.h("rect",Xd(Xd({},M),{width:A,height:D,x:f-A/2,y:d-D/2,rx:O,ry:O}))},y.prototype.getFoldIcon=function(){var s=this.props.model,p=s.x-s.width/2+5,o=s.y-s.height/2+5;if(!s.foldable)return null;var f=ot.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" M"+(p+7)+","+(o+2)+" "+(p+7)+","+(o+10):"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" "});return ot.h("g",{},[ot.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),f])},y.prototype.getResizeShape=function(){return ot.h("g",{},[this.getAddableShape(),b.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(J0.view);var h0=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),yf=function(){return yf=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},yf.apply(this,arguments)};function hE(b){var y=function(p){h0(o,p);function o(f,d){var O=this;f.id||(f.id="Flow_"+qx());var v=yf(yf(yf({},b||{}),f.properties),{isDefaultFlow:!1});return f.properties=v,O=p.call(this,f,d)||this,O}return o.extendKey="SequenceFlowModel",o}(ot.PolylineEdgeModel),s=function(p){h0(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var f=this.props.model,d=f.properties.isDefaultFlow;return d?ot.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):ot.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(ot.PolylineEdge);return{type:"bpmn:sequenceFlow",view:s,model:y}}hE();var y0={width:40,height:40},v0={width:40,height:40},g0={width:100,height:80},Hd={width:100,height:80},b0={width:100,height:80},m0={width:100,height:80},_0={width:100,height:80},O0={width:100,height:80},w0={width:100,height:80},x0={width:100,height:80},Yr=function(){};Yr.ObjTree=function(){return this};Yr.ObjTree.VERSION="0.23";Yr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Yr.ObjTree.prototype.attr_prefix="-";Yr.ObjTree.prototype.parseXML=function(b){var y;if(window.DOMParser){var s=new DOMParser,p=s.parseFromString(b,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(b),y=s.documentElement);if(y){var o=this.parseDOM(y);return o}};Yr.ObjTree.prototype.parseHTTP=function(b,y,s){var p={};for(var o in y)p[o]=y[o];if(p.method||(typeof p.postBody>"u"&&typeof p.postbody>"u"&&typeof p.parameters>"u"?p.method="get":p.method="post"),s){p.asynchronous=!0;var f=this,d=s,O=p.onComplete;p.onComplete=function(M){var A;M&&M.responseXML&&M.responseXML.documentElement&&(A=f.parseDOM(M.responseXML.documentElement)),d(A,M),O&&O(M)}}else p.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){p.uri=b;var E=new HTTP.Request(p);E&&(v=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(b,p);E&&(v=E.transport)}if(s)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Yr.ObjTree.prototype.parseDOM=function(b){if(b){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(b);if(this.__force_array[b.nodeName]&&(s=[s]),b.nodeType!==11){var p={};p[b.nodeName]=s,s=p}return s}};Yr.ObjTree.prototype.parseElement=function(b){if(b.nodeType!==7){if(b.nodeType===3||b.nodeType===4||b.nodeType===8){var y=b.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:b.nodeValue}var s=null,p={};if(b.attributes&&b.attributes.length){s={};for(var o=0;o<b.attributes.length;o++){var f=b.attributes[o].nodeName;if(typeof f=="string"){var d=b.attributes[o].nodeValue;try{d=JSON.parse(b.attributes[o].nodeValue.replace(/'/g,'"'))}catch{d=b.attributes[o].nodeValue}d!=null&&(f=this.attr_prefix+f,typeof p[f]>"u"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}if(b.childNodes&&b.childNodes.length){var O=!0;s&&(O=!1);for(var o=0;o<b.childNodes.length&&O;o++){var v=b.childNodes[o].nodeType;v===3||v===4||v===8||(O=!1)}if(O){s||(s="");for(var o=0;o<b.childNodes.length;o++)s+=b.childNodes[o].nodeValue}else{s||(s={});for(var o=0;o<b.childNodes.length;o++){var f=b.childNodes[o].nodeName;if(typeof f=="string"){var d=this.parseElement(b.childNodes[o]);d&&(typeof p[f]>"u"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}}else s===null&&(s={});return s}};Yr.ObjTree.prototype.addNode=function(b,y,s,p){this.__force_array[y]?(s===1&&(b[y]=[]),b[y][b[y].length]=p):s===1?b[y]=p:s===2?b[y]=[b[y],p]:b[y][b[y].length]=p};Yr.ObjTree.prototype.writeXML=function(b){var y=this.hash_to_xml(null,b);return this.xmlDecl+y};Yr.ObjTree.prototype.hash_to_xml=function(b,y){var s=[],p=[];for(var o in y)if(y!=null&&y.hasOwnProperty(o)){var f=y[o];o.charAt(0)!==this.attr_prefix?typeof f>"u"||f==null?s[s.length]="<"+o+" />":typeof f=="object"&&f.constructor===Array?s[s.length]=this.array_to_xml(o,f):typeof f=="object"?s[s.length]=this.hash_to_xml(o,f):s[s.length]=this.scalar_to_xml(o,f):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(f)+'"'}var d=p.join(""),O=s.join("");return typeof b>"u"||b==null||(s.length>0?O.match(/\n/)?O="<"+b+d+`>
`+O+"</"+b+`>
`:O="<"+b+d+">"+O+"</"+b+`>
`:O="<"+b+d+` />
`),O};Yr.ObjTree.prototype.array_to_xml=function(b,y){for(var s=[],p=0;p<y.length;p++){var o=y[p];typeof o>"u"||o==null?s[s.length]="<"+b+" />":typeof o=="object"&&o.constructor===Array?s[s.length]=this.array_to_xml(b,o):typeof o=="object"?s[s.length]=this.hash_to_xml(b,o):s[s.length]=this.scalar_to_xml(b,o)}return s.join("")};Yr.ObjTree.prototype.scalar_to_xml=function(b,y){return b==="#text"?this.xml_escape(y):"<"+b+">"+this.xml_escape(y)+"</"+b+`>
`};Yr.ObjTree.prototype.xml_escape=function(b){return b.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var yE=function(b){return new Yr.ObjTree().parseXML(b)};function r_(b){return Object.prototype.toString.call(b)}function E0(b){return"  ".repeat(b)}function Ud(b){return r_(b)==="[object Object]"?Object.keys(b).reduce(function(y,s){var p=s;return s.charAt(0)==="-"&&(p=s.substring(1)),y[p]=Ud(b[s]),y},{}):Array.isArray(b)?b.map(function(y){return Ud(y)}):b}function vE(b){var y=b;try{typeof y!="string"&&(y=JSON.parse(b))}catch{y=JSON.stringify(Ud(b)).replace(/"/g,"'")}return y}var j0=`	
`;function Cd(b,y,s){var p=E0(s),o="",f=j0+p;if(y==="-json")return"";if(y==="#text")return f+b;if(y==="#cdata-section")return f+"<![CDATA["+b+"]]>";if(y==="#comment")return f+"<!--"+b+"-->";if((""+y).charAt(0)==="-")return" "+y.substring(1)+'="'+vE(b)+'"';if(Array.isArray(b))o+=b.map(function(E){return Cd(E,y,s+1)}).join("");else if(r_(b)==="[object Object]"){var d=Object.keys(b),O="",v=b["-json"]?j0+E0(s+1)+b["-json"]:"";o+=(s===0?"":f)+"<"+y,d.forEach(function(E){E.charAt(0)==="-"?O+=Cd(b[E],E,s+1):v+=Cd(b[E],E,s+1)}),o+=O+(v!==""?">"+v+f+"</"+y+">":" />")}else o+=f+"<"+y+">"+b.toString()+"</"+y+">";return o}function gE(b){var y="";for(var s in b)y+=Cd(b[s],s,0);return y}var bE=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),ag=function(){return ag=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},ag.apply(this,arguments)},S0=function(b,y){var s={};for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&y.indexOf(p)<0&&(s[p]=b[p]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,p=Object.getOwnPropertySymbols(b);o<p.length;o++)y.indexOf(p[o])<0&&Object.prototype.propertyIsEnumerable.call(b,p[o])&&(s[p[o]]=b[p[o]]);return s},yg=function(b){var y=typeof Symbol=="function"&&Symbol.iterator,s=y&&b[y],p=0;if(s)return s.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&p>=b.length&&(b=void 0),{value:b&&b[p++],done:!b}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},js=function(b,y){var s=typeof Symbol=="function"&&b[Symbol.iterator];if(!s)return b;var p=s.call(b),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},ws=function(){for(var b=[],y=0;y<arguments.length;y++)b=b.concat(js(arguments[y]));return b},Ur;(function(b){b.START="bpmn:startEvent",b.END="bpmn:endEvent",b.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",b.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",b.BOUNDARY="bpmn:boundaryEvent",b.PARALLEL_GATEWAY="bpmn:parallelGateway",b.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",b.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",b.USER="bpmn:userTask",b.SYSTEM="bpmn:serviceTask",b.FLOW="bpmn:sequenceFlow",b.SUBPROCESS="bpmn:subProcess"})(Ur||(Ur={}));var o_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],mE=["properties","startPoint","endPoint","pointsList"],Gd={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},i_=function(b,y){var s=Object.keys(y||{});return s.forEach(function(p){if(b[p]){var o=y[p],f=o.in,d=o.out;f&&(b[p].in=f),d&&(b[p].out=d)}else b[p]=y[p]}),b},Io={"bpmn:startEvent":{out:function(b){var y,s,p=b.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,b))||{}}},"bpmn:intermediateCatchEvent":{out:function(b){var y,s,p=b.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,b))||{}}},"bpmn:intermediateThrowEvent":{out:function(b){var y,s,p=b.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,b))||{}}},"bpmn:boundaryEvent":{out:function(b){var y,s,p=b.properties;return((s=(y=Io[p.definitionType])===null||y===void 0?void 0:y.out)===null||s===void 0?void 0:s.call(y,b))||{}}},"bpmn:sequenceFlow":{out:function(b){var y=b.properties,s=y.expressionType,p=y.condition;return p?s==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+p+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+p+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(b){var y=b.properties,s=y.timerType,p=y.timerValue,o=y.definitionId,f=function(){return"<bpmn:"+s+' xsi:type="bpmn:tFormalExpression">'+p+"</bpmn:"+s+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(s&&p?">"+f()+"</bpmn:timerEventDefinition>":"/>")}},in:function(b,y){var s,p,o,f,d=b,O=y["-id"],v="",E="";try{for(var M=yg(Object.keys(y)),A=M.next();!A.done;A=M.next()){var D=A.value;D.includes("bpmn:")&&(o=js(D.split(":"),2),v=o[1],E=(f=y[D])===null||f===void 0?void 0:f["#text"])}}catch(k){s={error:k}}finally{try{A&&!A.done&&(p=M.return)&&p.call(M)}finally{if(s)throw s.error}}return{"-definitionId":O,"-definitionType":d,"-timerType":v,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(b,y){var s,p="",o="";return y["#cdata-section"]?(o="cdata",p=((s=/^\$\{(.*)\}$/g.exec(y["#cdata-section"]))===null||s===void 0?void 0:s[1])||""):y["#text"]&&(o="normal",p=y["#text"]),{"-condition":p,"-expressionType":o}}}};function _E(b){var y=b??{},s=y.retainedAttrsFields,p=y.excludeFields,o=y.transformer,f=new Set(ws(mE,s||[])),d={in:new Set(ws(Gd.in,(p==null?void 0:p.in)||[])),out:new Set(ws(Gd.out,(p==null?void 0:p.out)||[]))};return Io=i_(Io,o),function(O){var v=O.nodes,E=O.edges;function M(A,D){var k,I,C;if((A==null?void 0:A.flag)!==1){var L;if((L=Io[A.type])&&L.out){var H=L.out(A),V=Object.keys(H);V.length>0&&V.forEach(function(U){A[U]=H[U]})}A!=null&&A.children&&(A.children=A.children.map(function(U){var Y=v.find(function(K){return K.id===U})||E.find(function(K){return K.id===U});return Y||{}}));var te={};if(typeof A=="string")return A;if(Array.isArray(A))return A.map(function(U){return M(U,"")}).filter(function(U){return U!=null});try{for(var ue=yg(Object.entries(A)),ee=ue.next();!ee.done;ee=ue.next()){var J=js(ee.value,2),Q=J[0],W=J[1];if(((C=W)===null||C===void 0?void 0:C.flag)===1)return;var B=[D,Q].filter(function(U){return U}).join(".");d.out.has(B)||(typeof W!="object"?Q.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Q)?te[Q]=W:te["-"+Q]=W:f.has(B)?te["-"+Q]=M(W,B):te[Q]=M(W,B))}}catch(U){k={error:U}}finally{try{ee&&!ee.done&&(I=ue.return)&&I.call(ue)}finally{if(k)throw k.error}}return te}}return M(O,"")}}function Yd(b){var y,s,p={};try{for(var o=yg(Object.entries(b)),f=o.next();!f.done;f=o.next()){var d=js(f.value,2),O=d[0],v=d[1];O.indexOf("-")===0?p[O.substring(1)]=Ud(v):typeof v=="string"?p[O]=v:Object.prototype.toString.call(v)==="[object Object]"?p[O]=Yd(v):Array.isArray(v)?p[O]=v.map(function(E){return Yd(E)}):p[O]=v}}catch(E){y={error:E}}finally{try{f&&!f.done&&(s=o.return)&&s.call(o)}finally{if(y)throw y.error}}return p}function OE(b,y,s){var p,o=new Map,f=_E(s)(y);f.nodes.forEach(function(O){var v=O["-id"],E=O["-type"],M=O.text,A=O.children,D=S0(O,["-id","-type","text","children"]),k={"-id":v};M!=null&&M["-value"]&&(k["-name"]=M["-value"]),D["-json"]&&(k["-json"]=D["-json"]),D["-properties"]&&Object.assign(k,D["-properties"]),A&&(k.children=A),b[E]||(b[E]=[]),b[E].push(k),o.set(v,k)});var d=f.edges.map(function(O){var v=O["-id"];O["-type"];var E=O["-sourceNodeId"],M=O["-targetNodeId"],A=O.text,D=S0(O,["-id","-type","-sourceNodeId","-targetNodeId","text"]),k=o.get(M);k["bpmn:incoming"]||(k["bpmn:incoming"]=[]),k["bpmn:incoming"].push(v);var I={"-id":v,"-sourceRef":E,"-targetRef":M};return A!=null&&A["-value"]&&(I["-name"]=A["-value"]),D["-json"]&&(I["-json"]=D["-json"]),D["-properties"]&&Object.assign(I,D["-properties"]),I});return y.edges.forEach(function(O){var v=O.sourceNodeId,E=O.id,M=o.get(v);M["bpmn:outgoing"]||(M["bpmn:outgoing"]=[]),M["bpmn:outgoing"].push(E)}),(p=b["bpmn:subProcess"])===null||p===void 0||p.forEach(function(O){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];O.children.forEach(function(C){var L,H=o.get(C["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(te){H[te]&&H[te].forEach(function(ue){v[te].add(ue)})});var V=(L=b[C["-type"]])===null||L===void 0?void 0:L.findIndex(function(te){return te["-id"]===C["-id"]});V>=0&&b[C["-type"]].splice(V,1),o.delete(C["-id"]),O[C["-type"]]||(O[C["-type"]]=[]),O[C["-type"]].push(H)});var M=v["bpmn:incoming"],A=v["bpmn:outgoing"];A.forEach(function(C){M.has(C)&&E.push(C)});for(var D=function(C){var L=d.findIndex(function(H){return H["-id"]===E[C]});L>=0?(O["bpmn:sequenceFlow"]||(O["bpmn:sequenceFlow"]=[]),O["bpmn:sequenceFlow"].push(d[L]),d.splice(L,1)):C++,k=C},k,I=0;I<E.length;)D(I),I=k;delete O.children}),b[Ur.FLOW]=d,b}function wE(b,y){b["bpmndi:BPMNEdge"]=y.edges.map(function(s){var p,o=s.id,f=s.pointsList.map(function(O){var v=O.x,E=O.y;return{"-x":v,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":f};return!((p=s.text)===null||p===void 0)&&p.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),b["bpmndi:BPMNShape"]=y.nodes.map(function(s){var p,o=s.id,f=100,d=80,O=s.x,v=s.y,E=to.shapeConfigMap.get(s.type);E&&(f=E.width,d=E.height),O-=f/2,v-=d/2;var M={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":O,"-y":v,"-width":f,"-height":d}};return!((p=s.text)===null||p===void 0)&&p.value&&(M["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),M})}var xE=["bpmn:incoming","bpmn:outgoing"];function EE(b,y){var s=[],p=[],o=new Map,f=y??{},d=f.transformer,O=f.excludeFields,v={in:new Set(ws(Gd.in,(O==null?void 0:O.in)||[])),out:new Set(ws(Gd.out,(O==null?void 0:O.out)||[]))};Io=i_(Io,d);var E=b["bpmn:definitions"];if(E){var M=E["bpmn:process"];(function(D,k){k.forEach(function(I){try{Object.keys(D).forEach(function(C){try{I(C)}catch(L){console.error(L)}})}catch(C){console.error(C)}})})(M,[function(D){function k(C){C["-children"]||(C["-children"]=[]),Object.keys(C).forEach(function(L){var H;L.indexOf("bpmn:")===0&&!xE.includes(L)&&(M[L]||(M[L]=[]),!Array.isArray(M[L])&&(M[L]=[M[L]]),Array.isArray(C[L])?(H=M[L]).push.apply(H,ws(C[L])):M[L].push(C[L]),Array.isArray(C[L])?C[L].forEach(function(V){!L.includes("Flow")&&C["-children"].push(V["-id"])}):!L.includes("Flow")&&C["-children"].push(C[L]["-id"]),delete C[L])})}if(D==="bpmn:subProcess"){var I=M[D];Array.isArray(I)?I.forEach(function(C){D==="bpmn:subProcess"&&k(C)}):k(I)}},function(D){var k=function(C){Object.keys(C).forEach(function(L){var H,V;if(L.includes("bpmn:")){var te={};Io[L]&&Io[L].in?(te=(V=(H=Io[L]).in)===null||V===void 0?void 0:V.call(H,L,C0.cloneDeep(C[L])),delete C[L]):I(C[L]);var ue=void 0;(ue=Reflect.ownKeys(te)).length>0&&ue.forEach(function(ee){Reflect.set(C,ee,te[ee])})}})};function I(C){o.set(C["-id"],C),Array.isArray(C)?C.forEach(function(L){I(L)}):typeof C=="object"&&k(C)}I(M[D])},function(D){if(D.indexOf("bpmn:")===0){var k=M[D];if(D==="bpmn:sequenceFlow"){var I=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];p=SE(k,I)}else{var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(D==="bpmn:boundaryEvent"){var L=M[D],H=function(V){var te=V["-attachedToRef"],ue=o.get(te);ue["-boundaryEvents"]||(ue["-boundaryEvents"]=[]),ue["-boundaryEvents"].push(V["-id"])};Array.isArray(L)?L.forEach(function(V){H(V)}):H(L)}s=s.concat(jE(k,C,D))}}}])}var A=function(D,k,I){Object.keys(D).forEach(function(C){var L=I?I+"."+C:C;k.has(L)?delete D[C]:typeof D[C]=="object"&&A(D[C],k,L)})};return s.forEach(function(D){var k,I;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(I=y==null?void 0:y.mapping)===null||I===void 0?void 0:I.in,L=D.type;C[L]&&(D.type=C[L])}A(D,v.in,"")}),p.forEach(function(D){var k,I;if(!((k=y==null?void 0:y.mapping)===null||k===void 0)&&k.in){var C=(I=y==null?void 0:y.mapping)===null||I===void 0?void 0:I.in,L=D.type;C[L]&&(D.type=C[L])}A(D,v.in,"")}),{nodes:s,edges:p}}function jE(b,y,s){var p=[];if(Array.isArray(b))b.forEach(function(d){var O;Array.isArray(y)?O=y.find(function(E){return E["-bpmnElement"]===d["-id"]}):O=y;var v=P0(O,s,d);p.push(v)});else{var o=void 0;Array.isArray(y)?o=y.find(function(d){return d["-bpmnElement"]===b["-id"]}):o=y;var f=P0(o,s,b);p.push(f)}return p}function P0(b,y,s){var p=Number(b["dc:Bounds"]["-x"]),o=Number(b["dc:Bounds"]["-y"]),f=s["-children"],d=s["-name"],O=to.shapeConfigMap.get(y);O&&(p+=O.width/2,o+=O.height/2);var v={};Object.entries(s).forEach(function(D){var k=js(D,2),I=k[0],C=k[1];o_.includes(I)||(v[I]=C)}),v=Yd(v);var E;if(d&&(E={x:p,y:o,value:d},b["bpmndi:BPMNLabel"]&&b["bpmndi:BPMNLabel"]["dc:Bounds"])){var M=b["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(M["-x"])+Number(M["-width"])/2,E.y=Number(M["-y"])+Number(M["-height"])/2}var A={id:b["-bpmnElement"],type:y,x:p,y:o,properties:v};return f&&(A.children=f),E&&(A.text=E),A}function SE(b,y){var s=[];if(Array.isArray(b))b.forEach(function(o){var f;Array.isArray(y)?f=y.find(function(d){return d["-bpmnElement"]===o["-id"]}):f=y,s.push(A0(f,o))});else{var p=void 0;Array.isArray(y)?p=y.find(function(o){return o["-bpmnElement"]===b["-id"]}):p=y,s.push(A0(p,b))}return s}function A0(b,y){var s,p=y["-name"];if(p){var o=b["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(E){f<E.length&&(f=E.length)}),s={value:p,x:Number(o["-x"])+f*10/2,y:Number(o["-y"])+7}}var d={};Object.entries(y).forEach(function(E){var M=js(E,2),A=M[0],D=M[1];o_.includes(A)||(d[A]=D)}),d=Yd(d);var O=b["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),v={id:y["-id"],type:Ur.FLOW,pointsList:O,sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:d};return s&&(v.text=s),v}var to=function(){function b(y){var s=this,p=y.lf;this.adapterOut=function(o,f){var d,O,v=ag({},s.processAttributes);OE(v,o,f);var E={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};wE(E,o);var M=s.definitionAttributes;M["bpmn:process"]=v,M["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var A={"bpmn:definitions":M};if(!((d=f==null?void 0:f.mapping)===null||d===void 0)&&d.out){var D=(O=f==null?void 0:f.mapping)===null||O===void 0?void 0:O.out,k=function(I){Array.isArray(I)&&I.forEach(function(C){return k(C)}),typeof I=="object"&&Object.keys(I).forEach(function(C){var L;(L=D[C])?(I[L]=C0.cloneDeep(I[C]),delete I[C],k(I[L])):k(I[C])})};k(A)}return A},this.adapterIn=function(o,f){if(o)return EE(o,f)},p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return b.prototype.setCustomShape=function(y,s){b.shapeConfigMap.set(y,s)},b.pluginName="bpmn-adapter",b.shapeConfigMap=new Map,b}();to.shapeConfigMap.set(Ur.START,{width:y0.width,height:y0.height});to.shapeConfigMap.set(Ur.END,{width:v0.width,height:v0.height});to.shapeConfigMap.set(Ur.INTERMEDIATE_CATCH,{width:Hd.width,height:Hd.height});to.shapeConfigMap.set(Ur.INTERMEDIATE_THROW,{width:Hd.width,height:Hd.height});to.shapeConfigMap.set(Ur.BOUNDARY,{width:g0.width,height:g0.height});to.shapeConfigMap.set(Ur.PARALLEL_GATEWAY,{width:b0.width,height:b0.height});to.shapeConfigMap.set(Ur.INCLUSIVE_GATEWAY,{width:m0.width,height:m0.height});to.shapeConfigMap.set(Ur.EXCLUSIVE_GATEWAY,{width:_0.width,height:_0.height});to.shapeConfigMap.set(Ur.SYSTEM,{width:O0.width,height:O0.height});to.shapeConfigMap.set(Ur.USER,{width:w0.width,height:w0.height});to.shapeConfigMap.set(Ur.SUBPROCESS,{width:x0.width,height:x0.height});(function(b){bE(y,b);function y(s){var p=b.call(this,s)||this;p.adapterXmlIn=function(d){var O=yE(d);return p.adapterIn(O,p.props)},p.adapterXmlOut=function(d){var O=p.adapterOut(d,p.props);return gE(O)};var o=s.lf,f=s.props;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p.props=f,p}return y.pluginName="BPMNAdapter",y})(to);var PE=function(){function b(y){var s=this,p=y.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(o,f){s.getSnapshot(o,f)},p.getSnapshotBlob=function(o){return s.getSnapshotBlob(o)},p.getSnapshotBase64=function(o){return s.getSnapshotBase64(o)}}return b.prototype.getSvgRootElement=function(y){var s=y.container.querySelector(".lf-canvas-overlay");return s},b.prototype.triggerDownload=function(y){var s=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",y),p.setAttribute("target","_blank"),p.dispatchEvent(s)},b.prototype.removeAnchor=function(y){for(var s=y.childNodes,p=y.childNodes&&y.childNodes.length,o=0;o<p;o++){var f=s[o],d=f.classList&&Array.from(f.classList)||[];d.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[o]),p--,o--)}},b.prototype.removeRotateControl=function(y){for(var s=y.childNodes,p=y.childNodes&&y.childNodes.length,o=0;o<p;o++){var f=s[o],d=f.classList&&Array.from(f.classList)||[];d.indexOf("lf-rotate-control")>-1&&(y.removeChild(y.childNodes[o]),p--,o--)}},b.prototype.getSnapshot=function(y,s){var p=this;this.fileName=y||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,s).then(function(f){var d=f.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(d)})},b.prototype.getSnapshotBase64=function(y){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(p,y).then(function(f){var d=f.toDataURL("image/png");o({data:d,width:f.width,height:f.height})})})},b.prototype.getSnapshotBlob=function(y){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){s.getCanvasData(p,y).then(function(f){f.toBlob(function(d){o({data:d,width:f.width,height:f.height})},"image/png")})})},b.prototype.getClassRules=function(){var y="";if(this.useGlobalRules)for(var s=document.styleSheets,p=0;p<s.length;p++)for(var o=s[p],f=0;f<o.cssRules.length;f++)y+=o.cssRules[f].cssText;return this.customCssRules&&(y+=this.customCssRules),y},b.prototype.getCanvasData=function(y,s){var p=this,o=y.cloneNode(!0),f=o.lastChild,d=f.childNodes&&f.childNodes.length;if(d)for(var O=0;O<d;O++){var v=f.childNodes[O],E=v.classList&&Array.from(v.classList);if(E&&E.indexOf("lf-base")<0)f.removeChild(f.childNodes[O]),d--,O--;else{var M=f.childNodes[O];M&&M.childNodes.forEach(function(xe){var ge=xe;p.removeAnchor(ge.firstChild),p.removeRotateControl(ge.firstChild)})}}var A=window.devicePixelRatio||1;A<1&&(A=1);var D=document.createElement("canvas"),k=this.lf.graphModel.rootEl.querySelector(".lf-base"),I=k.getBoundingClientRect(),C=this.lf.container.querySelector(".lf-canvas-overlay").getBoundingClientRect(),L=I.x-C.x,H=I.y-C.y,V=this.lf.graphModel,te=V.transformModel,ue=te.SCALE_X,ee=te.SCALE_Y,J=te.TRANSLATE_X,Q=te.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-L+J)*(1/ue)+10)+", "+((-H+Q)*(1/ee)+10)+")";var W=Math.ceil(I.width/ue),B=Math.ceil(I.height/ee);D.style.width=W+"px",D.style.height=B+"px",D.width=W*A+80,D.height=B*A+80;var U=D.getContext("2d");U.clearRect(0,0,D.width,D.height),U.scale(A,A),s?(U.fillStyle=s,U.fillRect(0,0,W*A+80,B*A+80)):U.clearRect(0,0,W,B);var Y=new Image,K=document.createElement("style");K.innerHTML=this.getClassRules();var ie=document.createElement("foreignObject");return ie.appendChild(K),o.appendChild(ie),new Promise(function(xe){Y.onload=function(){var Be=navigator.userAgent.indexOf("Firefox")>-1;try{Be?createImageBitmap(Y,{resizeWidth:D.width,resizeHeight:D.height}).then(function(je){U.drawImage(je,0,0),xe(D)}):(U.drawImage(Y,0,0),xe(D))}catch{U.drawImage(Y,0,0),xe(D)}};var ge="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Pe=ge.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=Pe})},b.pluginName="snapshot",b}();var M0;(function(b){b.HORIZONTAL="horizontal",b.VERTICAL="vertical"})(M0||(M0={}));var AE=function(b,y){var s=typeof Symbol=="function"&&b[Symbol.iterator];if(!s)return b;var p=s.call(b),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},ME=function(){for(var b=[],y=0;y<arguments.length;y++)b=b.concat(AE(arguments[y]));return b},sf="lf:defaultNodeMenu",lf="lf:defaultEdgeMenu",ff="lf:defaultGraphMenu",k0="lf:defaultSelectionMenu",kE=function(){function b(y){var s=this,p=y.lf;this.lf=p;var o=p.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(f){s.setMenuConfig(f)},this.lf.addMenuConfig=function(f){s.addMenuConfig(f)},this.lf.setMenuByType=function(f){s.setMenuByType(f)})}return b.prototype.init=function(){var y=this,s=[{text:"删除",callback:function(f){y.lf.deleteNode(f.id)}},{text:"编辑文本",callback:function(f){y.lf.graphModel.editText(f.id)}},{text:"复制",callback:function(f){y.lf.cloneNode(f.id)}}];this.menuTypeMap.set(sf,s);var p=[{text:"删除",callback:function(f){y.lf.deleteEdge(f.id)}},{text:"编辑文本",callback:function(f){y.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(lf,p),this.menuTypeMap.set(ff,[]);var o=[{text:"删除",callback:function(f){y.lf.clearSelectElements(),f.edges.forEach(function(d){return y.lf.deleteEdge(d.id)}),f.nodes.forEach(function(d){return y.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(k0,o)},b.prototype.render=function(y,s){var p=this;y.options.isSilentMode||(this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var f=o.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var f=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,A=f.id,D=p.lf.graphModel.getNodeModelById(A),k=[],I=p.menuTypeMap.get(D.type);D&&D.menu&&Array.isArray(D.menu)?k=D.menu:I?k=I:k=p.menuTypeMap.get(sf),p.__currentData=f,p.showMenu(E,M,k,{width:D.width,height:D.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("edge:contextmenu",function(o){var f=o.data,d=o.position,O=o.e,v=d.domOverlayPosition,E=v.x,M=v.y,A=f.id,D=p.lf.graphModel.getEdgeModelById(A),k=[],I=p.menuTypeMap.get(D.type);D&&D.menu&&Array.isArray(D.menu)?k=D.menu:I?k=I:k=p.menuTypeMap.get(lf),p.__currentData=f,p.showMenu(E,M,k,{width:D.width,height:D.height,clientX:O.clientX,clientY:O.clientY})}),this.lf.on("blank:contextmenu",function(o){var f=o.position,d=p.menuTypeMap.get(ff),O=f.domOverlayPosition,v=O.x,E=O.y;p.showMenu(v,E,d)}),this.lf.on("selection:contextmenu",function(o){var f=o.data,d=o.position,O=p.menuTypeMap.get(k0),v=d.domOverlayPosition,E=v.x,M=v.y;p.__currentData=f,p.showMenu(E,M,O)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"}))},b.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},b.prototype.showMenu=function(y,s,p,o){if(!(!p||!p.length)){var f=this.__menuDOM;if(f.innerHTML="",f.append.apply(f,ME(this.__getMenuDom(p))),!!f.children.length){if(f.style.display="block",!o){f.style.top=s+"px",f.style.left=y+"px";return}var d=o.width,O=o.height,v=o.clientX,E=o.clientY,M=this.lf.graphModel,A=f.offsetWidth,D=!0,k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,I=k-v,C=M.rootEl.getBoundingClientRect(),L=C.left+C.width;L<k&&(I=L-v),I<A&&(D=!1),D?f.style.left=y+"px":f.style.left=y-d+"px";var H=f.offsetHeight,V=!0,te=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ue=te-E,ee=C.top+C.height;ee<te&&(ue=ee-E),ue<H&&(V=!1),V?f.style.top=s+"px":f.style.top=s-O+"px"}}},b.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},b.prototype.__getMenuDom=function(y){var s=[];return y&&y.length>0&&y.forEach(function(p){var o=document.createElement("li");if(p.className?o.className="lf-menu-item "+p.className:o.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",o.appendChild(f)}var d=document.createElement("span");d.className="lf-menu-item-text",p.text&&(d.innerText=p.text),o.appendChild(d),o.onclickCallback=p.callback,s.push(o)}),s},b.prototype.setMenuConfig=function(y){y&&(y.nodeMenu!==void 0&&this.menuTypeMap.set(sf,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(lf,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(ff,y.graphMenu?y.graphMenu:[]))},b.prototype.addMenuConfig=function(y){if(y){if(Array.isArray(y.nodeMenu)){var s=this.menuTypeMap.get(sf);this.menuTypeMap.set(sf,s.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var s=this.menuTypeMap.get(lf);this.menuTypeMap.set(lf,s.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var s=this.menuTypeMap.get(ff);this.menuTypeMap.set(ff,s.concat(y.graphMenu))}}},b.prototype.changeMenuItem=function(y,s){if(y==="add")this.addMenuConfig(s);else if(y==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},b.pluginName="menu",b}(),a_=function(){var b=function(y,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var f in o)o.hasOwnProperty(f)&&(p[f]=o[f])},b(y,s)};return function(y,s){b(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),_s=function(){return _s=Object.assign||function(b){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(b[o]=y[o])}return b},_s.apply(this,arguments)},vf=function(b,y){var s=typeof Symbol=="function"&&b[Symbol.iterator];if(!s)return b;var p=s.call(b),o,f=[],d;try{for(;(y===void 0||y-- >0)&&!(o=p.next()).done;)f.push(o.value)}catch(O){d={error:O}}finally{try{o&&!o.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},TE={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function DE(b){for(var y=b,s=1;s<y.length-1;){var p=vf(y[s-1],2),o=p[0],f=p[1],d=vf(y[s],2),O=d[0],v=d[1],E=vf(y[s+1],2),M=E[0],A=E[1];o===O&&O===M||f===v&&v===A?y.splice(s,1):s++}return y}function NE(b,y,s,p){var o=[b[0],b[1]],f=[b[0],b[1]];switch(s){case"tl":return y==="tr"?(o[1]+=p,f[0]+=p):y==="lb"&&(o[0]+=p,f[1]+=p),[o,f];case"tr":return y==="tl"?(o[1]+=p,f[0]-=p):y==="rb"&&(o[0]-=p,f[1]+=p),[o,f];case"bl":return y==="br"?(o[1]-=p,f[0]+=p):y==="lt"&&(o[0]+=p,f[1]-=p),[o,f];case"br":return y==="bl"?(o[1]-=p,f[0]-=p):y==="rt"&&(o[0]-=p,f[1]-=p),[o,f];default:return[]}}function CE(b,y,s,p){var o,f="",d="";b[0]===y[0]?f=b[1]>y[1]?"t":"b":b[1]===y[1]&&(f=b[0]>y[0]?"l":"r"),y[0]===s[0]?d=y[1]>s[1]?"t":"b":y[1]===s[1]&&(d=y[0]>s[0]?"l":"r");var O=Math.min(Math.hypot(y[0]-b[0],y[1]-b[1])/2,Math.hypot(s[0]-y[0],s[1]-y[1])/2,p)||1/5*p,v=""+f+d,E=TE[v]||"-",M="L "+b[0]+" "+b[1];if(E==="-")M+="L "+y[0]+" "+y[1]+" L "+s[0]+" "+s[1];else{var A=vf(NE(y,v,E,O),2),D=A[0],k=A[1];D&&k&&(M+="L "+D[0]+" "+D[1]+" Q "+y[0]+" "+y[1]+" "+k[0]+" "+k[1],o=vf(k,2),y[0]=o[0],y[1]=o[1])}return M}function RE(b,y){var s=0,p="";if(b.length===2)p+="M"+b[s][0]+" "+b[s++][1]+" L "+b[s][0]+" "+b[s][1];else{for(p+="M"+b[s][0]+" "+b[s++][1];s+1<b.length;){var o=b[s-1],f=b[s],d=b[s+++1];p+=CE(o,f,d,y)}p+="L "+b[s][0]+" "+b[s][1]}return p}(function(b){a_(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getEdge=function(){var s=this.props.model,p=s.points,o=s.isAnimation,f=s.arrowConfig,d=s.radius,O=d===void 0?5:d,v=s.getEdgeStyle(),E=s.getEdgeAnimationStyle(),M=DE(p.split(" ").map(function(k){return k.split(",").map(function(I){return+I})})),A=RE(M,O),D=_s(_s(_s({style:o?E:{}},v),f),{fill:"none"});return ot.h("path",_s({d:A},D))},y})(ot.PolylineEdge);(function(b){a_(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y})(ot.PolylineEdgeModel);const IE={class:"node-panel"},LE=["onMousedown"],zE={key:0,class:"shape"},BE={class:"node-label"},FE=ug({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(b){const y=b,s=Ya({a:"efrwe",b:"wewe"}),p=o=>{y.lf.dnd.startDrag({type:o.type,properties:Ro(s)})};return(o,f)=>(wr(),Qu("div",IE,[(wr(!0),Qu(T0,null,D0(y.nodeList,d=>(wr(),Qu("div",{key:d.text,class:"node-item dark:text-bg_color",onMousedown:O=>p(d)},[xs("div",{class:ux(["node-item-icon",d.class])},[d.type==="user"||d.type==="time"?(wr(),Qu("div",zE)):Kv("",!0)],2),xs("span",BE,cx(d.text),1)],40,LE))),128))]))}}),XE=cg(FE,[["__scopeId","data-v-3195b50d"]]),HE={class:"toolbar"},UE=["title","onMouseenter"],GE=["disabled","onClick"],YE=ug({__name:"ToolBar",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(b,{emit:y}){const s=b,p=y,o=Ya(),f=Ya(),d=Ya(-1),O=Ya([{icon:"el-icon-zoom-out",text:"缩小",size:18,disabled:!1},{icon:"el-icon-zoom-in",text:"放大",size:18,disabled:!1},{icon:"icon-full-screen-hs",text:"适应",size:18,disabled:!1},{icon:"icon-previous-hs",text:"上一步",size:18,disabled:!0},{icon:"icon-next-step-hs",text:"下一步",size:18,disabled:!0},{icon:"icon-download-hs",text:"下载图片",size:18,disabled:!1},{icon:"icon-watch-hs",text:"查看数据",size:18,disabled:!1}]),v=M=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((A,D)=>{const k=s.lf;M===1&&k.zoom(!0),M===6&&p("catData"),M===D&&k[A]()})},E=M=>{d.value=M};return N0(()=>{s.lf.on("history:change",({data:{undoAble:M,redoAble:A}})=>{Ro(O)[3].disabled=Ro(o).disabled=!M,Ro(O)[4].disabled=Ro(f).disabled=!A})}),(M,A)=>{const D=ua("ZoomOut"),k=ua("el-icon"),I=ua("ZoomIn"),C=ua("FullScreen"),L=ua("Back"),H=ua("Right"),V=ua("Download"),te=ua("View"),ue=ua("el-tooltip");return wr(),Qu("div",HE,[xs("ul",null,[(wr(!0),Qu(T0,null,D0(O.value,(ee,J)=>(wr(),Qu("li",{key:J,title:ee.text,class:"dark:text-bg_color",onMouseenter:Zm(Q=>E(J),["prevent"]),onMouseleave:A[0]||(A[0]=Zm(Q=>d.value=-1,["prevent"]))},[Ga(ue,{content:ee.text,visible:d.value===J,placement:"right"},{default:ca(()=>[xs("button",{ref_for:!0,ref:"controlButton"+J,disabled:ee.disabled,style:sx({cursor:ee.disabled===!1?"pointer":"not-allowed",color:ee.disabled===!1?"":"#00000040",background:"transparent"}),onClick:Q=>v(J)},[ee.text=="缩小"?(wr(),Ri(k,{key:0,size:ee.size},{default:ca(()=>[Ga(D)]),_:2},1032,["size"])):ee.text=="放大"?(wr(),Ri(k,{key:1,size:ee.size},{default:ca(()=>[Ga(I)]),_:2},1032,["size"])):ee.text=="适应"?(wr(),Ri(k,{key:2},{default:ca(()=>[Ga(C)]),_:1})):ee.text=="上一步"?(wr(),Ri(k,{key:3},{default:ca(()=>[Ga(L)]),_:1})):ee.text=="下一步"?(wr(),Ri(k,{key:4},{default:ca(()=>[Ga(H)]),_:1})):ee.text=="下载图片"?(wr(),Ri(k,{key:5},{default:ca(()=>[Ga(V)]),_:1})):(wr(),Ri(k,{key:6},{default:ca(()=>[Ga(te)]),_:1}))],12,GE)]),_:2},1032,["content","visible"])],40,UE))),128))])])}}}),WE=cg(YE,[["__scopeId","data-v-6aa1b26f"]]),VE=b=>(fx("data-v-22aec050"),b=b(),px(),b),$E={class:"full"},KE=VE(()=>xs("div",{id:"turbo"},null,-1)),qE=ug({name:"LogicFlow",__name:"index",setup(b){const y=Ya(null),s=Ya(null),p=Ya(!1),o=dx;function f(){kd.use(PE),kd.use(Rx),kd.use(kE);const v=new kd({container:document.querySelector("#turbo"),grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}});y.value=v,Ro(y).setDefaultEdgeType("bpmn:sequenceFlow"),d()}function d(){const v={nodes:[{id:"node_id_1",type:"rect",x:500,y:100,text:{x:500,y:100,value:"节点1"},properties:{}},{id:"node_id_2",type:"circle",x:600,y:300,text:{x:600,y:300,value:"节点2"},properties:{}}],edges:[{id:"edge_id",type:"polyline",sourceNodeId:"node_id_1",targetNodeId:"node_id_2",text:{x:539,y:200,value:"连线"},startPoint:{x:500,y:140},endPoint:{x:600,y:250},pointsList:[{x:500,y:140},{x:500,y:200},{x:600,y:200},{x:600,y:250}],properties:{}}]};y.value.render(v)}function O(){s.value=Ro(y).getGraphData(),p.value=!0}return N0(()=>{f()}),(v,E)=>{const M=lx;return wr(),Ri(M,null,{default:ca(()=>[xs("div",$E,[Ro(y)?(wr(),Ri(XE,{key:0,lf:Ro(y),nodeList:Ro(o)},null,8,["lf","nodeList"])):Kv("",!0),Ro(y)?(wr(),Ri(WE,{key:1,lf:Ro(y),catTurboData:!1,catData:O},null,8,["lf"])):Kv("",!0),KE])]),_:1})}}}),ej=cg(qE,[["__scopeId","data-v-22aec050"]]);export{ej as default};
