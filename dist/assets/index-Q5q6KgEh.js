
    /**
     * 由 Fantastic-admin 提供技术支持
     * Powered by Fantastic-admin
     * Gitee  https://fantastic-admin.gitee.io
     * Github https://fantastic-admin.github.io
     */
    
import{I as N,J as F,d as H,L as V,M as q,r as T,N as K,o as Q,O as X,P as Y,k as _,n as Z,B as $,g as h,f as v,e as f,q as w,H as b,i as W,Q as O,R as ee,S as oe,p as te,l as ae,_ as ne}from"./index-C-3tFKuV.js";var z={exports:{}};(function(x,y){(function(u,I){x.exports=I()})(N,function(){function u(e){var p=[];return e.AMapUI&&p.push(I(e.AMapUI)),e.Loca&&p.push(U(e.Loca)),Promise.all(p)}function I(e){return new Promise(function(p,s){var l=[];if(e.plugins)for(var i=0;i<e.plugins.length;i+=1)n.AMapUI.plugins.indexOf(e.plugins[i])==-1&&l.push(e.plugins[i]);if(c.AMapUI===a.failed)s("前次请求 AMapUI 失败");else if(c.AMapUI===a.notload){c.AMapUI=a.loading,n.AMapUI.version=e.version||n.AMapUI.version,i=n.AMapUI.version;var m=document.body||document.head,o=document.createElement("script");o.type="text/javascript",o.src="https://webapi.amap.com/ui/"+i+"/main.js",o.onerror=function(t){c.AMapUI=a.failed,s("请求 AMapUI 失败")},o.onload=function(){if(c.AMapUI=a.loaded,l.length)window.AMapUI.loadUI(l,function(){for(var t=0,d=l.length;t<d;t++){var r=l[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}for(p();g.AMapUI.length;)g.AMapUI.splice(0,1)[0]()});else for(p();g.AMapUI.length;)g.AMapUI.splice(0,1)[0]()},m.appendChild(o)}else c.AMapUI===a.loaded?e.version&&e.version!==n.AMapUI.version?s("不允许多个版本 AMapUI 混用"):l.length?window.AMapUI.loadUI(l,function(){for(var t=0,d=l.length;t<d;t++){var r=l[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}p()}):p():e.version&&e.version!==n.AMapUI.version?s("不允许多个版本 AMapUI 混用"):g.AMapUI.push(function(t){t?s(t):l.length?window.AMapUI.loadUI(l,function(){for(var d=0,r=l.length;d<r;d++){var M=l[d].split("/").slice(-1)[0];window.AMapUI[M]=arguments[d]}p()}):p()})})}function U(e){return new Promise(function(p,s){if(c.Loca===a.failed)s("前次请求 Loca 失败");else if(c.Loca===a.notload){c.Loca=a.loading,n.Loca.version=e.version||n.Loca.version;var l=n.Loca.version,i=n.AMap.version.startsWith("2"),m=l.startsWith("2");if(i&&!m||!i&&m)s("JSAPI 与 Loca 版本不对应！！");else{i=n.key,m=document.body||document.head;var o=document.createElement("script");o.type="text/javascript",o.src="https://webapi.amap.com/loca?v="+l+"&key="+i,o.onerror=function(t){c.Loca=a.failed,s("请求 AMapUI 失败")},o.onload=function(){for(c.Loca=a.loaded,p();g.Loca.length;)g.Loca.splice(0,1)[0]()},m.appendChild(o)}}else c.Loca===a.loaded?e.version&&e.version!==n.Loca.version?s("不允许多个版本 Loca 混用"):p():e.version&&e.version!==n.Loca.version?s("不允许多个版本 Loca 混用"):g.Loca.push(function(t){t?s(t):s()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(a||(a={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},c={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},g={AMap:[],AMapUI:[],Loca:[]},L=[],D=function(e){typeof e=="function"&&(c.AMap===a.loaded?e(window.AMap):L.push(e))};return{load:function(e){return new Promise(function(p,s){if(c.AMap==a.failed)s("");else if(c.AMap==a.notload){var l=e.key,i=e.version,m=e.plugins;l?(window.AMap&&location.host!=="lbs.amap.com"&&s("禁止多种API加载方式混用"),n.key=l,n.AMap.version=i||n.AMap.version,n.AMap.plugins=m||n.AMap.plugins,c.AMap=a.loading,i=document.body||document.head,window.___onAPILoaded=function(t){if(delete window.___onAPILoaded,t)c.AMap=a.failed,s(t);else for(c.AMap=a.loaded,u(e).then(function(){p(window.AMap)}).catch(s);L.length;)L.splice(0,1)[0]()},m=document.createElement("script"),m.type="text/javascript",m.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+l+"&plugin="+n.AMap.plugins.join(","),m.onerror=function(t){c.AMap=a.failed,s(t)},i.appendChild(m)):s("请填写key")}else if(c.AMap==a.loaded)if(e.key&&e.key!==n.key)s("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)s("不允许多个版本 JSAPI 混用");else{if(l=[],e.plugins)for(i=0;i<e.plugins.length;i+=1)n.AMap.plugins.indexOf(e.plugins[i])==-1&&l.push(e.plugins[i]);l.length?window.AMap.plugin(l,function(){u(e).then(function(){p(window.AMap)}).catch(s)}):u(e).then(function(){p(window.AMap)}).catch(s)}else if(e.key&&e.key!==n.key)s("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)s("不允许多个版本 JSAPI 混用");else{var o=[];if(e.plugins)for(i=0;i<e.plugins.length;i+=1)n.AMap.plugins.indexOf(e.plugins[i])==-1&&o.push(e.plugins[i]);D(function(){o.length?window.AMap.plugin(o,function(){u(e).then(function(){p(window.AMap)}).catch(s)}):u(e).then(function(){p(window.AMap)}).catch(s)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},c={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},g={AMap:[],AMapUI:[],Loca:[]}}}})})(z);var se=z.exports;const ie=F(se),re=x=>(te("data-v-c10b13dc"),x=x(),ae(),x),le=re(()=>f("div",{id:"mapContainer"},null,-1)),ue={class:"card-header"},ce={class:"city-info"},de={class:"city"},pe={class:"weather"},fe={class:"temp"},he={class:"detail"},ve={class:"card-header"},me={class:"card-header"},Me={class:"card-header"},ge=H({__name:"index",setup(x){const y=V(),u=q({charts:[],today:{},futureData:[]}),I=T([]),U=T([]),a=T(null);let n=T([113.27324,23.15792]);function c(){ie.load({key:"24fa3b244791dd89d4ad1c612c44ecc0",version:"2.0",plugins:["AMap.ToolBar","AMap.Scale","AMap.HawkEye","AMap.MapType","AMap.Geolocation","AMap.Geocoder","AMap.Weather","AMap.CitySearch","AMap.InfoWindow","AMap.Marker","AMap.Pixel"]}).then(o=>{a.value=new o.Map("mapContainer",{resizeEnable:!0,viewMode:"3D",zoom:10,center:n.value}),g(o),L(o)}).catch(o=>{console.log(o)})}const g=o=>{const t=new o.Geolocation({enableHighAccuracy:!0,timeout:1e3,position:"RB",offset:[10,20],zoomToAccuracy:!0});a.value.addControl(t),t.getCurrentPosition(function(d,r){d=="complete"?p(r):s(r)})},L=o=>{new o.CitySearch().getLocalCity(function(d,r){d==="complete"&&r.info==="OK"&&(console.log("🚀 ~ file: map-container.vue:88 ~ getCitySearch ~ result:",r),D(o,r.city))})},D=(o,t)=>{o.plugin("AMap.Weather",function(){var d=new o.Weather;d.getLive(t,function(r,M){r||(u.today=M)}),d.getForecast(t,function(r,M){console.log("🚀 ~ file: map-container.vue:186 ~ getWeather ~ data:",M),!r&&(u.futureData=M.forecasts,M.forecasts.forEach(A=>{U.value.push(A.date),I.value.push(A.dayTemp)}),e())})})},e=()=>{const o=O(y.value[0]);let t={grid:{top:10,left:35,right:20,bottom:20},tooltip:{trigger:"axis"},xAxis:{type:"category",axisLine:{lineStyle:{color:"#e4e7ed"}},axisLabel:{textStyle:{color:"#505050"}},splitLine:{show:!0},axisTick:{show:!1},data:U.value},yAxis:{type:"value",axisLine:{show:!0,lineStyle:{color:"#e4e7ed"}},axisLabel:{textStyle:{color:"#505050"}}},series:[{data:I.value,type:"line"}]};o.setOption(t),u.charts.push(o)};function p(o){console.log("🚀 ~ file: map-container.vue:107 ~ onComplete ~ data:",o);const t=[o.position.lng,o.position.lat];n.value=t}function s(o){console.log("🚀 ~ file: map-container.vue:113 ~ onError ~ data:",o)}const l=()=>{const o=O(y.value[1]),t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(d){var r=d[1];return r.name+"<br/>"+r.seriesName+" : "+r.value}},grid:{top:10,left:40,right:20,bottom:20},xAxis:{type:"category",axisLine:{lineStyle:{color:"#e4e7ed"}},axisLabel:{textStyle:{color:"#505050"}},splitLine:{show:!1},axisTick:{show:!1},data:["Total","Rent","Utilities","Transportation","Meals","Other"]},yAxis:{type:"value"},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[0,1700,1400,1200,300,0]},{name:"Life Cost",type:"bar",stack:"Total",label:{show:!0,position:"inside"},data:[2900,1200,300,200,900,300]}]};o.setOption(t),u.charts.push(o)},i=()=>{const o=O(y.value[2]),t=r(50),d={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:10,top:20,bottom:20,data:t.legendData,textStyle:{color:"#73767a"}},series:[{name:"姓氏",type:"pie",radius:"55%",center:["40%","50%"],data:t.seriesData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};function r(M){const A=["赵","钱","孙","李","周","吴","郑","王","冯","陈","褚","卫","蒋","沈","韩","杨","朱","秦","尤","许","何","吕","施","张","孔","曹","严","华","金","魏","陶","姜","戚","谢","邹","喻","柏","水","窦","章","云","苏","潘","葛","奚","范","彭","郎","鲁","韦","昌","马","苗","凤","花","方","俞","任","袁","柳","酆","鲍","史","唐","费","廉","岑","薛","雷","贺","倪","汤","滕","殷","罗","毕","郝","邬","安","常","乐","于","时","傅","皮","卞","齐","康","伍","余","元","卜","顾","孟","平","黄","和","穆","萧","尹","姚","邵","湛","汪","祁","毛","禹","狄","米","贝","明","臧","计","伏","成","戴","谈","宋","茅","庞","熊","纪","舒","屈","项","祝","董","梁","杜","阮","蓝","闵","席","季","麻","强","贾","路","娄","危"],C=[],S=[];for(var P=0;P<M;P++){var k=Math.random()>.65?E(4,1)+"·"+E(3,0):E(2,1);C.push(k),S.push({name:k,value:Math.round(Math.random()*1e5)})}return{legendData:C,seriesData:S};function E(R,G){const J=Math.ceil(Math.random()*R+G),B=[];for(var j=0;j<J;j++)B.push(A[Math.round(Math.random()*A.length-1)]);return B.join("")}}o.setOption(d),u.charts.push(o)},m=()=>{ee(()=>{for(const o in u.charts)u.charts[o].resize()})};return K(()=>{m()}),Q(()=>{c(),l(),i(),X(window,"resize",m)}),Y(()=>{for(const o in u.charts)u.charts[o].dispose()}),(o,t)=>{const d=_("MostlyCloudy"),r=_("el-icon"),M=_("el-card"),A=_("el-col"),C=_("Position"),S=_("PieChart"),P=_("el-row"),k=oe;return Z(),$(k,null,{default:h(()=>[le,v(P,{gutter:10},{default:h(()=>[v(A,{xs:24,sm:12,md:6,lg:6,xl:6},{default:h(()=>[v(M,{class:"box-card"},{header:h(()=>[f("div",ue,[f("span",null,[v(r,null,{default:h(()=>[v(d)]),_:1}),w(b(u.today.city)+"天气",1)])])]),default:h(()=>[f("div",ce,[f("p",de,b(u.today.city),1),f("p",pe,b(u.today.weather),1),f("h2",fe,[f("em",null,b(u.today.temperature),1),w("℃ ")]),f("div",he,[f("span",null,"风力："+b(u.today.windPower),1),w("| "),f("span",null,"风向："+b(u.today.windDirection),1),w("| "),f("span",null,"空气湿度："+b(u.today.humidity),1)])])]),_:1})]),_:1}),v(A,{xs:24,sm:12,md:6,lg:6,xl:6},{default:h(()=>[v(M,{class:"box-card"},{header:h(()=>[f("div",ve,[f("span",null,[v(r,null,{default:h(()=>[v(d)]),_:1}),w("未来四天天气")])])]),default:h(()=>[f("div",{class:"e-chart",ref:W(y).set},null,512)]),_:1})]),_:1}),v(A,{xs:24,sm:12,md:6,lg:6,xl:6},{default:h(()=>[v(M,{class:"box-card"},{header:h(()=>[f("div",me,[f("span",null,[v(r,null,{default:h(()=>[v(C)]),_:1}),w("瀑布图")])])]),default:h(()=>[f("div",{class:"e-chart",ref:W(y).set},null,512)]),_:1})]),_:1}),v(A,{xs:24,sm:12,md:6,lg:6,xl:6},{default:h(()=>[v(M,{class:"box-card"},{header:h(()=>[f("div",Me,[f("span",null,[v(r,null,{default:h(()=>[v(S)]),_:1}),w("饼图")])])]),default:h(()=>[f("div",{class:"e-chart",ref:W(y).set},null,512)]),_:1})]),_:1})]),_:1})]),_:1})}}}),ye=ne(ge,[["__scopeId","data-v-c10b13dc"]]);export{ye as default};
