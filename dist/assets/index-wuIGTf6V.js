
    /**
     * 由 Fantastic-admin 提供技术支持
     * Powered by Fantastic-admin
     * Gitee  https://fantastic-admin.gitee.io
     * Github https://fantastic-admin.github.io
     */
    
var y=Object.defineProperty;var M=(o,t,a)=>t in o?y(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a;var h=(o,t,a)=>(M(o,typeof t!="symbol"?t+"":t,a),a);import{r as p,x as A,er as f,es as z,d as I,a4 as L,o as O,b as X,n as E,c as Y,e as F,_ as k,B as N,g as V,f as $,i as q,S as G}from"./index-DGclp6VM.js";const H=o=>{const t=p(),a=e=>new Promise((s,_)=>{const c=new Image;c.src=e,c.onload=()=>{s(c)},c.onerror=i=>{_(i)}}),n=e=>{a(e).then(s=>{t.value=s}).catch(s=>{console.error(s)})};return A(o,(e,s)=>{e!==s&&n(e)}),n(o.value),{image:t}};class W{constructor(t){h(this,"orbitRadius");h(this,"radius");h(this,"orbitX");h(this,"orbitY");h(this,"timePassed");h(this,"speed");h(this,"alpha");const{w:a,h:n,maxStars:e}=t;this.orbitRadius=f(z(a,n)),this.radius=f(60,this.orbitRadius)/12,this.orbitX=a/2,this.orbitY=n/2,this.timePassed=f(0,e),this.speed=f(this.orbitRadius)/9e5,this.alpha=f(2,10)/1}draw(t,a){const n=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,e=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,s=f(10);s===1&&this.alpha>0?this.alpha-=.05:s===2&&this.alpha<1&&(this.alpha+=.05),t.globalAlpha=this.alpha,t.drawImage(a,n-this.radius/2,e-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed}}const j=I({__name:"index",props:{imageUrl:{},maxStars:{default:1200}},setup(o){const t=o,a=p(),n=p();let e;const s=L(t,"imageUrl"),{image:_}=H(s);function c(){const i=a.value,g=n.value;if(!g)throw new Error("canvas元素不能为空");const l=g.getContext("2d");if(!l)throw new Error("canvas元素不能为空");const b=g.width=i==null?void 0:i.offsetWidth,x=g.height=i==null?void 0:i.offsetHeight,R=217,S=p([]),C=t.maxStars,B=p(0),v=document.createElement("canvas"),u=v.getContext("2d");if(!u)throw new Error("canvas获取context失败！");v.width=100,v.height=100;const d=v.width/2,w=u.createRadialGradient(d,d,0,d,d,d);w.addColorStop(.025,"#fff"),w.addColorStop(.1,"hsl("+R+", 61%, 33%)"),w.addColorStop(.25,"hsl("+R+", 64%, 6%)"),w.addColorStop(1,"transparent"),u.fillStyle=w,u.beginPath(),u.arc(d,d,d,0,Math.PI*2),u.fill();for(let r=0;r<C;r++){const m={w:b,h:x,maxStars:C},U=new W(m);S.value.push(U),B.value++}const P=()=>{if(l.globalCompositeOperation="source-over",l.globalAlpha=.8,l.fillStyle="hsla("+R+", 64%, 6%, 1)",l.fillRect(0,0,b,x),_.value){const{width:r,height:m}=_.value;l.drawImage(_.value,b/2-r/2,x/2-m/2,r,m)}l.globalCompositeOperation="lighter";for(let r=1,m=S.value.length;r<m;r++)S.value[r].draw(l,v);e=window.requestAnimationFrame(P)};P()}return O(()=>{c(),window.addEventListener("resize",c)}),X(()=>{e&&window.cancelAnimationFrame(e),window.removeEventListener("resize",c)}),(i,g)=>(E(),Y("div",{class:"container",ref_key:"containerRef",ref:a},[F("canvas",{ref_key:"canvasRef",ref:n,class:"star-bg-canvas"},null,512)],512))}}),D=k(j,[["__scopeId","data-v-a05d2421"]]),J=I({__name:"index",setup(o){const t=p("./vite.svg");return(a,n)=>{const e=D,s=G;return E(),N(s,null,{default:V(()=>[$(e,{imageUrl:q(t)},null,8,["imageUrl"])]),_:1})}}}),T=k(J,[["__scopeId","data-v-b4177074"]]);export{T as default};
