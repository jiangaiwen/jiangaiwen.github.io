import{d as O,t as r,e as X,R as V,r as n,S as Y,o as t,f,g,h as u,w as l,F as x,y as A,U as N,c as d,x as U,V as Z,C as _,v as $,m as P,u as ee,L as le,k as ae,E as j}from"./vue.06dd128b.js";import{_ as te}from"./index.6a4f60aa.js";const ne={class:"pro-table"},ue={class:"header"},oe={class:"search"},se={class:"footer"},re={class:"operator"},ce={class:"table"},ie={key:0},de={class:"pagination"},pe=O({__name:"index",props:{columns:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["reset","onSubmit","selection-change"],setup(b,{emit:c}){const C=b,y=r(),v=r(1),p=r(!1),D=a=>{console.log(`${a} items per page`)},S=a=>{console.log(`current page: ${a}`),v.value=a},k=X(()=>JSON.parse(JSON.stringify(C.data)).splice((v.value-1)*10,10));r(!1);let F={},o=[];for(let a of C.columns)a.inSearch&&(F[a.name]=null),a.inSearch&&o.push(a);const B=r(o),i=V(F),w=()=>{console.log("submit!",i),c("onSubmit",i)},h=a=>{B.value.forEach(s=>{i[s.name]=null}),c("reset")};return(a,s)=>{const R=n("el-input"),q=n("el-option"),I=n("el-select"),J=n("el-form-item"),L=n("el-form"),T=n("el-button"),M=n("arrow-down"),G=n("arrow-up"),H=n("el-icon"),z=n("el-table-column"),K=n("el-table"),Q=n("el-pagination"),W=Y("loading");return t(),f("div",ne,[g("div",ue,[u(L,{inline:!0,class:"search-form",model:i,ref_key:"ruleFormRef",ref:y},{default:l(()=>[(t(!0),f(x,null,A(B.value,(e,E)=>N((t(),d(J,{key:E,label:e.label},{default:l(()=>[e.valueType==="input"?(t(),d(R,{key:0,modelValue:i[e.name],"onUpdate:modelValue":m=>i[e.name]=m,placeholder:`\u8BF7\u8F93\u5165${e.label}`},null,8,["modelValue","onUpdate:modelValue","placeholder"])):U("",!0),e.valueType==="select"?(t(),d(I,{key:1,style:{width:"100%"},modelValue:i[e.name],"onUpdate:modelValue":m=>i[e.name]=m,placeholder:`\u8BF7\u9009\u62E9${e.label}`},{default:l(()=>[(t(!0),f(x,null,A(e.options,m=>(t(),d(q,{key:m.value,label:m.label,value:m.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):U("",!0)]),_:2},1032,["label"])),[[Z,p.value?p.value:E<2]])),128))]),_:1},8,["model"]),g("div",oe,[u(T,{type:"primary",onClick:w},{default:l(()=>[_("\u67E5\u8BE2")]),_:1}),u(T,{onClick:s[0]||(s[0]=e=>h(y.value))},{default:l(()=>[_("\u91CD\u7F6E")]),_:1}),u(T,{link:"",type:"primary",onClick:s[1]||(s[1]=e=>p.value=!p.value)},{default:l(()=>[_($(p.value?"\u5408\u5E76":"\u5C55\u5F00"),1),u(H,null,{default:l(()=>[p.value?(t(),d(G,{key:1})):(t(),d(M,{key:0}))]),_:1})]),_:1})])]),g("div",se,[g("div",re,[P(a.$slots,"btn",{},void 0,!0)]),g("div",ce,[N((t(),d(K,{class:"zb-table",onSelectionChange:s[2]||(s[2]=e=>c("selection-change",e)),data:ee(k),border:!0},{default:l(()=>[(t(!0),f(x,null,A(b.columns,e=>(t(),f(x,null,[e.type?(t(),d(z,{key:0,type:e.type,width:e.width,align:e.align||"center",fixed:e.fixed,label:e.label},null,8,["type","width","align","fixed","label"])):(t(),d(z,{key:1,prop:e.name,width:e.width,align:e.align||"center",fixed:e.fixed,label:e.label},{default:l(E=>[e.slot?P(a.$slots,e.name,{key:1,item:e,row:E.row},void 0,!0):(t(),f("span",ie,$(E.row[e.name]),1))]),_:2},1032,["prop","width","align","fixed","label"]))],64))),256))]),_:3},8,["data"])),[[W,b.loading]])]),g("div",de,[u(Q,{currentPage:v.value,"onUpdate:currentPage":s[3]||(s[3]=e=>v.value=e),"page-size":10,background:"",layout:"total, sizes, prev, pager, next, jumper",total:b.data.length,onSizeChange:D,onCurrentChange:S},null,8,["currentPage","total"])])])])}}});var _e=te(pe,[["__scopeId","data-v-d98989e2"]]);const me={style:{display:"flex","justify-content":"flex-end"}},ve=O({__name:"list",setup(b){const c=r(!0),C=r(null),y=[];for(let o=0;o<100;o++)y.push({date:"2016-05-02",name:"\u738B\u4E94"+o,price:1+o,province:"\u4E0A\u6D77",admin:"admin",sex:o%2?1:0,checked:!0,id:o+1,age:0,city:"\u666E\u9640\u533A",address:"\u4E0A\u6D77\u5E02\u666E\u4E0A\u6D77",zip:200333});const v=[{type:"selection",width:60,fixed:"left"},{name:"name",label:"\u59D3\u540D",inSearch:!0,valueType:"input",width:80},{name:"age",label:"\u5E74\u9F84",align:"right"},{name:"sex",label:"\u6027\u522B",slot:!0,inSearch:!0,options:[{value:1,label:"\u7537"},{value:0,label:"\u5973"}],valueType:"select"},{name:"price",label:"\u4EF7\u683C",inSearch:!0,valueType:"input"},{name:"admin",label:"\u8D26\u53F7",inSearch:!0,valueType:"input"},{name:"address",label:"\u5730\u5740",inSearch:!0,valueType:"input",width:180},{name:"date",label:"\u65E5\u671F",sorter:!0,inSearch:!0,valueType:"input",width:180},{name:"province",label:"\u7701\u4EFD",width:100},{name:"city",label:"\u57CE\u5E02"},{name:"zip",label:"\u90AE\u7F16"},{name:"operation",slot:!0,fixed:"right",width:200,label:"\u64CD\u4F5C"}],p=r(y),D=r([]);r("default"),r(),V({name:"",sex:null,price:null}),V({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u6D3B\u52A8\u540D\u79F0\u6D3B\u52A8\u533A\u57DF",trigger:"blur"},{min:3,max:5,message:"\u957F\u5EA6\u5728 3 \u5230 5 \u4E2A\u5B57\u7B26",trigger:"blur"}],price:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EF7\u683C",trigger:"blur"}],sex:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B",trigger:"change"}]});const S=()=>{c.value=!0,setTimeout(()=>{c.value=!1},500),j.success("\u89E6\u53D1\u91CD\u7F6E\u65B9\u6CD5")},k=o=>{console.log("val===",o),j.success("\u89E6\u53D1\u67E5\u8BE2\u65B9\u6CD5"),c.value=!0,setTimeout(()=>{c.value=!1},500)},F=o=>{D.value=o};return le(()=>{ae(()=>{}),setTimeout(()=>{c.value=!1},500)}),(o,B)=>{const i=n("plus"),w=n("el-icon"),h=n("el-button"),a=n("delete");return t(),f("div",{class:"full",ref_key:"appContainer",ref:C},[u(_e,{loading:c.value,onSelectionChange:F,columns:v,data:p.value,onReset:S,onOnSubmit:k},{btn:l(()=>[g("div",me,[u(h,{type:"primary"},{default:l(()=>[u(w,null,{default:l(()=>[u(i)]),_:1}),_("\u6DFB\u52A0 ")]),_:1}),u(h,{type:"danger"},{default:l(()=>[u(w,null,{default:l(()=>[u(a)]),_:1}),_("\u5220\u9664 ")]),_:1})])]),sex:l(s=>[_($(s.row.sex?"\u7537":"\u5973"),1)]),operation:l(s=>[u(h,{type:"primary",size:"small",icon:"Edit"},{default:l(()=>[_(" \u7F16\u8F91 ")]),_:1}),u(h,{type:"danger",size:"small",icon:"Delete"},{default:l(()=>[_(" \u5220\u9664 ")]),_:1})]),_:1},8,["loading","data"])],512)}}});export{ve as default};
