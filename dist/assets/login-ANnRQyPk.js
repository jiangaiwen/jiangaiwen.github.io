
    /**
     * 由 Fantastic-admin 提供技术支持
     * Powered by Fantastic-admin
     * Gitee  https://fantastic-admin.gitee.io
     * Github https://fantastic-admin.github.io
     */
    
var R=Object.defineProperty;var T=(t,n,c)=>n in t?R(t,n,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[n]=c;var d=(t,n,c)=>(T(t,typeof n!="symbol"?n+"":n,c),c);import{d as N,u as P,a as A,r as u,o as H,b as K,c as W,e as m,w as j,f as o,g as a,h as D,i as l,j as G,k as r,p as J,l as O,m as Q,n as X,q as Y,_ as Z}from"./index-DMSqAzil.js";import $ from"./index-Dq2dNLF1.js";const e={width:0,height:0,bubbleEl:null,canvas:null,ctx:{},circles:[],animate:!0,requestId:null},ee=function(){e.width=window.innerWidth,e.height=window.innerHeight,e.bubbleEl=document.getElementById("bubble"),e.bubbleEl.style.height=e.height+"px",e.canvas=document.getElementById("bubble-canvas"),e.canvas.width=e.width,e.canvas.height=e.height,e.ctx=e.canvas.getContext("2d"),e.circles=[];for(let t=0;t<e.width*.5;t++){const n=new te;e.circles.push(n)}I(),oe()};function y(){e.animate=!(document.body.scrollTop>e.height)}function S(){e.width=window.innerWidth,e.height=window.innerHeight,e.bubbleEl.style.height=e.height+"px",e.canvas.width=e.width,e.canvas.height=e.height}function I(){if(e.animate){e.ctx.clearRect(0,0,e.width,e.height);for(const t in e.circles)e.circles[t].draw()}e.requestId=requestAnimationFrame(I)}class te{constructor(){d(this,"pos");d(this,"alpha");d(this,"scale");d(this,"velocity");d(this,"draw");this.pos={x:Math.random()*e.width,y:e.height+Math.random()*100},this.alpha=.1+Math.random()*.3,this.scale=.1+Math.random()*.3,this.velocity=Math.random(),this.draw=function(){this.pos.y-=this.velocity,this.alpha-=5e-4,e.ctx.beginPath(),e.ctx.arc(this.pos.x,this.pos.y,this.scale*10,0,2*Math.PI,!1),e.ctx.fillStyle="rgba(255,255,255,"+this.alpha+")",e.ctx.fill()}}}function oe(){window.addEventListener("scroll",y),window.addEventListener("resize",S)}function ne(){window.removeEventListener("scroll",y),window.removeEventListener("resize",S),cancelAnimationFrame(e.requestId)}const V=t=>(J("data-v-9b2486de"),t=t(),O(),t),se={class:"login"},ae=V(()=>m("canvas",{id:"bubble-canvas",class:"bubble-canvas"},null,-1)),le=[ae],ie={class:"login-wrapper"},re=V(()=>m("div",{class:"head"},null,-1)),ce={class:"form"},de=N({name:"Login",__name:"login",setup(t){var f;var n;const c=G(),E=Q(),k=P(),L=A();u("login");const p=u(!1),C=u(((f=c.query.redirect)==null?void 0:f.toString())??k.settings.home.fullPath),g=u(),s=u({account:localStorage.login_account||"admin",password:"123456",remember:!!localStorage.login_account}),q=u({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function b(){g.value&&g.value.validate(w=>{w&&(p.value=!0,L.login(s.value).then(()=>{p.value=!1,s.value.remember?localStorage.setItem("login_account",s.value.account):localStorage.removeItem("login_account"),E.push(C.value)}).catch(()=>{p.value=!1}))})}return H(()=>{n=setTimeout(()=>{ee()},1e3)}),K(()=>{clearTimeout(n),ne()}),(w,i)=>{const M=r("UserFilled"),v=r("el-icon"),x=r("el-input"),_=r("el-form-item"),F=r("Lock"),U=r("el-checkbox"),z=r("el-button"),B=r("el-form");return X(),W("div",se,[m("div",{onContextmenu:i[0]||(i[0]=j(()=>{},["stop"])),id:"bubble",class:"bubble"},le,32),m("div",ie,[re,m("div",ce,[o(B,{onKeyup:D(b,["enter"]),ref_key:"loginFormRef",ref:g,rules:l(q),model:l(s)},{default:a(()=>[o(_,{prop:"account"},{default:a(()=>[o(x,{type:"text",clearable:"",modelValue:l(s).account,"onUpdate:modelValue":i[1]||(i[1]=h=>l(s).account=h),placeholder:"请输入账号"},{prefix:a(()=>[o(v,{size:"20"},{default:a(()=>[o(M)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(_,{prop:"password"},{default:a(()=>[o(x,{modelValue:l(s).password,"onUpdate:modelValue":i[2]||(i[2]=h=>l(s).password=h),type:"password",placeholder:"请输入密码","show-password":""},{prefix:a(()=>[o(v,{size:"20"},{default:a(()=>[o(F)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(U,{modelValue:l(s).remember,"onUpdate:modelValue":i[3]||(i[3]=h=>l(s).remember=h),label:"记住密码",size:"default"},null,8,["modelValue"]),o(_,null,{default:a(()=>[o(z,{loading:l(p),class:"submit-button",type:"primary",style:{width:"100%"},onClick:b},{default:a(()=>[Y("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["rules","model"])])]),o($)])}}}),pe=Z(de,[["__scopeId","data-v-9b2486de"]]);export{pe as default};
